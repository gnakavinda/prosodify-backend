/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/auth/login/route";
exports.ids = ["app/api/auth/login/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = require("child_process");

/***/ }),

/***/ "constants":
/*!****************************!*\
  !*** external "constants" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("constants");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "dgram":
/*!************************!*\
  !*** external "dgram" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("dgram");

/***/ }),

/***/ "dns":
/*!**********************!*\
  !*** external "dns" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("dns");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("fs/promises");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:crypto");

/***/ }),

/***/ "node:events":
/*!******************************!*\
  !*** external "node:events" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:events");

/***/ }),

/***/ "node:http":
/*!****************************!*\
  !*** external "node:http" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:http");

/***/ }),

/***/ "node:https":
/*!*****************************!*\
  !*** external "node:https" ***!
  \*****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:https");

/***/ }),

/***/ "node:os":
/*!**************************!*\
  !*** external "node:os" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:os");

/***/ }),

/***/ "node:process":
/*!*******************************!*\
  !*** external "node:process" ***!
  \*******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:process");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:stream");

/***/ }),

/***/ "node:url":
/*!***************************!*\
  !*** external "node:url" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:url");

/***/ }),

/***/ "node:util":
/*!****************************!*\
  !*** external "node:util" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:util");

/***/ }),

/***/ "node:zlib":
/*!****************************!*\
  !*** external "node:zlib" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:zlib");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "string_decoder":
/*!*********************************!*\
  !*** external "string_decoder" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("string_decoder");

/***/ }),

/***/ "timers":
/*!*************************!*\
  !*** external "timers" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("timers");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "?d272":
/*!********************************!*\
  !*** supports-color (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Flogin%2Froute&page=%2Fapi%2Fauth%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Flogin%2Froute.ts&appDir=D%3A%5Cprosodify-backend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cprosodify-backend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Flogin%2Froute&page=%2Fapi%2Fauth%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Flogin%2Froute.ts&appDir=D%3A%5Cprosodify-backend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cprosodify-backend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var D_prosodify_backend_app_api_auth_login_route_ts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/api/auth/login/route.ts */ \"(rsc)/./app/api/auth/login/route.ts\");\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/auth/login/route\",\n        pathname: \"/api/auth/login\",\n        filename: \"route\",\n        bundlePath: \"app/api/auth/login/route\"\n    },\n    resolvedPagePath: \"D:\\\\prosodify-backend\\\\app\\\\api\\\\auth\\\\login\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_prosodify_backend_app_api_auth_login_route_ts__WEBPACK_IMPORTED_MODULE_2__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/auth/login/route\";\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhdXRoJTJGbG9naW4lMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmF1dGglMkZsb2dpbiUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmF1dGglMkZsb2dpbiUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDcHJvc29kaWZ5LWJhY2tlbmQlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUQlM0ElNUNwcm9zb2RpZnktYmFja2VuZCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDb0I7QUFDbkY7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDaUo7O0FBRWpKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvc29kaWZ5LWJhY2tlbmQvP2M5NjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRDpcXFxccHJvc29kaWZ5LWJhY2tlbmRcXFxcYXBwXFxcXGFwaVxcXFxhdXRoXFxcXGxvZ2luXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hdXRoL2xvZ2luL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYXV0aC9sb2dpblwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYXV0aC9sb2dpbi9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkQ6XFxcXHByb3NvZGlmeS1iYWNrZW5kXFxcXGFwcFxcXFxhcGlcXFxcYXV0aFxcXFxsb2dpblxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9hdXRoL2xvZ2luL3JvdXRlXCI7XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCwgb3JpZ2luYWxQYXRobmFtZSwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Flogin%2Froute&page=%2Fapi%2Fauth%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Flogin%2Froute.ts&appDir=D%3A%5Cprosodify-backend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cprosodify-backend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/auth/login/route.ts":
/*!*************************************!*\
  !*** ./app/api/auth/login/route.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jsonwebtoken */ \"(rsc)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_database__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../lib/database */ \"(rsc)/./lib/database.ts\");\n// app/api/auth/login/route.ts\n\n\n\n\nasync function POST(request) {\n    try {\n        const { email, password } = await request.json();\n        if (!email || !password) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"Email and password are required\"\n            }, {\n                status: 400\n            });\n        }\n        // Find user in Azure SQL Database\n        const user = await (0,_lib_database__WEBPACK_IMPORTED_MODULE_3__.findUserByEmail)(email);\n        if (!user) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"Invalid email or password\"\n            }, {\n                status: 401\n            });\n        }\n        // Check password\n        const isValidPassword = await bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().compare(password, user.password);\n        if (!isValidPassword) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"Invalid email or password\"\n            }, {\n                status: 401\n            });\n        }\n        // Update login tracking\n        await (0,_lib_database__WEBPACK_IMPORTED_MODULE_3__.updateLoginTracking)(user.id);\n        // Generate JWT token\n        const token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default().sign({\n            userId: user.id,\n            email: user.email\n        }, process.env.JWT_SECRET, {\n            expiresIn: \"7d\"\n        });\n        // Return user data without password\n        const userResponse = {\n            id: user.id,\n            email: user.email,\n            name: user.name,\n            createdAt: user.createdAt\n        };\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            message: \"Login successful\",\n            user: userResponse,\n            token\n        });\n    } catch (error) {\n        console.error(\"Login error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            message: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2F1dGgvbG9naW4vcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLDhCQUE4QjtBQUN5QjtBQUMxQjtBQUNDO0FBQ2lEO0FBRXhFLGVBQWVLLEtBQUtDLE9BQW9CO0lBQzdDLElBQUk7UUFDRixNQUFNLEVBQUVDLEtBQUssRUFBRUMsUUFBUSxFQUFFLEdBQUcsTUFBTUYsUUFBUUcsSUFBSTtRQUU5QyxJQUFJLENBQUNGLFNBQVMsQ0FBQ0MsVUFBVTtZQUN2QixPQUFPUixrRkFBWUEsQ0FBQ1MsSUFBSSxDQUN0QjtnQkFBRUMsU0FBUztZQUFrQyxHQUM3QztnQkFBRUMsUUFBUTtZQUFJO1FBRWxCO1FBRUEsa0NBQWtDO1FBQ2xDLE1BQU1DLE9BQU8sTUFBTVQsOERBQWVBLENBQUNJO1FBQ25DLElBQUksQ0FBQ0ssTUFBTTtZQUNULE9BQU9aLGtGQUFZQSxDQUFDUyxJQUFJLENBQ3RCO2dCQUFFQyxTQUFTO1lBQTRCLEdBQ3ZDO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFFQSxpQkFBaUI7UUFDakIsTUFBTUUsa0JBQWtCLE1BQU1aLHVEQUFjLENBQUNPLFVBQVVJLEtBQUtKLFFBQVE7UUFDcEUsSUFBSSxDQUFDSyxpQkFBaUI7WUFDcEIsT0FBT2Isa0ZBQVlBLENBQUNTLElBQUksQ0FDdEI7Z0JBQUVDLFNBQVM7WUFBNEIsR0FDdkM7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtRQUVBLHdCQUF3QjtRQUN4QixNQUFNUCxrRUFBbUJBLENBQUNRLEtBQUtHLEVBQUU7UUFFakMscUJBQXFCO1FBQ3JCLE1BQU1DLFFBQVFkLHdEQUFRLENBQ3BCO1lBQUVnQixRQUFRTixLQUFLRyxFQUFFO1lBQUVSLE9BQU9LLEtBQUtMLEtBQUs7UUFBQyxHQUNyQ1ksUUFBUUMsR0FBRyxDQUFDQyxVQUFVLEVBQ3RCO1lBQUVDLFdBQVc7UUFBSztRQUdwQixvQ0FBb0M7UUFDcEMsTUFBTUMsZUFBZTtZQUNuQlIsSUFBSUgsS0FBS0csRUFBRTtZQUNYUixPQUFPSyxLQUFLTCxLQUFLO1lBQ2pCaUIsTUFBTVosS0FBS1ksSUFBSTtZQUNmQyxXQUFXYixLQUFLYSxTQUFTO1FBQzNCO1FBRUEsT0FBT3pCLGtGQUFZQSxDQUFDUyxJQUFJLENBQUM7WUFDdkJDLFNBQVM7WUFDVEUsTUFBTVc7WUFDTlA7UUFDRjtJQUVGLEVBQUUsT0FBT1UsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsZ0JBQWdCQTtRQUM5QixPQUFPMUIsa0ZBQVlBLENBQUNTLElBQUksQ0FDdEI7WUFBRUMsU0FBUztRQUF3QixHQUNuQztZQUFFQyxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb3NvZGlmeS1iYWNrZW5kLy4vYXBwL2FwaS9hdXRoL2xvZ2luL3JvdXRlLnRzPzRmMjQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gYXBwL2FwaS9hdXRoL2xvZ2luL3JvdXRlLnRzXHJcbmltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcclxuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcydcclxuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nXHJcbmltcG9ydCB7IGZpbmRVc2VyQnlFbWFpbCwgdXBkYXRlTG9naW5UcmFja2luZyB9IGZyb20gJy4uLy4uLy4uLy4uL2xpYi9kYXRhYmFzZSdcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgZW1haWwsIHBhc3N3b3JkIH0gPSBhd2FpdCByZXF1ZXN0Lmpzb24oKVxyXG5cclxuICAgIGlmICghZW1haWwgfHwgIXBhc3N3b3JkKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IG1lc3NhZ2U6ICdFbWFpbCBhbmQgcGFzc3dvcmQgYXJlIHJlcXVpcmVkJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxyXG4gICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgLy8gRmluZCB1c2VyIGluIEF6dXJlIFNRTCBEYXRhYmFzZVxyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IGZpbmRVc2VyQnlFbWFpbChlbWFpbClcclxuICAgIGlmICghdXNlcikge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBtZXNzYWdlOiAnSW52YWxpZCBlbWFpbCBvciBwYXNzd29yZCcgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAxIH1cclxuICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNrIHBhc3N3b3JkXHJcbiAgICBjb25zdCBpc1ZhbGlkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgdXNlci5wYXNzd29yZClcclxuICAgIGlmICghaXNWYWxpZFBhc3N3b3JkKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IG1lc3NhZ2U6ICdJbnZhbGlkIGVtYWlsIG9yIHBhc3N3b3JkJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDEgfVxyXG4gICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXBkYXRlIGxvZ2luIHRyYWNraW5nXHJcbiAgICBhd2FpdCB1cGRhdGVMb2dpblRyYWNraW5nKHVzZXIuaWQpXHJcblxyXG4gICAgLy8gR2VuZXJhdGUgSldUIHRva2VuXHJcbiAgICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKFxyXG4gICAgICB7IHVzZXJJZDogdXNlci5pZCwgZW1haWw6IHVzZXIuZW1haWwgfSxcclxuICAgICAgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCEsXHJcbiAgICAgIHsgZXhwaXJlc0luOiAnN2QnIH1cclxuICAgIClcclxuXHJcbiAgICAvLyBSZXR1cm4gdXNlciBkYXRhIHdpdGhvdXQgcGFzc3dvcmRcclxuICAgIGNvbnN0IHVzZXJSZXNwb25zZSA9IHtcclxuICAgICAgaWQ6IHVzZXIuaWQsXHJcbiAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgICBuYW1lOiB1c2VyLm5hbWUsXHJcbiAgICAgIGNyZWF0ZWRBdDogdXNlci5jcmVhdGVkQXRcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiAnTG9naW4gc3VjY2Vzc2Z1bCcsXHJcbiAgICAgIHVzZXI6IHVzZXJSZXNwb25zZSxcclxuICAgICAgdG9rZW5cclxuICAgIH0pXHJcblxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdMb2dpbiBlcnJvcjonLCBlcnJvcilcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBtZXNzYWdlOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgIClcclxuICB9XHJcbn0iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiYmNyeXB0Iiwiand0IiwiZmluZFVzZXJCeUVtYWlsIiwidXBkYXRlTG9naW5UcmFja2luZyIsIlBPU1QiLCJyZXF1ZXN0IiwiZW1haWwiLCJwYXNzd29yZCIsImpzb24iLCJtZXNzYWdlIiwic3RhdHVzIiwidXNlciIsImlzVmFsaWRQYXNzd29yZCIsImNvbXBhcmUiLCJpZCIsInRva2VuIiwic2lnbiIsInVzZXJJZCIsInByb2Nlc3MiLCJlbnYiLCJKV1RfU0VDUkVUIiwiZXhwaXJlc0luIiwidXNlclJlc3BvbnNlIiwibmFtZSIsImNyZWF0ZWRBdCIsImVycm9yIiwiY29uc29sZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/auth/login/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/database.ts":
/*!*************************!*\
  !*** ./lib/database.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createUser: () => (/* binding */ createUser),\n/* harmony export */   findUserByEmail: () => (/* binding */ findUserByEmail),\n/* harmony export */   findUserById: () => (/* binding */ findUserById),\n/* harmony export */   getDbConnection: () => (/* binding */ getDbConnection),\n/* harmony export */   getUserLoginHistory: () => (/* binding */ getUserLoginHistory),\n/* harmony export */   initializeDatabase: () => (/* binding */ initializeDatabase),\n/* harmony export */   updateLoginTracking: () => (/* binding */ updateLoginTracking)\n/* harmony export */ });\n/* harmony import */ var mssql__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mssql */ \"(rsc)/./node_modules/mssql/index.js\");\n/* harmony import */ var mssql__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mssql__WEBPACK_IMPORTED_MODULE_0__);\n// lib/database.ts\n\nconst config = {\n    server: process.env.AZURE_SQL_SERVER,\n    database: process.env.AZURE_SQL_DATABASE,\n    authentication: {\n        type: \"default\",\n        options: {\n            userName: process.env.AZURE_SQL_USERNAME,\n            password: process.env.AZURE_SQL_PASSWORD\n        }\n    },\n    options: {\n        encrypt: true,\n        enableArithAbort: true\n    }\n};\nlet pool;\nasync function getDbConnection() {\n    if (!pool) {\n        pool = new (mssql__WEBPACK_IMPORTED_MODULE_0___default().ConnectionPool)(config);\n        await pool.connect();\n    }\n    return pool;\n}\n// Initialize database tables\nasync function initializeDatabase() {\n    try {\n        const pool = await getDbConnection();\n        // Create users table\n        await pool.request().query(`\r\n      IF NOT EXISTS (SELECT * FROM sysobjects WHERE name='users' AND xtype='U')\r\n      CREATE TABLE users (\r\n        id NVARCHAR(50) PRIMARY KEY,\r\n        email NVARCHAR(255) UNIQUE NOT NULL,\r\n        name NVARCHAR(255) NOT NULL,\r\n        password NVARCHAR(255) NOT NULL,\r\n        createdAt DATETIME2 DEFAULT GETDATE(),\r\n        updatedAt DATETIME2 DEFAULT GETDATE()\r\n      )\r\n    `);\n        // Create audio_files table for TTS history\n        await pool.request().query(`\r\n      IF NOT EXISTS (SELECT * FROM sysobjects WHERE name='audio_files' AND xtype='U')\r\n      CREATE TABLE audio_files (\r\n        id NVARCHAR(50) PRIMARY KEY,\r\n        userId NVARCHAR(50) NOT NULL,\r\n        filename NVARCHAR(255) NOT NULL,\r\n        text NVARCHAR(MAX) NOT NULL,\r\n        voice NVARCHAR(100),\r\n        settings NVARCHAR(MAX), -- JSON string of voice settings\r\n        createdAt DATETIME2 DEFAULT GETDATE(),\r\n        FOREIGN KEY (userId) REFERENCES users(id)\r\n      )\r\n    `);\n        console.log(\"Database tables initialized successfully\");\n    } catch (error) {\n        console.error(\"Database initialization error:\", error);\n        throw error;\n    }\n}\n// User operations\nasync function createUser(user) {\n    const pool = await getDbConnection();\n    await pool.request().input(\"id\", mssql__WEBPACK_IMPORTED_MODULE_0___default().NVarChar(50), user.id).input(\"email\", mssql__WEBPACK_IMPORTED_MODULE_0___default().NVarChar(255), user.email).input(\"name\", mssql__WEBPACK_IMPORTED_MODULE_0___default().NVarChar(255), user.name).input(\"password\", mssql__WEBPACK_IMPORTED_MODULE_0___default().NVarChar(255), user.password).query(`\r\n      INSERT INTO users (id, email, name, password)\r\n      VALUES (@id, @email, @name, @password)\r\n    `);\n}\nasync function findUserByEmail(email) {\n    const pool = await getDbConnection();\n    const result = await pool.request().input(\"email\", mssql__WEBPACK_IMPORTED_MODULE_0___default().NVarChar(255), email.toLowerCase()).query(\"SELECT * FROM users WHERE email = @email\");\n    return result.recordset[0] || null;\n}\nasync function findUserById(id) {\n    const pool = await getDbConnection();\n    const result = await pool.request().input(\"id\", mssql__WEBPACK_IMPORTED_MODULE_0___default().NVarChar(50), id).query(\"SELECT * FROM users WHERE id = @id\");\n    return result.recordset[0] || null;\n}\n// Login tracking functions\nasync function updateLoginTracking(userId) {\n    const pool = await getDbConnection();\n    await pool.request().input(\"userId\", mssql__WEBPACK_IMPORTED_MODULE_0___default().NVarChar(50), userId).query(`\r\n      UPDATE users \r\n      SET last_login_at = GETDATE(),\r\n          login_count = ISNULL(login_count, 0) + 1\r\n      WHERE id = @userId\r\n    `);\n}\nasync function getUserLoginHistory(userId) {\n    const pool = await getDbConnection();\n    const result = await pool.request().input(\"userId\", mssql__WEBPACK_IMPORTED_MODULE_0___default().NVarChar(50), userId).query(`\r\n      SELECT \r\n        id, email, name, \r\n        last_login_at, \r\n        login_count,\r\n        createdAt\r\n      FROM users \r\n      WHERE id = @userId\r\n    `);\n    return result.recordset[0] || null;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ozs7Ozs7SUFRUixDQUFDO0lBRUgsT0FBT1ksT0FBT0UsU0FBUyxDQUFDLEVBQUUsSUFBSTtBQUNoQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb3NvZGlmeS1iYWNrZW5kLy4vbGliL2RhdGFiYXNlLnRzPzRkNDkiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gbGliL2RhdGFiYXNlLnRzXHJcbmltcG9ydCBzcWwgZnJvbSAnbXNzcWwnXHJcblxyXG5jb25zdCBjb25maWc6IHNxbC5jb25maWcgPSB7XHJcbiAgc2VydmVyOiBwcm9jZXNzLmVudi5BWlVSRV9TUUxfU0VSVkVSISxcclxuICBkYXRhYmFzZTogcHJvY2Vzcy5lbnYuQVpVUkVfU1FMX0RBVEFCQVNFISxcclxuICBhdXRoZW50aWNhdGlvbjoge1xyXG4gICAgdHlwZTogJ2RlZmF1bHQnLFxyXG4gICAgb3B0aW9uczoge1xyXG4gICAgICB1c2VyTmFtZTogcHJvY2Vzcy5lbnYuQVpVUkVfU1FMX1VTRVJOQU1FISxcclxuICAgICAgcGFzc3dvcmQ6IHByb2Nlc3MuZW52LkFaVVJFX1NRTF9QQVNTV09SRCEsXHJcbiAgICB9XHJcbiAgfSxcclxuICBvcHRpb25zOiB7XHJcbiAgICBlbmNyeXB0OiB0cnVlLCAvLyBSZXF1aXJlZCBmb3IgQXp1cmVcclxuICAgIGVuYWJsZUFyaXRoQWJvcnQ6IHRydWUsXHJcbiAgfSxcclxufVxyXG5cclxubGV0IHBvb2w6IHNxbC5Db25uZWN0aW9uUG9vbCB8IHVuZGVmaW5lZFxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldERiQ29ubmVjdGlvbigpIHtcclxuICBpZiAoIXBvb2wpIHtcclxuICAgIHBvb2wgPSBuZXcgc3FsLkNvbm5lY3Rpb25Qb29sKGNvbmZpZylcclxuICAgIGF3YWl0IHBvb2wuY29ubmVjdCgpXHJcbiAgfVxyXG4gIHJldHVybiBwb29sXHJcbn1cclxuXHJcbi8vIEluaXRpYWxpemUgZGF0YWJhc2UgdGFibGVzXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0aWFsaXplRGF0YWJhc2UoKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHBvb2wgPSBhd2FpdCBnZXREYkNvbm5lY3Rpb24oKVxyXG4gICAgXHJcbiAgICAvLyBDcmVhdGUgdXNlcnMgdGFibGVcclxuICAgIGF3YWl0IHBvb2wucmVxdWVzdCgpLnF1ZXJ5KGBcclxuICAgICAgSUYgTk9UIEVYSVNUUyAoU0VMRUNUICogRlJPTSBzeXNvYmplY3RzIFdIRVJFIG5hbWU9J3VzZXJzJyBBTkQgeHR5cGU9J1UnKVxyXG4gICAgICBDUkVBVEUgVEFCTEUgdXNlcnMgKFxyXG4gICAgICAgIGlkIE5WQVJDSEFSKDUwKSBQUklNQVJZIEtFWSxcclxuICAgICAgICBlbWFpbCBOVkFSQ0hBUigyNTUpIFVOSVFVRSBOT1QgTlVMTCxcclxuICAgICAgICBuYW1lIE5WQVJDSEFSKDI1NSkgTk9UIE5VTEwsXHJcbiAgICAgICAgcGFzc3dvcmQgTlZBUkNIQVIoMjU1KSBOT1QgTlVMTCxcclxuICAgICAgICBjcmVhdGVkQXQgREFURVRJTUUyIERFRkFVTFQgR0VUREFURSgpLFxyXG4gICAgICAgIHVwZGF0ZWRBdCBEQVRFVElNRTIgREVGQVVMVCBHRVREQVRFKClcclxuICAgICAgKVxyXG4gICAgYClcclxuXHJcbiAgICAvLyBDcmVhdGUgYXVkaW9fZmlsZXMgdGFibGUgZm9yIFRUUyBoaXN0b3J5XHJcbiAgICBhd2FpdCBwb29sLnJlcXVlc3QoKS5xdWVyeShgXHJcbiAgICAgIElGIE5PVCBFWElTVFMgKFNFTEVDVCAqIEZST00gc3lzb2JqZWN0cyBXSEVSRSBuYW1lPSdhdWRpb19maWxlcycgQU5EIHh0eXBlPSdVJylcclxuICAgICAgQ1JFQVRFIFRBQkxFIGF1ZGlvX2ZpbGVzIChcclxuICAgICAgICBpZCBOVkFSQ0hBUig1MCkgUFJJTUFSWSBLRVksXHJcbiAgICAgICAgdXNlcklkIE5WQVJDSEFSKDUwKSBOT1QgTlVMTCxcclxuICAgICAgICBmaWxlbmFtZSBOVkFSQ0hBUigyNTUpIE5PVCBOVUxMLFxyXG4gICAgICAgIHRleHQgTlZBUkNIQVIoTUFYKSBOT1QgTlVMTCxcclxuICAgICAgICB2b2ljZSBOVkFSQ0hBUigxMDApLFxyXG4gICAgICAgIHNldHRpbmdzIE5WQVJDSEFSKE1BWCksIC0tIEpTT04gc3RyaW5nIG9mIHZvaWNlIHNldHRpbmdzXHJcbiAgICAgICAgY3JlYXRlZEF0IERBVEVUSU1FMiBERUZBVUxUIEdFVERBVEUoKSxcclxuICAgICAgICBGT1JFSUdOIEtFWSAodXNlcklkKSBSRUZFUkVOQ0VTIHVzZXJzKGlkKVxyXG4gICAgICApXHJcbiAgICBgKVxyXG5cclxuICAgIGNvbnNvbGUubG9nKCdEYXRhYmFzZSB0YWJsZXMgaW5pdGlhbGl6ZWQgc3VjY2Vzc2Z1bGx5JylcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRGF0YWJhc2UgaW5pdGlhbGl6YXRpb24gZXJyb3I6JywgZXJyb3IpXHJcbiAgICB0aHJvdyBlcnJvclxyXG4gIH1cclxufVxyXG5cclxuLy8gVXNlciBvcGVyYXRpb25zXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVVc2VyKHVzZXI6IHtcclxuICBpZDogc3RyaW5nXHJcbiAgZW1haWw6IHN0cmluZ1xyXG4gIG5hbWU6IHN0cmluZ1xyXG4gIHBhc3N3b3JkOiBzdHJpbmdcclxufSkge1xyXG4gIGNvbnN0IHBvb2wgPSBhd2FpdCBnZXREYkNvbm5lY3Rpb24oKVxyXG4gIFxyXG4gIGF3YWl0IHBvb2wucmVxdWVzdCgpXHJcbiAgICAuaW5wdXQoJ2lkJywgc3FsLk5WYXJDaGFyKDUwKSwgdXNlci5pZClcclxuICAgIC5pbnB1dCgnZW1haWwnLCBzcWwuTlZhckNoYXIoMjU1KSwgdXNlci5lbWFpbClcclxuICAgIC5pbnB1dCgnbmFtZScsIHNxbC5OVmFyQ2hhcigyNTUpLCB1c2VyLm5hbWUpXHJcbiAgICAuaW5wdXQoJ3Bhc3N3b3JkJywgc3FsLk5WYXJDaGFyKDI1NSksIHVzZXIucGFzc3dvcmQpXHJcbiAgICAucXVlcnkoYFxyXG4gICAgICBJTlNFUlQgSU5UTyB1c2VycyAoaWQsIGVtYWlsLCBuYW1lLCBwYXNzd29yZClcclxuICAgICAgVkFMVUVTIChAaWQsIEBlbWFpbCwgQG5hbWUsIEBwYXNzd29yZClcclxuICAgIGApXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmaW5kVXNlckJ5RW1haWwoZW1haWw6IHN0cmluZykge1xyXG4gIGNvbnN0IHBvb2wgPSBhd2FpdCBnZXREYkNvbm5lY3Rpb24oKVxyXG4gIFxyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXHJcbiAgICAuaW5wdXQoJ2VtYWlsJywgc3FsLk5WYXJDaGFyKDI1NSksIGVtYWlsLnRvTG93ZXJDYXNlKCkpXHJcbiAgICAucXVlcnkoJ1NFTEVDVCAqIEZST00gdXNlcnMgV0hFUkUgZW1haWwgPSBAZW1haWwnKVxyXG4gIFxyXG4gIHJldHVybiByZXN1bHQucmVjb3Jkc2V0WzBdIHx8IG51bGxcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZpbmRVc2VyQnlJZChpZDogc3RyaW5nKSB7XHJcbiAgY29uc3QgcG9vbCA9IGF3YWl0IGdldERiQ29ubmVjdGlvbigpXHJcbiAgXHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9vbC5yZXF1ZXN0KClcclxuICAgIC5pbnB1dCgnaWQnLCBzcWwuTlZhckNoYXIoNTApLCBpZClcclxuICAgIC5xdWVyeSgnU0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9IEBpZCcpXHJcbiAgXHJcbiAgcmV0dXJuIHJlc3VsdC5yZWNvcmRzZXRbMF0gfHwgbnVsbFxyXG59XHJcblxyXG4vLyBMb2dpbiB0cmFja2luZyBmdW5jdGlvbnNcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUxvZ2luVHJhY2tpbmcodXNlcklkOiBzdHJpbmcpIHtcclxuICBjb25zdCBwb29sID0gYXdhaXQgZ2V0RGJDb25uZWN0aW9uKClcclxuICBcclxuICBhd2FpdCBwb29sLnJlcXVlc3QoKVxyXG4gICAgLmlucHV0KCd1c2VySWQnLCBzcWwuTlZhckNoYXIoNTApLCB1c2VySWQpXHJcbiAgICAucXVlcnkoYFxyXG4gICAgICBVUERBVEUgdXNlcnMgXHJcbiAgICAgIFNFVCBsYXN0X2xvZ2luX2F0ID0gR0VUREFURSgpLFxyXG4gICAgICAgICAgbG9naW5fY291bnQgPSBJU05VTEwobG9naW5fY291bnQsIDApICsgMVxyXG4gICAgICBXSEVSRSBpZCA9IEB1c2VySWRcclxuICAgIGApXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyTG9naW5IaXN0b3J5KHVzZXJJZDogc3RyaW5nKSB7XHJcbiAgY29uc3QgcG9vbCA9IGF3YWl0IGdldERiQ29ubmVjdGlvbigpXHJcbiAgXHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9vbC5yZXF1ZXN0KClcclxuICAgIC5pbnB1dCgndXNlcklkJywgc3FsLk5WYXJDaGFyKDUwKSwgdXNlcklkKVxyXG4gICAgLnF1ZXJ5KGBcclxuICAgICAgU0VMRUNUIFxyXG4gICAgICAgIGlkLCBlbWFpbCwgbmFtZSwgXHJcbiAgICAgICAgbGFzdF9sb2dpbl9hdCwgXHJcbiAgICAgICAgbG9naW5fY291bnQsXHJcbiAgICAgICAgY3JlYXRlZEF0XHJcbiAgICAgIEZST00gdXNlcnMgXHJcbiAgICAgIFdIRVJFIGlkID0gQHVzZXJJZFxyXG4gICAgYClcclxuICBcclxuICByZXR1cm4gcmVzdWx0LnJlY29yZHNldFswXSB8fCBudWxsXHJcbn0iXSwibmFtZXMiOlsic3FsIiwiY29uZmlnIiwic2VydmVyIiwicHJvY2VzcyIsImVudiIsIkFaVVJFX1NRTF9TRVJWRVIiLCJkYXRhYmFzZSIsIkFaVVJFX1NRTF9EQVRBQkFTRSIsImF1dGhlbnRpY2F0aW9uIiwidHlwZSIsIm9wdGlvbnMiLCJ1c2VyTmFtZSIsIkFaVVJFX1NRTF9VU0VSTkFNRSIsInBhc3N3b3JkIiwiQVpVUkVfU1FMX1BBU1NXT1JEIiwiZW5jcnlwdCIsImVuYWJsZUFyaXRoQWJvcnQiLCJwb29sIiwiZ2V0RGJDb25uZWN0aW9uIiwiQ29ubmVjdGlvblBvb2wiLCJjb25uZWN0IiwiaW5pdGlhbGl6ZURhdGFiYXNlIiwicmVxdWVzdCIsInF1ZXJ5IiwiY29uc29sZSIsImxvZyIsImVycm9yIiwiY3JlYXRlVXNlciIsInVzZXIiLCJpbnB1dCIsIk5WYXJDaGFyIiwiaWQiLCJlbWFpbCIsIm5hbWUiLCJmaW5kVXNlckJ5RW1haWwiLCJyZXN1bHQiLCJ0b0xvd2VyQ2FzZSIsInJlY29yZHNldCIsImZpbmRVc2VyQnlJZCIsInVwZGF0ZUxvZ2luVHJhY2tpbmciLCJ1c2VySWQiLCJnZXRVc2VyTG9naW5IaXN0b3J5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/database.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/tedious","vendor-chunks/@azure","vendor-chunks/@js-joda","vendor-chunks/readable-stream","vendor-chunks/iconv-lite","vendor-chunks/mssql","vendor-chunks/@typespec","vendor-chunks/semver","vendor-chunks/es-abstract","vendor-chunks/next","vendor-chunks/jsonwebtoken","vendor-chunks/tarn","vendor-chunks/event-target-shim","vendor-chunks/debug","vendor-chunks/js-md4","vendor-chunks/tslib","vendor-chunks/object-inspect","vendor-chunks/lodash.includes","vendor-chunks/get-intrinsic","vendor-chunks/@tediousjs","vendor-chunks/bl","vendor-chunks/https-proxy-agent","vendor-chunks/string_decoder","vendor-chunks/agent-base","vendor-chunks/open","vendor-chunks/sprintf-js","vendor-chunks/jws","vendor-chunks/jwa","vendor-chunks/lodash.once","vendor-chunks/rfdc","vendor-chunks/http-proxy-agent","vendor-chunks/lodash.isinteger","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/object-keys","vendor-chunks/side-channel-list","vendor-chunks/lodash.isplainobject","vendor-chunks/is-callable","vendor-chunks/abort-controller","vendor-chunks/ms","vendor-chunks/side-channel-weakmap","vendor-chunks/es-aggregate-error","vendor-chunks/has-symbols","vendor-chunks/uuid","vendor-chunks/define-data-property","vendor-chunks/internal-slot","vendor-chunks/lodash.isstring","vendor-chunks/safer-buffer","vendor-chunks/dunder-proto","vendor-chunks/side-channel-map","vendor-chunks/function-bind","vendor-chunks/lodash.isnumber","vendor-chunks/stoppable","vendor-chunks/lodash.isboolean","vendor-chunks/node-abort-controller","vendor-chunks/safe-buffer","vendor-chunks/math-intrinsics","vendor-chunks/globalthis","vendor-chunks/set-function-length","vendor-chunks/call-bind-apply-helpers","vendor-chunks/define-properties","vendor-chunks/side-channel","vendor-chunks/inherits","vendor-chunks/get-proto","vendor-chunks/is-string","vendor-chunks/buffer-equal-constant-time","vendor-chunks/set-proto","vendor-chunks/native-duplexpair","vendor-chunks/functions-have-names","vendor-chunks/set-function-name","vendor-chunks/call-bound","vendor-chunks/call-bind","vendor-chunks/has-property-descriptors","vendor-chunks/is-wsl","vendor-chunks/define-lazy-prop","vendor-chunks/es-errors","vendor-chunks/is-docker","vendor-chunks/es-define-property","vendor-chunks/gopd","vendor-chunks/has-proto","vendor-chunks/es-object-atoms","vendor-chunks/hasown","vendor-chunks/has-tostringtag","vendor-chunks/process","vendor-chunks/bcryptjs"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Flogin%2Froute&page=%2Fapi%2Fauth%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Flogin%2Froute.ts&appDir=D%3A%5Cprosodify-backend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cprosodify-backend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();