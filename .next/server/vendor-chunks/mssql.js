"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/mssql";
exports.ids = ["vendor-chunks/mssql"];
exports.modules = {

/***/ "(rsc)/./node_modules/mssql/index.js":
/*!*************************************!*\
  !*** ./node_modules/mssql/index.js ***!
  \*************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nmodule.exports = __webpack_require__(/*! ./lib/tedious */ \"(rsc)/./node_modules/mssql/lib/tedious/index.js\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbXNzcWwvaW5kZXguanMiLCJtYXBwaW5ncyI6IjtBQUFBQSw0R0FBeUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9zb2RpZnktYmFja2VuZC8uL25vZGVfbW9kdWxlcy9tc3NxbC9pbmRleC5qcz85OGViIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9saWIvdGVkaW91cycpXG4iXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsInJlcXVpcmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/mssql/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/mssql/lib/base/connection-pool.js":
/*!********************************************************!*\
  !*** ./node_modules/mssql/lib/base/connection-pool.js ***!
  \********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst { EventEmitter } = __webpack_require__(/*! node:events */ \"node:events\");\nconst debug = __webpack_require__(/*! debug */ \"(rsc)/./node_modules/debug/src/index.js\")(\"mssql:base\");\nconst { parseSqlConnectionString } = __webpack_require__(/*! @tediousjs/connection-string */ \"(rsc)/./node_modules/@tediousjs/connection-string/lib/index.js\");\nconst tarn = __webpack_require__(/*! tarn */ \"(rsc)/./node_modules/tarn/dist/tarn.js\");\nconst { IDS } = __webpack_require__(/*! ../utils */ \"(rsc)/./node_modules/mssql/lib/utils.js\");\nconst ConnectionError = __webpack_require__(/*! ../error/connection-error */ \"(rsc)/./node_modules/mssql/lib/error/connection-error.js\");\nconst shared = __webpack_require__(/*! ../shared */ \"(rsc)/./node_modules/mssql/lib/shared.js\");\nconst clone = __webpack_require__(/*! rfdc/default */ \"(rsc)/./node_modules/rfdc/default.js\");\nconst { MSSQLError } = __webpack_require__(/*! ../error */ \"(rsc)/./node_modules/mssql/lib/error/index.js\");\n/**\n * Class ConnectionPool.\n *\n * Internally, each `Connection` instance is a separate pool of TDS connections. Once you create a new `Request`/`Transaction`/`Prepared Statement`, a new TDS connection is acquired from the pool and reserved for desired action. Once the action is complete, connection is released back to the pool.\n *\n * @property {Boolean} connected If true, connection is established.\n * @property {Boolean} connecting If true, connection is being established.\n *\n * @fires ConnectionPool#connect\n * @fires ConnectionPool#close\n */ class ConnectionPool extends EventEmitter {\n    /**\n   * Create new Connection.\n   *\n   * @param {Object|String} config Connection configuration object or connection string.\n   * @param {basicCallback} [callback] A callback which is called after connection has established, or an error has occurred.\n   */ constructor(config, callback){\n        super();\n        IDS.add(this, \"ConnectionPool\");\n        debug(\"pool(%d): created\", IDS.get(this));\n        this._connectStack = [];\n        this._closeStack = [];\n        this._connected = false;\n        this._connecting = false;\n        this._healthy = false;\n        if (typeof config === \"string\") {\n            try {\n                this.config = this.constructor.parseConnectionString(config);\n            } catch (ex) {\n                if (typeof callback === \"function\") {\n                    return setImmediate(callback, ex);\n                }\n                throw ex;\n            }\n        } else {\n            this.config = clone(config);\n        }\n        // set defaults\n        this.config.port = this.config.port || 1433;\n        this.config.options = this.config.options || {};\n        this.config.stream = this.config.stream || false;\n        this.config.parseJSON = this.config.parseJSON || false;\n        this.config.arrayRowMode = this.config.arrayRowMode || false;\n        this.config.validateConnection = \"validateConnection\" in this.config ? this.config.validateConnection : true;\n        const namedServer = /^(.*)\\\\(.*)$/.exec(this.config.server);\n        if (namedServer) {\n            this.config.server = namedServer[1];\n            this.config.options.instanceName = namedServer[2];\n        }\n        if (typeof this.config.options.useColumnNames !== \"undefined\" && this.config.options.useColumnNames !== true) {\n            const ex = new MSSQLError(\"Invalid options `useColumnNames`, use `arrayRowMode` instead\");\n            if (typeof callback === \"function\") {\n                return setImmediate(callback, ex);\n            }\n            throw ex;\n        }\n        if (typeof callback === \"function\") {\n            this.connect(callback);\n        }\n    }\n    get connected() {\n        return this._connected;\n    }\n    get connecting() {\n        return this._connecting;\n    }\n    get healthy() {\n        return this._healthy;\n    }\n    static parseConnectionString(connectionString) {\n        return this._parseConnectionString(connectionString);\n    }\n    static _parseAuthenticationType(type, entries) {\n        switch(type.toLowerCase()){\n            case \"active directory integrated\":\n                if (entries.includes(\"token\")) {\n                    return \"azure-active-directory-access-token\";\n                } else if ([\n                    \"client id\",\n                    \"client secret\",\n                    \"tenant id\"\n                ].every((entry)=>entries.includes(entry))) {\n                    return \"azure-active-directory-service-principal-secret\";\n                } else if ([\n                    \"client id\",\n                    \"msi endpoint\",\n                    \"msi secret\"\n                ].every((entry)=>entries.includes(entry))) {\n                    return \"azure-active-directory-msi-app-service\";\n                } else if ([\n                    \"client id\",\n                    \"msi endpoint\"\n                ].every((entry)=>entries.includes(entry))) {\n                    return \"azure-active-directory-msi-vm\";\n                }\n                return \"azure-active-directory-default\";\n            case \"active directory password\":\n                return \"azure-active-directory-password\";\n            case \"ntlm\":\n                return \"ntlm\";\n            default:\n                return \"default\";\n        }\n    }\n    static _parseConnectionString(connectionString) {\n        const parsed = parseSqlConnectionString(connectionString, true, true);\n        return Object.entries(parsed).reduce((config, [key, value])=>{\n            switch(key){\n                case \"application name\":\n                    break;\n                case \"applicationintent\":\n                    Object.assign(config.options, {\n                        readOnlyIntent: value === \"readonly\"\n                    });\n                    break;\n                case \"asynchronous processing\":\n                    break;\n                case \"attachdbfilename\":\n                    break;\n                case \"authentication\":\n                    Object.assign(config, {\n                        authentication_type: this._parseAuthenticationType(value, Object.keys(parsed))\n                    });\n                    break;\n                case \"column encryption setting\":\n                    break;\n                case \"connection timeout\":\n                    Object.assign(config, {\n                        connectionTimeout: value * 1000\n                    });\n                    break;\n                case \"connection lifetime\":\n                    break;\n                case \"connectretrycount\":\n                    break;\n                case \"connectretryinterval\":\n                    Object.assign(config.options, {\n                        connectionRetryInterval: value * 1000\n                    });\n                    break;\n                case \"context connection\":\n                    break;\n                case \"client id\":\n                    Object.assign(config, {\n                        clientId: value\n                    });\n                    break;\n                case \"client secret\":\n                    Object.assign(config, {\n                        clientSecret: value\n                    });\n                    break;\n                case \"current language\":\n                    Object.assign(config.options, {\n                        language: value\n                    });\n                    break;\n                case \"data source\":\n                    {\n                        let server = value;\n                        let instanceName;\n                        let port = 1433;\n                        if (/^np:/i.test(server)) {\n                            throw new Error(\"Connection via Named Pipes is not supported.\");\n                        }\n                        if (/^tcp:/i.test(server)) {\n                            server = server.substr(4);\n                        }\n                        const namedServerParts = /^(.*)\\\\(.*)$/.exec(server);\n                        if (namedServerParts) {\n                            server = namedServerParts[1].trim();\n                            instanceName = namedServerParts[2].trim();\n                        }\n                        const serverParts = /^(.*),(.*)$/.exec(server);\n                        if (serverParts) {\n                            server = serverParts[1].trim();\n                            port = parseInt(serverParts[2].trim(), 10);\n                        } else {\n                            const instanceParts = /^(.*),(.*)$/.exec(instanceName);\n                            if (instanceParts) {\n                                instanceName = instanceParts[1].trim();\n                                port = parseInt(instanceParts[2].trim(), 10);\n                            }\n                        }\n                        if (server === \".\" || server === \"(.)\" || server.toLowerCase() === \"(localdb)\" || server.toLowerCase() === \"(local)\") {\n                            server = \"localhost\";\n                        }\n                        Object.assign(config, {\n                            port,\n                            server\n                        });\n                        if (instanceName) {\n                            Object.assign(config.options, {\n                                instanceName\n                            });\n                        }\n                        break;\n                    }\n                case \"encrypt\":\n                    Object.assign(config.options, {\n                        encrypt: !!value\n                    });\n                    break;\n                case \"enlist\":\n                    break;\n                case \"failover partner\":\n                    break;\n                case \"initial catalog\":\n                    Object.assign(config, {\n                        database: value\n                    });\n                    break;\n                case \"integrated security\":\n                    break;\n                case \"max pool size\":\n                    Object.assign(config.pool, {\n                        max: value\n                    });\n                    break;\n                case \"min pool size\":\n                    Object.assign(config.pool, {\n                        min: value\n                    });\n                    break;\n                case \"msi endpoint\":\n                    Object.assign(config, {\n                        msiEndpoint: value\n                    });\n                    break;\n                case \"msi secret\":\n                    Object.assign(config, {\n                        msiSecret: value\n                    });\n                    break;\n                case \"multipleactiveresultsets\":\n                    break;\n                case \"multisubnetfailover\":\n                    Object.assign(config.options, {\n                        multiSubnetFailover: value\n                    });\n                    break;\n                case \"network library\":\n                    break;\n                case \"packet size\":\n                    Object.assign(config.options, {\n                        packetSize: value\n                    });\n                    break;\n                case \"password\":\n                    Object.assign(config, {\n                        password: value\n                    });\n                    break;\n                case \"persist security info\":\n                    break;\n                case \"poolblockingperiod\":\n                    break;\n                case \"pooling\":\n                    break;\n                case \"replication\":\n                    break;\n                case \"tenant id\":\n                    Object.assign(config, {\n                        tenantId: value\n                    });\n                    break;\n                case \"token\":\n                    Object.assign(config, {\n                        token: value\n                    });\n                    break;\n                case \"transaction binding\":\n                    Object.assign(config.options, {\n                        enableImplicitTransactions: value.toLowerCase() === \"implicit unbind\"\n                    });\n                    break;\n                case \"transparentnetworkipresolution\":\n                    break;\n                case \"trustservercertificate\":\n                    Object.assign(config.options, {\n                        trustServerCertificate: value\n                    });\n                    break;\n                case \"type system version\":\n                    break;\n                case \"user id\":\n                    {\n                        let user = value;\n                        let domain;\n                        const domainUser = /^(.*)\\\\(.*)$/.exec(user);\n                        if (domainUser) {\n                            domain = domainUser[1];\n                            user = domainUser[2];\n                        }\n                        if (domain) {\n                            Object.assign(config, {\n                                domain\n                            });\n                        }\n                        if (user) {\n                            Object.assign(config, {\n                                user\n                            });\n                        }\n                        break;\n                    }\n                case \"user instance\":\n                    break;\n                case \"workstation id\":\n                    Object.assign(config.options, {\n                        workstationId: value\n                    });\n                    break;\n                case \"request timeout\":\n                    Object.assign(config, {\n                        requestTimeout: parseInt(value, 10)\n                    });\n                    break;\n                case \"stream\":\n                    Object.assign(config, {\n                        stream: !!value\n                    });\n                    break;\n                case \"useutc\":\n                    Object.assign(config.options, {\n                        useUTC: !!value\n                    });\n                    break;\n                case \"parsejson\":\n                    Object.assign(config, {\n                        parseJSON: !!value\n                    });\n                    break;\n            }\n            return config;\n        }, {\n            options: {},\n            pool: {}\n        });\n    }\n    /**\n   * Acquire connection from this connection pool.\n   *\n   * @param {ConnectionPool|Transaction|PreparedStatement} requester Requester.\n   * @param {acquireCallback} [callback] A callback which is called after connection has been acquired, or an error has occurred. If omited, method returns Promise.\n   * @return {ConnectionPool|Promise}\n   */ acquire(requester, callback) {\n        const acquirePromise = shared.Promise.resolve(this._acquire()).catch((err)=>{\n            this.emit(\"error\", err);\n            throw err;\n        });\n        if (typeof callback === \"function\") {\n            acquirePromise.then((connection)=>callback(null, connection, this.config)).catch(callback);\n            return this;\n        }\n        return acquirePromise;\n    }\n    _acquire() {\n        if (!this.pool) {\n            return shared.Promise.reject(new ConnectionError(\"Connection not yet open.\", \"ENOTOPEN\"));\n        } else if (this.pool.destroyed) {\n            return shared.Promise.reject(new ConnectionError(\"Connection is closing\", \"ENOTOPEN\"));\n        }\n        return this.pool.acquire().promise;\n    }\n    /**\n   * Release connection back to the pool.\n   *\n   * @param {Connection} connection Previously acquired connection.\n   * @return {ConnectionPool}\n   */ release(connection) {\n        debug(\"connection(%d): released\", IDS.get(connection));\n        if (this.pool) {\n            this.pool.release(connection);\n        }\n        return this;\n    }\n    /**\n   * Creates a new connection pool with one active connection. This one initial connection serves as a probe to find out whether the configuration is valid.\n   *\n   * @param {basicCallback} [callback] A callback which is called after connection has established, or an error has occurred. If omited, method returns Promise.\n   * @return {ConnectionPool|Promise}\n   */ connect(callback) {\n        if (typeof callback === \"function\") {\n            this._connect(callback);\n            return this;\n        }\n        return new shared.Promise((resolve, reject)=>{\n            return this._connect((err)=>{\n                if (err) return reject(err);\n                resolve(this);\n            });\n        });\n    }\n    /**\n   * @private\n   * @param {basicCallback} callback\n   */ _connect(callback) {\n        if (this._connected) {\n            debug(\"pool(%d): already connected, executing connect callback immediately\", IDS.get(this));\n            return setImmediate(callback, null, this);\n        }\n        this._connectStack.push(callback);\n        if (this._connecting) {\n            return;\n        }\n        this._connecting = true;\n        debug(\"pool(%d): connecting\", IDS.get(this));\n        // create one test connection to check if everything is ok\n        this._poolCreate().then((connection)=>{\n            debug(\"pool(%d): connected\", IDS.get(this));\n            this._healthy = true;\n            return this._poolDestroy(connection).then(()=>{\n                // prepare pool\n                this.pool = new tarn.Pool(Object.assign({\n                    create: ()=>this._poolCreate().then((connection)=>{\n                            this._healthy = true;\n                            return connection;\n                        }).catch((err)=>{\n                            if (this.pool.numUsed() + this.pool.numFree() <= 0) {\n                                this._healthy = false;\n                            }\n                            throw err;\n                        }),\n                    validate: this._poolValidate.bind(this),\n                    destroy: this._poolDestroy.bind(this),\n                    max: 10,\n                    min: 0,\n                    idleTimeoutMillis: 30000,\n                    propagateCreateError: true\n                }, this.config.pool));\n                this._connecting = false;\n                this._connected = true;\n            });\n        }).then(()=>{\n            this._connectStack.forEach((cb)=>{\n                setImmediate(cb, null, this);\n            });\n        }).catch((err)=>{\n            this._connecting = false;\n            this._connectStack.forEach((cb)=>{\n                setImmediate(cb, err);\n            });\n        }).then(()=>{\n            this._connectStack = [];\n        });\n    }\n    get size() {\n        return this.pool.numFree() + this.pool.numUsed() + this.pool.numPendingCreates();\n    }\n    get available() {\n        return this.pool.numFree();\n    }\n    get pending() {\n        return this.pool.numPendingAcquires();\n    }\n    get borrowed() {\n        return this.pool.numUsed();\n    }\n    /**\n   * Close all active connections in the pool.\n   *\n   * @param {basicCallback} [callback] A callback which is called after connection has closed, or an error has occurred. If omited, method returns Promise.\n   * @return {ConnectionPool|Promise}\n   */ close(callback) {\n        if (typeof callback === \"function\") {\n            this._close(callback);\n            return this;\n        }\n        return new shared.Promise((resolve, reject)=>{\n            this._close((err)=>{\n                if (err) return reject(err);\n                resolve(this);\n            });\n        });\n    }\n    /**\n   * @private\n   * @param {basicCallback} callback\n   */ _close(callback) {\n        // we don't allow pools in a connecting state to be closed because it means there are far too many\n        // edge cases to deal with\n        if (this._connecting) {\n            debug(\"pool(%d): close called while connecting\", IDS.get(this));\n            setImmediate(callback, new ConnectionError(\"Cannot close a pool while it is connecting\"));\n        }\n        if (!this.pool) {\n            debug(\"pool(%d): already closed, executing close callback immediately\", IDS.get(this));\n            return setImmediate(callback, null);\n        }\n        this._closeStack.push(callback);\n        if (this.pool.destroyed) return;\n        this._connecting = this._connected = this._healthy = false;\n        this.pool.destroy().then(()=>{\n            debug(\"pool(%d): pool closed, removing pool reference and executing close callbacks\", IDS.get(this));\n            this.pool = null;\n            this._closeStack.forEach((cb)=>{\n                setImmediate(cb, null);\n            });\n        }).catch((err)=>{\n            this.pool = null;\n            this._closeStack.forEach((cb)=>{\n                setImmediate(cb, err);\n            });\n        }).then(()=>{\n            this._closeStack = [];\n        });\n    }\n    /**\n   * Returns new request using this connection.\n   *\n   * @return {Request}\n   */ request() {\n        return new shared.driver.Request(this);\n    }\n    /**\n   * Returns new transaction using this connection.\n   *\n   * @return {Transaction}\n   */ transaction() {\n        return new shared.driver.Transaction(this);\n    }\n    /**\n   * Creates a new query using this connection from a tagged template string.\n   *\n   * @variation 1\n   * @param {Array} strings Array of string literals.\n   * @param {...*} keys Values.\n   * @return {Request}\n   */ /**\n   * Execute the SQL command.\n   *\n   * @variation 2\n   * @param {String} command T-SQL command to be executed.\n   * @param {Request~requestCallback} [callback] A callback which is called after execution has completed, or an error has occurred. If omited, method returns Promise.\n   * @return {Request|Promise}\n   */ query() {\n        if (typeof arguments[0] === \"string\") {\n            return new shared.driver.Request(this).query(arguments[0], arguments[1]);\n        }\n        const values = Array.prototype.slice.call(arguments);\n        const strings = values.shift();\n        return new shared.driver.Request(this)._template(strings, values, \"query\");\n    }\n    /**\n   * Creates a new batch using this connection from a tagged template string.\n   *\n   * @variation 1\n   * @param {Array} strings Array of string literals.\n   * @param {...*} keys Values.\n   * @return {Request}\n   */ /**\n   * Execute the SQL command.\n   *\n   * @variation 2\n   * @param {String} command T-SQL command to be executed.\n   * @param {Request~requestCallback} [callback] A callback which is called after execution has completed, or an error has occurred. If omited, method returns Promise.\n   * @return {Request|Promise}\n   */ batch() {\n        if (typeof arguments[0] === \"string\") {\n            return new shared.driver.Request(this).batch(arguments[0], arguments[1]);\n        }\n        const values = Array.prototype.slice.call(arguments);\n        const strings = values.shift();\n        return new shared.driver.Request(this)._template(strings, values, \"batch\");\n    }\n}\nmodule.exports = ConnectionPool;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbXNzcWwvbGliL2Jhc2UvY29ubmVjdGlvbi1wb29sLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBRUEsTUFBTSxFQUFFQSxZQUFZLEVBQUUsR0FBR0MsbUJBQU9BLENBQUM7QUFDakMsTUFBTUMsUUFBUUQsbUJBQU9BLENBQUMsd0RBQVM7QUFDL0IsTUFBTSxFQUFFRSx3QkFBd0IsRUFBRSxHQUFHRixtQkFBT0EsQ0FBQztBQUM3QyxNQUFNRyxPQUFPSCxtQkFBT0EsQ0FBQztBQUNyQixNQUFNLEVBQUVJLEdBQUcsRUFBRSxHQUFHSixtQkFBT0EsQ0FBQztBQUN4QixNQUFNSyxrQkFBa0JMLG1CQUFPQSxDQUFDO0FBQ2hDLE1BQU1NLFNBQVNOLG1CQUFPQSxDQUFDO0FBQ3ZCLE1BQU1PLFFBQVFQLG1CQUFPQSxDQUFDO0FBQ3RCLE1BQU0sRUFBRVEsVUFBVSxFQUFFLEdBQUdSLG1CQUFPQSxDQUFDO0FBRS9COzs7Ozs7Ozs7O0NBVUMsR0FFRCxNQUFNUyx1QkFBdUJWO0lBQzNCOzs7OztHQUtDLEdBRURXLFlBQWFDLE1BQU0sRUFBRUMsUUFBUSxDQUFFO1FBQzdCLEtBQUs7UUFFTFIsSUFBSVMsR0FBRyxDQUFDLElBQUksRUFBRTtRQUNkWixNQUFNLHFCQUFxQkcsSUFBSVUsR0FBRyxDQUFDLElBQUk7UUFFdkMsSUFBSSxDQUFDQyxhQUFhLEdBQUcsRUFBRTtRQUN2QixJQUFJLENBQUNDLFdBQVcsR0FBRyxFQUFFO1FBRXJCLElBQUksQ0FBQ0MsVUFBVSxHQUFHO1FBQ2xCLElBQUksQ0FBQ0MsV0FBVyxHQUFHO1FBQ25CLElBQUksQ0FBQ0MsUUFBUSxHQUFHO1FBRWhCLElBQUksT0FBT1IsV0FBVyxVQUFVO1lBQzlCLElBQUk7Z0JBQ0YsSUFBSSxDQUFDQSxNQUFNLEdBQUcsSUFBSSxDQUFDRCxXQUFXLENBQUNVLHFCQUFxQixDQUFDVDtZQUN2RCxFQUFFLE9BQU9VLElBQUk7Z0JBQ1gsSUFBSSxPQUFPVCxhQUFhLFlBQVk7b0JB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TSxDQUFDQyxPQUFPLENBQUMsSUFBSSxFQUFFWSxTQUFTLENBQUNGLFNBQVNMLFFBQVE7SUFDcEU7SUFFQTs7Ozs7OztHQU9DLEdBRUQ7Ozs7Ozs7R0FPQyxHQUVEUSxRQUFTO1FBQ1AsSUFBSSxPQUFPVCxTQUFTLENBQUMsRUFBRSxLQUFLLFVBQVU7WUFBRSxPQUFPLElBQUloSSxPQUFPMkgsTUFBTSxDQUFDQyxPQUFPLENBQUMsSUFBSSxFQUFFYSxLQUFLLENBQUNULFNBQVMsQ0FBQyxFQUFFLEVBQUVBLFNBQVMsQ0FBQyxFQUFFO1FBQUU7UUFFakgsTUFBTUMsU0FBU0MsTUFBTUMsU0FBUyxDQUFDQyxLQUFLLENBQUNDLElBQUksQ0FBQ0w7UUFDMUMsTUFBTU0sVUFBVUwsT0FBT00sS0FBSztRQUU1QixPQUFPLElBQUl2SSxPQUFPMkgsTUFBTSxDQUFDQyxPQUFPLENBQUMsSUFBSSxFQUFFWSxTQUFTLENBQUNGLFNBQVNMLFFBQVE7SUFDcEU7QUFDRjtBQUVBUyxPQUFPQyxPQUFPLEdBQUd4SSIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb3NvZGlmeS1iYWNrZW5kLy4vbm9kZV9tb2R1bGVzL21zc3FsL2xpYi9iYXNlL2Nvbm5lY3Rpb24tcG9vbC5qcz85NzE2Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0J1xuXG5jb25zdCB7IEV2ZW50RW1pdHRlciB9ID0gcmVxdWlyZSgnbm9kZTpldmVudHMnKVxuY29uc3QgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdtc3NxbDpiYXNlJylcbmNvbnN0IHsgcGFyc2VTcWxDb25uZWN0aW9uU3RyaW5nIH0gPSByZXF1aXJlKCdAdGVkaW91c2pzL2Nvbm5lY3Rpb24tc3RyaW5nJylcbmNvbnN0IHRhcm4gPSByZXF1aXJlKCd0YXJuJylcbmNvbnN0IHsgSURTIH0gPSByZXF1aXJlKCcuLi91dGlscycpXG5jb25zdCBDb25uZWN0aW9uRXJyb3IgPSByZXF1aXJlKCcuLi9lcnJvci9jb25uZWN0aW9uLWVycm9yJylcbmNvbnN0IHNoYXJlZCA9IHJlcXVpcmUoJy4uL3NoYXJlZCcpXG5jb25zdCBjbG9uZSA9IHJlcXVpcmUoJ3JmZGMvZGVmYXVsdCcpXG5jb25zdCB7IE1TU1FMRXJyb3IgfSA9IHJlcXVpcmUoJy4uL2Vycm9yJylcblxuLyoqXG4gKiBDbGFzcyBDb25uZWN0aW9uUG9vbC5cbiAqXG4gKiBJbnRlcm5hbGx5LCBlYWNoIGBDb25uZWN0aW9uYCBpbnN0YW5jZSBpcyBhIHNlcGFyYXRlIHBvb2wgb2YgVERTIGNvbm5lY3Rpb25zLiBPbmNlIHlvdSBjcmVhdGUgYSBuZXcgYFJlcXVlc3RgL2BUcmFuc2FjdGlvbmAvYFByZXBhcmVkIFN0YXRlbWVudGAsIGEgbmV3IFREUyBjb25uZWN0aW9uIGlzIGFjcXVpcmVkIGZyb20gdGhlIHBvb2wgYW5kIHJlc2VydmVkIGZvciBkZXNpcmVkIGFjdGlvbi4gT25jZSB0aGUgYWN0aW9uIGlzIGNvbXBsZXRlLCBjb25uZWN0aW9uIGlzIHJlbGVhc2VkIGJhY2sgdG8gdGhlIHBvb2wuXG4gKlxuICogQHByb3BlcnR5IHtCb29sZWFufSBjb25uZWN0ZWQgSWYgdHJ1ZSwgY29ubmVjdGlvbiBpcyBlc3RhYmxpc2hlZC5cbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gY29ubmVjdGluZyBJZiB0cnVlLCBjb25uZWN0aW9uIGlzIGJlaW5nIGVzdGFibGlzaGVkLlxuICpcbiAqIEBmaXJlcyBDb25uZWN0aW9uUG9vbCNjb25uZWN0XG4gKiBAZmlyZXMgQ29ubmVjdGlvblBvb2wjY2xvc2VcbiAqL1xuXG5jbGFzcyBDb25uZWN0aW9uUG9vbCBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIC8qKlxuICAgKiBDcmVhdGUgbmV3IENvbm5lY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gY29uZmlnIENvbm5lY3Rpb24gY29uZmlndXJhdGlvbiBvYmplY3Qgb3IgY29ubmVjdGlvbiBzdHJpbmcuXG4gICAqIEBwYXJhbSB7YmFzaWNDYWxsYmFja30gW2NhbGxiYWNrXSBBIGNhbGxiYWNrIHdoaWNoIGlzIGNhbGxlZCBhZnRlciBjb25uZWN0aW9uIGhhcyBlc3RhYmxpc2hlZCwgb3IgYW4gZXJyb3IgaGFzIG9jY3VycmVkLlxuICAgKi9cblxuICBjb25zdHJ1Y3RvciAoY29uZmlnLCBjYWxsYmFjaykge1xuICAgIHN1cGVyKClcblxuICAgIElEUy5hZGQodGhpcywgJ0Nvbm5lY3Rpb25Qb29sJylcbiAgICBkZWJ1ZygncG9vbCglZCk6IGNyZWF0ZWQnLCBJRFMuZ2V0KHRoaXMpKVxuXG4gICAgdGhpcy5fY29ubmVjdFN0YWNrID0gW11cbiAgICB0aGlzLl9jbG9zZVN0YWNrID0gW11cblxuICAgIHRoaXMuX2Nvbm5lY3RlZCA9IGZhbHNlXG4gICAgdGhpcy5fY29ubmVjdGluZyA9IGZhbHNlXG4gICAgdGhpcy5faGVhbHRoeSA9IGZhbHNlXG5cbiAgICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuY29uZmlnID0gdGhpcy5jb25zdHJ1Y3Rvci5wYXJzZUNvbm5lY3Rpb25TdHJpbmcoY29uZmlnKVxuICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHJldHVybiBzZXRJbW1lZGlhdGUoY2FsbGJhY2ssIGV4KVxuICAgICAgICB9XG4gICAgICAgIHRocm93IGV4XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY29uZmlnID0gY2xvbmUoY29uZmlnKVxuICAgIH1cblxuICAgIC8vIHNldCBkZWZhdWx0c1xuICAgIHRoaXMuY29uZmlnLnBvcnQgPSB0aGlzLmNvbmZpZy5wb3J0IHx8IDE0MzNcbiAgICB0aGlzLmNvbmZpZy5vcHRpb25zID0gdGhpcy5jb25maWcub3B0aW9ucyB8fCB7fVxuICAgIHRoaXMuY29uZmlnLnN0cmVhbSA9IHRoaXMuY29uZmlnLnN0cmVhbSB8fCBmYWxzZVxuICAgIHRoaXMuY29uZmlnLnBhcnNlSlNPTiA9IHRoaXMuY29uZmlnLnBhcnNlSlNPTiB8fCBmYWxzZVxuICAgIHRoaXMuY29uZmlnLmFycmF5Um93TW9kZSA9IHRoaXMuY29uZmlnLmFycmF5Um93TW9kZSB8fCBmYWxzZVxuICAgIHRoaXMuY29uZmlnLnZhbGlkYXRlQ29ubmVjdGlvbiA9ICd2YWxpZGF0ZUNvbm5lY3Rpb24nIGluIHRoaXMuY29uZmlnID8gdGhpcy5jb25maWcudmFsaWRhdGVDb25uZWN0aW9uIDogdHJ1ZVxuXG4gICAgY29uc3QgbmFtZWRTZXJ2ZXIgPSAvXiguKilcXFxcKC4qKSQvLmV4ZWModGhpcy5jb25maWcuc2VydmVyKVxuICAgIGlmIChuYW1lZFNlcnZlcikge1xuICAgICAgdGhpcy5jb25maWcuc2VydmVyID0gbmFtZWRTZXJ2ZXJbMV1cbiAgICAgIHRoaXMuY29uZmlnLm9wdGlvbnMuaW5zdGFuY2VOYW1lID0gbmFtZWRTZXJ2ZXJbMl1cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHRoaXMuY29uZmlnLm9wdGlvbnMudXNlQ29sdW1uTmFtZXMgIT09ICd1bmRlZmluZWQnICYmIHRoaXMuY29uZmlnLm9wdGlvbnMudXNlQ29sdW1uTmFtZXMgIT09IHRydWUpIHtcbiAgICAgIGNvbnN0IGV4ID0gbmV3IE1TU1FMRXJyb3IoJ0ludmFsaWQgb3B0aW9ucyBgdXNlQ29sdW1uTmFtZXNgLCB1c2UgYGFycmF5Um93TW9kZWAgaW5zdGVhZCcpXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBzZXRJbW1lZGlhdGUoY2FsbGJhY2ssIGV4KVxuICAgICAgfVxuICAgICAgdGhyb3cgZXhcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLmNvbm5lY3QoY2FsbGJhY2spXG4gICAgfVxuICB9XG5cbiAgZ2V0IGNvbm5lY3RlZCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Nvbm5lY3RlZFxuICB9XG5cbiAgZ2V0IGNvbm5lY3RpbmcgKCkge1xuICAgIHJldHVybiB0aGlzLl9jb25uZWN0aW5nXG4gIH1cblxuICBnZXQgaGVhbHRoeSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2hlYWx0aHlcbiAgfVxuXG4gIHN0YXRpYyBwYXJzZUNvbm5lY3Rpb25TdHJpbmcgKGNvbm5lY3Rpb25TdHJpbmcpIHtcbiAgICByZXR1cm4gdGhpcy5fcGFyc2VDb25uZWN0aW9uU3RyaW5nKGNvbm5lY3Rpb25TdHJpbmcpXG4gIH1cblxuICBzdGF0aWMgX3BhcnNlQXV0aGVudGljYXRpb25UeXBlICh0eXBlLCBlbnRyaWVzKSB7XG4gICAgc3dpdGNoICh0eXBlLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgIGNhc2UgJ2FjdGl2ZSBkaXJlY3RvcnkgaW50ZWdyYXRlZCc6XG4gICAgICAgIGlmIChlbnRyaWVzLmluY2x1ZGVzKCd0b2tlbicpKSB7XG4gICAgICAgICAgcmV0dXJuICdhenVyZS1hY3RpdmUtZGlyZWN0b3J5LWFjY2Vzcy10b2tlbidcbiAgICAgICAgfSBlbHNlIGlmIChbJ2NsaWVudCBpZCcsICdjbGllbnQgc2VjcmV0JywgJ3RlbmFudCBpZCddLmV2ZXJ5KGVudHJ5ID0+IGVudHJpZXMuaW5jbHVkZXMoZW50cnkpKSkge1xuICAgICAgICAgIHJldHVybiAnYXp1cmUtYWN0aXZlLWRpcmVjdG9yeS1zZXJ2aWNlLXByaW5jaXBhbC1zZWNyZXQnXG4gICAgICAgIH0gZWxzZSBpZiAoWydjbGllbnQgaWQnLCAnbXNpIGVuZHBvaW50JywgJ21zaSBzZWNyZXQnXS5ldmVyeShlbnRyeSA9PiBlbnRyaWVzLmluY2x1ZGVzKGVudHJ5KSkpIHtcbiAgICAgICAgICByZXR1cm4gJ2F6dXJlLWFjdGl2ZS1kaXJlY3RvcnktbXNpLWFwcC1zZXJ2aWNlJ1xuICAgICAgICB9IGVsc2UgaWYgKFsnY2xpZW50IGlkJywgJ21zaSBlbmRwb2ludCddLmV2ZXJ5KGVudHJ5ID0+IGVudHJpZXMuaW5jbHVkZXMoZW50cnkpKSkge1xuICAgICAgICAgIHJldHVybiAnYXp1cmUtYWN0aXZlLWRpcmVjdG9yeS1tc2ktdm0nXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICdhenVyZS1hY3RpdmUtZGlyZWN0b3J5LWRlZmF1bHQnXG4gICAgICBjYXNlICdhY3RpdmUgZGlyZWN0b3J5IHBhc3N3b3JkJzpcbiAgICAgICAgcmV0dXJuICdhenVyZS1hY3RpdmUtZGlyZWN0b3J5LXBhc3N3b3JkJ1xuICAgICAgY2FzZSAnbnRsbSc6XG4gICAgICAgIHJldHVybiAnbnRsbSdcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiAnZGVmYXVsdCdcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgX3BhcnNlQ29ubmVjdGlvblN0cmluZyAoY29ubmVjdGlvblN0cmluZykge1xuICAgIGNvbnN0IHBhcnNlZCA9IHBhcnNlU3FsQ29ubmVjdGlvblN0cmluZyhjb25uZWN0aW9uU3RyaW5nLCB0cnVlLCB0cnVlKVxuICAgIHJldHVybiBPYmplY3QuZW50cmllcyhwYXJzZWQpLnJlZHVjZSgoY29uZmlnLCBba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgIGNhc2UgJ2FwcGxpY2F0aW9uIG5hbWUnOlxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ2FwcGxpY2F0aW9uaW50ZW50JzpcbiAgICAgICAgICBPYmplY3QuYXNzaWduKGNvbmZpZy5vcHRpb25zLCB7XG4gICAgICAgICAgICByZWFkT25seUludGVudDogdmFsdWUgPT09ICdyZWFkb25seSdcbiAgICAgICAgICB9KVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ2FzeW5jaHJvbm91cyBwcm9jZXNzaW5nJzpcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdhdHRhY2hkYmZpbGVuYW1lJzpcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdhdXRoZW50aWNhdGlvbic6XG4gICAgICAgICAgT2JqZWN0LmFzc2lnbihjb25maWcsIHtcbiAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uX3R5cGU6IHRoaXMuX3BhcnNlQXV0aGVudGljYXRpb25UeXBlKHZhbHVlLCBPYmplY3Qua2V5cyhwYXJzZWQpKVxuICAgICAgICAgIH0pXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnY29sdW1uIGVuY3J5cHRpb24gc2V0dGluZyc6XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnY29ubmVjdGlvbiB0aW1lb3V0JzpcbiAgICAgICAgICBPYmplY3QuYXNzaWduKGNvbmZpZywge1xuICAgICAgICAgICAgY29ubmVjdGlvblRpbWVvdXQ6IHZhbHVlICogMTAwMFxuICAgICAgICAgIH0pXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnY29ubmVjdGlvbiBsaWZldGltZSc6XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnY29ubmVjdHJldHJ5Y291bnQnOlxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ2Nvbm5lY3RyZXRyeWludGVydmFsJzpcbiAgICAgICAgICBPYmplY3QuYXNzaWduKGNvbmZpZy5vcHRpb25zLCB7XG4gICAgICAgICAgICBjb25uZWN0aW9uUmV0cnlJbnRlcnZhbDogdmFsdWUgKiAxMDAwXG4gICAgICAgICAgfSlcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdjb250ZXh0IGNvbm5lY3Rpb24nOlxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ2NsaWVudCBpZCc6XG4gICAgICAgICAgT2JqZWN0LmFzc2lnbihjb25maWcsIHtcbiAgICAgICAgICAgIGNsaWVudElkOiB2YWx1ZVxuICAgICAgICAgIH0pXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnY2xpZW50IHNlY3JldCc6XG4gICAgICAgICAgT2JqZWN0LmFzc2lnbihjb25maWcsIHtcbiAgICAgICAgICAgIGNsaWVudFNlY3JldDogdmFsdWVcbiAgICAgICAgICB9KVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ2N1cnJlbnQgbGFuZ3VhZ2UnOlxuICAgICAgICAgIE9iamVjdC5hc3NpZ24oY29uZmlnLm9wdGlvbnMsIHtcbiAgICAgICAgICAgIGxhbmd1YWdlOiB2YWx1ZVxuICAgICAgICAgIH0pXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnZGF0YSBzb3VyY2UnOlxuICAgICAgICB7XG4gICAgICAgICAgbGV0IHNlcnZlciA9IHZhbHVlXG4gICAgICAgICAgbGV0IGluc3RhbmNlTmFtZVxuICAgICAgICAgIGxldCBwb3J0ID0gMTQzM1xuICAgICAgICAgIGlmICgvXm5wOi9pLnRlc3Qoc2VydmVyKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb25uZWN0aW9uIHZpYSBOYW1lZCBQaXBlcyBpcyBub3Qgc3VwcG9ydGVkLicpXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICgvXnRjcDovaS50ZXN0KHNlcnZlcikpIHtcbiAgICAgICAgICAgIHNlcnZlciA9IHNlcnZlci5zdWJzdHIoNClcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgbmFtZWRTZXJ2ZXJQYXJ0cyA9IC9eKC4qKVxcXFwoLiopJC8uZXhlYyhzZXJ2ZXIpXG4gICAgICAgICAgaWYgKG5hbWVkU2VydmVyUGFydHMpIHtcbiAgICAgICAgICAgIHNlcnZlciA9IG5hbWVkU2VydmVyUGFydHNbMV0udHJpbSgpXG4gICAgICAgICAgICBpbnN0YW5jZU5hbWUgPSBuYW1lZFNlcnZlclBhcnRzWzJdLnRyaW0oKVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBzZXJ2ZXJQYXJ0cyA9IC9eKC4qKSwoLiopJC8uZXhlYyhzZXJ2ZXIpXG4gICAgICAgICAgaWYgKHNlcnZlclBhcnRzKSB7XG4gICAgICAgICAgICBzZXJ2ZXIgPSBzZXJ2ZXJQYXJ0c1sxXS50cmltKClcbiAgICAgICAgICAgIHBvcnQgPSBwYXJzZUludChzZXJ2ZXJQYXJ0c1syXS50cmltKCksIDEwKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBpbnN0YW5jZVBhcnRzID0gL14oLiopLCguKikkLy5leGVjKGluc3RhbmNlTmFtZSlcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZVBhcnRzKSB7XG4gICAgICAgICAgICAgIGluc3RhbmNlTmFtZSA9IGluc3RhbmNlUGFydHNbMV0udHJpbSgpXG4gICAgICAgICAgICAgIHBvcnQgPSBwYXJzZUludChpbnN0YW5jZVBhcnRzWzJdLnRyaW0oKSwgMTApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzZXJ2ZXIgPT09ICcuJyB8fCBzZXJ2ZXIgPT09ICcoLiknIHx8IHNlcnZlci50b0xvd2VyQ2FzZSgpID09PSAnKGxvY2FsZGIpJyB8fCBzZXJ2ZXIudG9Mb3dlckNhc2UoKSA9PT0gJyhsb2NhbCknKSB7XG4gICAgICAgICAgICBzZXJ2ZXIgPSAnbG9jYWxob3N0J1xuICAgICAgICAgIH1cbiAgICAgICAgICBPYmplY3QuYXNzaWduKGNvbmZpZywge1xuICAgICAgICAgICAgcG9ydCxcbiAgICAgICAgICAgIHNlcnZlclxuICAgICAgICAgIH0pXG4gICAgICAgICAgaWYgKGluc3RhbmNlTmFtZSkge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihjb25maWcub3B0aW9ucywge1xuICAgICAgICAgICAgICBpbnN0YW5jZU5hbWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnZW5jcnlwdCc6XG4gICAgICAgICAgT2JqZWN0LmFzc2lnbihjb25maWcub3B0aW9ucywge1xuICAgICAgICAgICAgZW5jcnlwdDogISF2YWx1ZVxuICAgICAgICAgIH0pXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnZW5saXN0JzpcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdmYWlsb3ZlciBwYXJ0bmVyJzpcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdpbml0aWFsIGNhdGFsb2cnOlxuICAgICAgICAgIE9iamVjdC5hc3NpZ24oY29uZmlnLCB7XG4gICAgICAgICAgICBkYXRhYmFzZTogdmFsdWVcbiAgICAgICAgICB9KVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ2ludGVncmF0ZWQgc2VjdXJpdHknOlxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ21heCBwb29sIHNpemUnOlxuICAgICAgICAgIE9iamVjdC5hc3NpZ24oY29uZmlnLnBvb2wsIHtcbiAgICAgICAgICAgIG1heDogdmFsdWVcbiAgICAgICAgICB9KVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ21pbiBwb29sIHNpemUnOlxuICAgICAgICAgIE9iamVjdC5hc3NpZ24oY29uZmlnLnBvb2wsIHtcbiAgICAgICAgICAgIG1pbjogdmFsdWVcbiAgICAgICAgICB9KVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ21zaSBlbmRwb2ludCc6XG4gICAgICAgICAgT2JqZWN0LmFzc2lnbihjb25maWcsIHtcbiAgICAgICAgICAgIG1zaUVuZHBvaW50OiB2YWx1ZVxuICAgICAgICAgIH0pXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnbXNpIHNlY3JldCc6XG4gICAgICAgICAgT2JqZWN0LmFzc2lnbihjb25maWcsIHtcbiAgICAgICAgICAgIG1zaVNlY3JldDogdmFsdWVcbiAgICAgICAgICB9KVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ211bHRpcGxlYWN0aXZlcmVzdWx0c2V0cyc6XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnbXVsdGlzdWJuZXRmYWlsb3Zlcic6XG4gICAgICAgICAgT2JqZWN0LmFzc2lnbihjb25maWcub3B0aW9ucywge1xuICAgICAgICAgICAgbXVsdGlTdWJuZXRGYWlsb3ZlcjogdmFsdWVcbiAgICAgICAgICB9KVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ25ldHdvcmsgbGlicmFyeSc6XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAncGFja2V0IHNpemUnOlxuICAgICAgICAgIE9iamVjdC5hc3NpZ24oY29uZmlnLm9wdGlvbnMsIHtcbiAgICAgICAgICAgIHBhY2tldFNpemU6IHZhbHVlXG4gICAgICAgICAgfSlcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdwYXNzd29yZCc6XG4gICAgICAgICAgT2JqZWN0LmFzc2lnbihjb25maWcsIHtcbiAgICAgICAgICAgIHBhc3N3b3JkOiB2YWx1ZVxuICAgICAgICAgIH0pXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAncGVyc2lzdCBzZWN1cml0eSBpbmZvJzpcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdwb29sYmxvY2tpbmdwZXJpb2QnOlxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ3Bvb2xpbmcnOlxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ3JlcGxpY2F0aW9uJzpcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICd0ZW5hbnQgaWQnOlxuICAgICAgICAgIE9iamVjdC5hc3NpZ24oY29uZmlnLCB7XG4gICAgICAgICAgICB0ZW5hbnRJZDogdmFsdWVcbiAgICAgICAgICB9KVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ3Rva2VuJzpcbiAgICAgICAgICBPYmplY3QuYXNzaWduKGNvbmZpZywge1xuICAgICAgICAgICAgdG9rZW46IHZhbHVlXG4gICAgICAgICAgfSlcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICd0cmFuc2FjdGlvbiBiaW5kaW5nJzpcbiAgICAgICAgICBPYmplY3QuYXNzaWduKGNvbmZpZy5vcHRpb25zLCB7XG4gICAgICAgICAgICBlbmFibGVJbXBsaWNpdFRyYW5zYWN0aW9uczogdmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gJ2ltcGxpY2l0IHVuYmluZCdcbiAgICAgICAgICB9KVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ3RyYW5zcGFyZW50bmV0d29ya2lwcmVzb2x1dGlvbic6XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAndHJ1c3RzZXJ2ZXJjZXJ0aWZpY2F0ZSc6XG4gICAgICAgICAgT2JqZWN0LmFzc2lnbihjb25maWcub3B0aW9ucywge1xuICAgICAgICAgICAgdHJ1c3RTZXJ2ZXJDZXJ0aWZpY2F0ZTogdmFsdWVcbiAgICAgICAgICB9KVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ3R5cGUgc3lzdGVtIHZlcnNpb24nOlxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ3VzZXIgaWQnOiB7XG4gICAgICAgICAgbGV0IHVzZXIgPSB2YWx1ZVxuICAgICAgICAgIGxldCBkb21haW5cbiAgICAgICAgICBjb25zdCBkb21haW5Vc2VyID0gL14oLiopXFxcXCguKikkLy5leGVjKHVzZXIpXG4gICAgICAgICAgaWYgKGRvbWFpblVzZXIpIHtcbiAgICAgICAgICAgIGRvbWFpbiA9IGRvbWFpblVzZXJbMV1cbiAgICAgICAgICAgIHVzZXIgPSBkb21haW5Vc2VyWzJdXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChkb21haW4pIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY29uZmlnLCB7XG4gICAgICAgICAgICAgIGRvbWFpblxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY29uZmlnLCB7XG4gICAgICAgICAgICAgIHVzZXJcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAndXNlciBpbnN0YW5jZSc6XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnd29ya3N0YXRpb24gaWQnOlxuICAgICAgICAgIE9iamVjdC5hc3NpZ24oY29uZmlnLm9wdGlvbnMsIHtcbiAgICAgICAgICAgIHdvcmtzdGF0aW9uSWQ6IHZhbHVlXG4gICAgICAgICAgfSlcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdyZXF1ZXN0IHRpbWVvdXQnOlxuICAgICAgICAgIE9iamVjdC5hc3NpZ24oY29uZmlnLCB7XG4gICAgICAgICAgICByZXF1ZXN0VGltZW91dDogcGFyc2VJbnQodmFsdWUsIDEwKVxuICAgICAgICAgIH0pXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnc3RyZWFtJzpcbiAgICAgICAgICBPYmplY3QuYXNzaWduKGNvbmZpZywge1xuICAgICAgICAgICAgc3RyZWFtOiAhIXZhbHVlXG4gICAgICAgICAgfSlcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICd1c2V1dGMnOlxuICAgICAgICAgIE9iamVjdC5hc3NpZ24oY29uZmlnLm9wdGlvbnMsIHtcbiAgICAgICAgICAgIHVzZVVUQzogISF2YWx1ZVxuICAgICAgICAgIH0pXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAncGFyc2Vqc29uJzpcbiAgICAgICAgICBPYmplY3QuYXNzaWduKGNvbmZpZywge1xuICAgICAgICAgICAgcGFyc2VKU09OOiAhIXZhbHVlXG4gICAgICAgICAgfSlcbiAgICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbmZpZ1xuICAgIH0sIHsgb3B0aW9uczoge30sIHBvb2w6IHt9IH0pXG4gIH1cblxuICAvKipcbiAgICogQWNxdWlyZSBjb25uZWN0aW9uIGZyb20gdGhpcyBjb25uZWN0aW9uIHBvb2wuXG4gICAqXG4gICAqIEBwYXJhbSB7Q29ubmVjdGlvblBvb2x8VHJhbnNhY3Rpb258UHJlcGFyZWRTdGF0ZW1lbnR9IHJlcXVlc3RlciBSZXF1ZXN0ZXIuXG4gICAqIEBwYXJhbSB7YWNxdWlyZUNhbGxiYWNrfSBbY2FsbGJhY2tdIEEgY2FsbGJhY2sgd2hpY2ggaXMgY2FsbGVkIGFmdGVyIGNvbm5lY3Rpb24gaGFzIGJlZW4gYWNxdWlyZWQsIG9yIGFuIGVycm9yIGhhcyBvY2N1cnJlZC4gSWYgb21pdGVkLCBtZXRob2QgcmV0dXJucyBQcm9taXNlLlxuICAgKiBAcmV0dXJuIHtDb25uZWN0aW9uUG9vbHxQcm9taXNlfVxuICAgKi9cblxuICBhY3F1aXJlIChyZXF1ZXN0ZXIsIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgYWNxdWlyZVByb21pc2UgPSBzaGFyZWQuUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2FjcXVpcmUoKSkuY2F0Y2goZXJyID0+IHtcbiAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBlcnIpXG4gICAgICB0aHJvdyBlcnJcbiAgICB9KVxuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGFjcXVpcmVQcm9taXNlLnRoZW4oY29ubmVjdGlvbiA9PiBjYWxsYmFjayhudWxsLCBjb25uZWN0aW9uLCB0aGlzLmNvbmZpZykpLmNhdGNoKGNhbGxiYWNrKVxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICByZXR1cm4gYWNxdWlyZVByb21pc2VcbiAgfVxuXG4gIF9hY3F1aXJlICgpIHtcbiAgICBpZiAoIXRoaXMucG9vbCkge1xuICAgICAgcmV0dXJuIHNoYXJlZC5Qcm9taXNlLnJlamVjdChuZXcgQ29ubmVjdGlvbkVycm9yKCdDb25uZWN0aW9uIG5vdCB5ZXQgb3Blbi4nLCAnRU5PVE9QRU4nKSlcbiAgICB9IGVsc2UgaWYgKHRoaXMucG9vbC5kZXN0cm95ZWQpIHtcbiAgICAgIHJldHVybiBzaGFyZWQuUHJvbWlzZS5yZWplY3QobmV3IENvbm5lY3Rpb25FcnJvcignQ29ubmVjdGlvbiBpcyBjbG9zaW5nJywgJ0VOT1RPUEVOJykpXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucG9vbC5hY3F1aXJlKCkucHJvbWlzZVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbGVhc2UgY29ubmVjdGlvbiBiYWNrIHRvIHRoZSBwb29sLlxuICAgKlxuICAgKiBAcGFyYW0ge0Nvbm5lY3Rpb259IGNvbm5lY3Rpb24gUHJldmlvdXNseSBhY3F1aXJlZCBjb25uZWN0aW9uLlxuICAgKiBAcmV0dXJuIHtDb25uZWN0aW9uUG9vbH1cbiAgICovXG5cbiAgcmVsZWFzZSAoY29ubmVjdGlvbikge1xuICAgIGRlYnVnKCdjb25uZWN0aW9uKCVkKTogcmVsZWFzZWQnLCBJRFMuZ2V0KGNvbm5lY3Rpb24pKVxuXG4gICAgaWYgKHRoaXMucG9vbCkge1xuICAgICAgdGhpcy5wb29sLnJlbGVhc2UoY29ubmVjdGlvbilcbiAgICB9XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGNvbm5lY3Rpb24gcG9vbCB3aXRoIG9uZSBhY3RpdmUgY29ubmVjdGlvbi4gVGhpcyBvbmUgaW5pdGlhbCBjb25uZWN0aW9uIHNlcnZlcyBhcyBhIHByb2JlIHRvIGZpbmQgb3V0IHdoZXRoZXIgdGhlIGNvbmZpZ3VyYXRpb24gaXMgdmFsaWQuXG4gICAqXG4gICAqIEBwYXJhbSB7YmFzaWNDYWxsYmFja30gW2NhbGxiYWNrXSBBIGNhbGxiYWNrIHdoaWNoIGlzIGNhbGxlZCBhZnRlciBjb25uZWN0aW9uIGhhcyBlc3RhYmxpc2hlZCwgb3IgYW4gZXJyb3IgaGFzIG9jY3VycmVkLiBJZiBvbWl0ZWQsIG1ldGhvZCByZXR1cm5zIFByb21pc2UuXG4gICAqIEByZXR1cm4ge0Nvbm5lY3Rpb25Qb29sfFByb21pc2V9XG4gICAqL1xuXG4gIGNvbm5lY3QgKGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5fY29ubmVjdChjYWxsYmFjaylcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBzaGFyZWQuUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5fY29ubmVjdChlcnIgPT4ge1xuICAgICAgICBpZiAoZXJyKSByZXR1cm4gcmVqZWN0KGVycilcbiAgICAgICAgcmVzb2x2ZSh0aGlzKVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7YmFzaWNDYWxsYmFja30gY2FsbGJhY2tcbiAgICovXG5cbiAgX2Nvbm5lY3QgKGNhbGxiYWNrKSB7XG4gICAgaWYgKHRoaXMuX2Nvbm5lY3RlZCkge1xuICAgICAgZGVidWcoJ3Bvb2woJWQpOiBhbHJlYWR5IGNvbm5lY3RlZCwgZXhlY3V0aW5nIGNvbm5lY3QgY2FsbGJhY2sgaW1tZWRpYXRlbHknLCBJRFMuZ2V0KHRoaXMpKVxuICAgICAgcmV0dXJuIHNldEltbWVkaWF0ZShjYWxsYmFjaywgbnVsbCwgdGhpcylcbiAgICB9XG5cbiAgICB0aGlzLl9jb25uZWN0U3RhY2sucHVzaChjYWxsYmFjaylcblxuICAgIGlmICh0aGlzLl9jb25uZWN0aW5nKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB0aGlzLl9jb25uZWN0aW5nID0gdHJ1ZVxuICAgIGRlYnVnKCdwb29sKCVkKTogY29ubmVjdGluZycsIElEUy5nZXQodGhpcykpXG5cbiAgICAvLyBjcmVhdGUgb25lIHRlc3QgY29ubmVjdGlvbiB0byBjaGVjayBpZiBldmVyeXRoaW5nIGlzIG9rXG4gICAgdGhpcy5fcG9vbENyZWF0ZSgpLnRoZW4oKGNvbm5lY3Rpb24pID0+IHtcbiAgICAgIGRlYnVnKCdwb29sKCVkKTogY29ubmVjdGVkJywgSURTLmdldCh0aGlzKSlcbiAgICAgIHRoaXMuX2hlYWx0aHkgPSB0cnVlXG5cbiAgICAgIHJldHVybiB0aGlzLl9wb29sRGVzdHJveShjb25uZWN0aW9uKS50aGVuKCgpID0+IHtcbiAgICAgICAgLy8gcHJlcGFyZSBwb29sXG4gICAgICAgIHRoaXMucG9vbCA9IG5ldyB0YXJuLlBvb2woXG4gICAgICAgICAgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBjcmVhdGU6ICgpID0+IHRoaXMuX3Bvb2xDcmVhdGUoKVxuICAgICAgICAgICAgICAudGhlbihjb25uZWN0aW9uID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9oZWFsdGh5ID0gdHJ1ZVxuICAgICAgICAgICAgICAgIHJldHVybiBjb25uZWN0aW9uXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBvb2wubnVtVXNlZCgpICsgdGhpcy5wb29sLm51bUZyZWUoKSA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLl9oZWFsdGh5ID0gZmFsc2VcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgdmFsaWRhdGU6IHRoaXMuX3Bvb2xWYWxpZGF0ZS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgZGVzdHJveTogdGhpcy5fcG9vbERlc3Ryb3kuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIG1heDogMTAsXG4gICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICBpZGxlVGltZW91dE1pbGxpczogMzAwMDAsXG4gICAgICAgICAgICBwcm9wYWdhdGVDcmVhdGVFcnJvcjogdHJ1ZVxuICAgICAgICAgIH0sIHRoaXMuY29uZmlnLnBvb2wpXG4gICAgICAgIClcblxuICAgICAgICB0aGlzLl9jb25uZWN0aW5nID0gZmFsc2VcbiAgICAgICAgdGhpcy5fY29ubmVjdGVkID0gdHJ1ZVxuICAgICAgfSlcbiAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMuX2Nvbm5lY3RTdGFjay5mb3JFYWNoKChjYikgPT4ge1xuICAgICAgICBzZXRJbW1lZGlhdGUoY2IsIG51bGwsIHRoaXMpXG4gICAgICB9KVxuICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICB0aGlzLl9jb25uZWN0aW5nID0gZmFsc2VcbiAgICAgIHRoaXMuX2Nvbm5lY3RTdGFjay5mb3JFYWNoKChjYikgPT4ge1xuICAgICAgICBzZXRJbW1lZGlhdGUoY2IsIGVycilcbiAgICAgIH0pXG4gICAgfSkudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLl9jb25uZWN0U3RhY2sgPSBbXVxuICAgIH0pXG4gIH1cblxuICBnZXQgc2l6ZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMucG9vbC5udW1GcmVlKCkgKyB0aGlzLnBvb2wubnVtVXNlZCgpICsgdGhpcy5wb29sLm51bVBlbmRpbmdDcmVhdGVzKClcbiAgfVxuXG4gIGdldCBhdmFpbGFibGUgKCkge1xuICAgIHJldHVybiB0aGlzLnBvb2wubnVtRnJlZSgpXG4gIH1cblxuICBnZXQgcGVuZGluZyAoKSB7XG4gICAgcmV0dXJuIHRoaXMucG9vbC5udW1QZW5kaW5nQWNxdWlyZXMoKVxuICB9XG5cbiAgZ2V0IGJvcnJvd2VkICgpIHtcbiAgICByZXR1cm4gdGhpcy5wb29sLm51bVVzZWQoKVxuICB9XG5cbiAgLyoqXG4gICAqIENsb3NlIGFsbCBhY3RpdmUgY29ubmVjdGlvbnMgaW4gdGhlIHBvb2wuXG4gICAqXG4gICAqIEBwYXJhbSB7YmFzaWNDYWxsYmFja30gW2NhbGxiYWNrXSBBIGNhbGxiYWNrIHdoaWNoIGlzIGNhbGxlZCBhZnRlciBjb25uZWN0aW9uIGhhcyBjbG9zZWQsIG9yIGFuIGVycm9yIGhhcyBvY2N1cnJlZC4gSWYgb21pdGVkLCBtZXRob2QgcmV0dXJucyBQcm9taXNlLlxuICAgKiBAcmV0dXJuIHtDb25uZWN0aW9uUG9vbHxQcm9taXNlfVxuICAgKi9cblxuICBjbG9zZSAoY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLl9jbG9zZShjYWxsYmFjaylcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBzaGFyZWQuUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLl9jbG9zZShlcnIgPT4ge1xuICAgICAgICBpZiAoZXJyKSByZXR1cm4gcmVqZWN0KGVycilcbiAgICAgICAgcmVzb2x2ZSh0aGlzKVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7YmFzaWNDYWxsYmFja30gY2FsbGJhY2tcbiAgICovXG5cbiAgX2Nsb3NlIChjYWxsYmFjaykge1xuICAgIC8vIHdlIGRvbid0IGFsbG93IHBvb2xzIGluIGEgY29ubmVjdGluZyBzdGF0ZSB0byBiZSBjbG9zZWQgYmVjYXVzZSBpdCBtZWFucyB0aGVyZSBhcmUgZmFyIHRvbyBtYW55XG4gICAgLy8gZWRnZSBjYXNlcyB0byBkZWFsIHdpdGhcbiAgICBpZiAodGhpcy5fY29ubmVjdGluZykge1xuICAgICAgZGVidWcoJ3Bvb2woJWQpOiBjbG9zZSBjYWxsZWQgd2hpbGUgY29ubmVjdGluZycsIElEUy5nZXQodGhpcykpXG4gICAgICBzZXRJbW1lZGlhdGUoY2FsbGJhY2ssIG5ldyBDb25uZWN0aW9uRXJyb3IoJ0Nhbm5vdCBjbG9zZSBhIHBvb2wgd2hpbGUgaXQgaXMgY29ubmVjdGluZycpKVxuICAgIH1cblxuICAgIGlmICghdGhpcy5wb29sKSB7XG4gICAgICBkZWJ1ZygncG9vbCglZCk6IGFscmVhZHkgY2xvc2VkLCBleGVjdXRpbmcgY2xvc2UgY2FsbGJhY2sgaW1tZWRpYXRlbHknLCBJRFMuZ2V0KHRoaXMpKVxuICAgICAgcmV0dXJuIHNldEltbWVkaWF0ZShjYWxsYmFjaywgbnVsbClcbiAgICB9XG5cbiAgICB0aGlzLl9jbG9zZVN0YWNrLnB1c2goY2FsbGJhY2spXG5cbiAgICBpZiAodGhpcy5wb29sLmRlc3Ryb3llZCkgcmV0dXJuXG5cbiAgICB0aGlzLl9jb25uZWN0aW5nID0gdGhpcy5fY29ubmVjdGVkID0gdGhpcy5faGVhbHRoeSA9IGZhbHNlXG5cbiAgICB0aGlzLnBvb2wuZGVzdHJveSgpLnRoZW4oKCkgPT4ge1xuICAgICAgZGVidWcoJ3Bvb2woJWQpOiBwb29sIGNsb3NlZCwgcmVtb3ZpbmcgcG9vbCByZWZlcmVuY2UgYW5kIGV4ZWN1dGluZyBjbG9zZSBjYWxsYmFja3MnLCBJRFMuZ2V0KHRoaXMpKVxuICAgICAgdGhpcy5wb29sID0gbnVsbFxuICAgICAgdGhpcy5fY2xvc2VTdGFjay5mb3JFYWNoKGNiID0+IHtcbiAgICAgICAgc2V0SW1tZWRpYXRlKGNiLCBudWxsKVxuICAgICAgfSlcbiAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgdGhpcy5wb29sID0gbnVsbFxuICAgICAgdGhpcy5fY2xvc2VTdGFjay5mb3JFYWNoKGNiID0+IHtcbiAgICAgICAgc2V0SW1tZWRpYXRlKGNiLCBlcnIpXG4gICAgICB9KVxuICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5fY2xvc2VTdGFjayA9IFtdXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIG5ldyByZXF1ZXN0IHVzaW5nIHRoaXMgY29ubmVjdGlvbi5cbiAgICpcbiAgICogQHJldHVybiB7UmVxdWVzdH1cbiAgICovXG5cbiAgcmVxdWVzdCAoKSB7XG4gICAgcmV0dXJuIG5ldyBzaGFyZWQuZHJpdmVyLlJlcXVlc3QodGhpcylcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIG5ldyB0cmFuc2FjdGlvbiB1c2luZyB0aGlzIGNvbm5lY3Rpb24uXG4gICAqXG4gICAqIEByZXR1cm4ge1RyYW5zYWN0aW9ufVxuICAgKi9cblxuICB0cmFuc2FjdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBzaGFyZWQuZHJpdmVyLlRyYW5zYWN0aW9uKHRoaXMpXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBxdWVyeSB1c2luZyB0aGlzIGNvbm5lY3Rpb24gZnJvbSBhIHRhZ2dlZCB0ZW1wbGF0ZSBzdHJpbmcuXG4gICAqXG4gICAqIEB2YXJpYXRpb24gMVxuICAgKiBAcGFyYW0ge0FycmF5fSBzdHJpbmdzIEFycmF5IG9mIHN0cmluZyBsaXRlcmFscy5cbiAgICogQHBhcmFtIHsuLi4qfSBrZXlzIFZhbHVlcy5cbiAgICogQHJldHVybiB7UmVxdWVzdH1cbiAgICovXG5cbiAgLyoqXG4gICAqIEV4ZWN1dGUgdGhlIFNRTCBjb21tYW5kLlxuICAgKlxuICAgKiBAdmFyaWF0aW9uIDJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNvbW1hbmQgVC1TUUwgY29tbWFuZCB0byBiZSBleGVjdXRlZC5cbiAgICogQHBhcmFtIHtSZXF1ZXN0fnJlcXVlc3RDYWxsYmFja30gW2NhbGxiYWNrXSBBIGNhbGxiYWNrIHdoaWNoIGlzIGNhbGxlZCBhZnRlciBleGVjdXRpb24gaGFzIGNvbXBsZXRlZCwgb3IgYW4gZXJyb3IgaGFzIG9jY3VycmVkLiBJZiBvbWl0ZWQsIG1ldGhvZCByZXR1cm5zIFByb21pc2UuXG4gICAqIEByZXR1cm4ge1JlcXVlc3R8UHJvbWlzZX1cbiAgICovXG5cbiAgcXVlcnkgKCkge1xuICAgIGlmICh0eXBlb2YgYXJndW1lbnRzWzBdID09PSAnc3RyaW5nJykgeyByZXR1cm4gbmV3IHNoYXJlZC5kcml2ZXIuUmVxdWVzdCh0aGlzKS5xdWVyeShhcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSkgfVxuXG4gICAgY29uc3QgdmFsdWVzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKVxuICAgIGNvbnN0IHN0cmluZ3MgPSB2YWx1ZXMuc2hpZnQoKVxuXG4gICAgcmV0dXJuIG5ldyBzaGFyZWQuZHJpdmVyLlJlcXVlc3QodGhpcykuX3RlbXBsYXRlKHN0cmluZ3MsIHZhbHVlcywgJ3F1ZXJ5JylcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGJhdGNoIHVzaW5nIHRoaXMgY29ubmVjdGlvbiBmcm9tIGEgdGFnZ2VkIHRlbXBsYXRlIHN0cmluZy5cbiAgICpcbiAgICogQHZhcmlhdGlvbiAxXG4gICAqIEBwYXJhbSB7QXJyYXl9IHN0cmluZ3MgQXJyYXkgb2Ygc3RyaW5nIGxpdGVyYWxzLlxuICAgKiBAcGFyYW0gey4uLip9IGtleXMgVmFsdWVzLlxuICAgKiBAcmV0dXJuIHtSZXF1ZXN0fVxuICAgKi9cblxuICAvKipcbiAgICogRXhlY3V0ZSB0aGUgU1FMIGNvbW1hbmQuXG4gICAqXG4gICAqIEB2YXJpYXRpb24gMlxuICAgKiBAcGFyYW0ge1N0cmluZ30gY29tbWFuZCBULVNRTCBjb21tYW5kIHRvIGJlIGV4ZWN1dGVkLlxuICAgKiBAcGFyYW0ge1JlcXVlc3R+cmVxdWVzdENhbGxiYWNrfSBbY2FsbGJhY2tdIEEgY2FsbGJhY2sgd2hpY2ggaXMgY2FsbGVkIGFmdGVyIGV4ZWN1dGlvbiBoYXMgY29tcGxldGVkLCBvciBhbiBlcnJvciBoYXMgb2NjdXJyZWQuIElmIG9taXRlZCwgbWV0aG9kIHJldHVybnMgUHJvbWlzZS5cbiAgICogQHJldHVybiB7UmVxdWVzdHxQcm9taXNlfVxuICAgKi9cblxuICBiYXRjaCAoKSB7XG4gICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbMF0gPT09ICdzdHJpbmcnKSB7IHJldHVybiBuZXcgc2hhcmVkLmRyaXZlci5SZXF1ZXN0KHRoaXMpLmJhdGNoKGFyZ3VtZW50c1swXSwgYXJndW1lbnRzWzFdKSB9XG5cbiAgICBjb25zdCB2YWx1ZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpXG4gICAgY29uc3Qgc3RyaW5ncyA9IHZhbHVlcy5zaGlmdCgpXG5cbiAgICByZXR1cm4gbmV3IHNoYXJlZC5kcml2ZXIuUmVxdWVzdCh0aGlzKS5fdGVtcGxhdGUoc3RyaW5ncywgdmFsdWVzLCAnYmF0Y2gnKVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQ29ubmVjdGlvblBvb2xcbiJdLCJuYW1lcyI6WyJFdmVudEVtaXR0ZXIiLCJyZXF1aXJlIiwiZGVidWciLCJwYXJzZVNxbENvbm5lY3Rpb25TdHJpbmciLCJ0YXJuIiwiSURTIiwiQ29ubmVjdGlvbkVycm9yIiwic2hhcmVkIiwiY2xvbmUiLCJNU1NRTEVycm9yIiwiQ29ubmVjdGlvblBvb2wiLCJjb25zdHJ1Y3RvciIsImNvbmZpZyIsImNhbGxiYWNrIiwiYWRkIiwiZ2V0IiwiX2Nvbm5lY3RTdGFjayIsIl9jbG9zZVN0YWNrIiwiX2Nvbm5lY3RlZCIsIl9jb25uZWN0aW5nIiwiX2hlYWx0aHkiLCJwYXJzZUNvbm5lY3Rpb25TdHJpbmciLCJleCIsInNldEltbWVkaWF0ZSIsInBvcnQiLCJvcHRpb25zIiwic3RyZWFtIiwicGFyc2VKU09OIiwiYXJyYXlSb3dNb2RlIiwidmFsaWRhdGVDb25uZWN0aW9uIiwibmFtZWRTZXJ2ZXIiLCJleGVjIiwic2VydmVyIiwiaW5zdGFuY2VOYW1lIiwidXNlQ29sdW1uTmFtZXMiLCJjb25uZWN0IiwiY29ubmVjdGVkIiwiY29ubmVjdGluZyIsImhlYWx0aHkiLCJjb25uZWN0aW9uU3RyaW5nIiwiX3BhcnNlQ29ubmVjdGlvblN0cmluZyIsIl9wYXJzZUF1dGhlbnRpY2F0aW9uVHlwZSIsInR5cGUiLCJlbnRyaWVzIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsImV2ZXJ5IiwiZW50cnkiLCJwYXJzZWQiLCJPYmplY3QiLCJyZWR1Y2UiLCJrZXkiLCJ2YWx1ZSIsImFzc2lnbiIsInJlYWRPbmx5SW50ZW50IiwiYXV0aGVudGljYXRpb25fdHlwZSIsImtleXMiLCJjb25uZWN0aW9uVGltZW91dCIsImNvbm5lY3Rpb25SZXRyeUludGVydmFsIiwiY2xpZW50SWQiLCJjbGllbnRTZWNyZXQiLCJsYW5ndWFnZSIsInRlc3QiLCJFcnJvciIsInN1YnN0ciIsIm5hbWVkU2VydmVyUGFydHMiLCJ0cmltIiwic2VydmVyUGFydHMiLCJwYXJzZUludCIsImluc3RhbmNlUGFydHMiLCJlbmNyeXB0IiwiZGF0YWJhc2UiLCJwb29sIiwibWF4IiwibWluIiwibXNpRW5kcG9pbnQiLCJtc2lTZWNyZXQiLCJtdWx0aVN1Ym5ldEZhaWxvdmVyIiwicGFja2V0U2l6ZSIsInBhc3N3b3JkIiwidGVuYW50SWQiLCJ0b2tlbiIsImVuYWJsZUltcGxpY2l0VHJhbnNhY3Rpb25zIiwidHJ1c3RTZXJ2ZXJDZXJ0aWZpY2F0ZSIsInVzZXIiLCJkb21haW4iLCJkb21haW5Vc2VyIiwid29ya3N0YXRpb25JZCIsInJlcXVlc3RUaW1lb3V0IiwidXNlVVRDIiwiYWNxdWlyZSIsInJlcXVlc3RlciIsImFjcXVpcmVQcm9taXNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJfYWNxdWlyZSIsImNhdGNoIiwiZXJyIiwiZW1pdCIsInRoZW4iLCJjb25uZWN0aW9uIiwicmVqZWN0IiwiZGVzdHJveWVkIiwicHJvbWlzZSIsInJlbGVhc2UiLCJfY29ubmVjdCIsInB1c2giLCJfcG9vbENyZWF0ZSIsIl9wb29sRGVzdHJveSIsIlBvb2wiLCJjcmVhdGUiLCJudW1Vc2VkIiwibnVtRnJlZSIsInZhbGlkYXRlIiwiX3Bvb2xWYWxpZGF0ZSIsImJpbmQiLCJkZXN0cm95IiwiaWRsZVRpbWVvdXRNaWxsaXMiLCJwcm9wYWdhdGVDcmVhdGVFcnJvciIsImZvckVhY2giLCJjYiIsInNpemUiLCJudW1QZW5kaW5nQ3JlYXRlcyIsImF2YWlsYWJsZSIsInBlbmRpbmciLCJudW1QZW5kaW5nQWNxdWlyZXMiLCJib3Jyb3dlZCIsImNsb3NlIiwiX2Nsb3NlIiwicmVxdWVzdCIsImRyaXZlciIsIlJlcXVlc3QiLCJ0cmFuc2FjdGlvbiIsIlRyYW5zYWN0aW9uIiwicXVlcnkiLCJhcmd1bWVudHMiLCJ2YWx1ZXMiLCJBcnJheSIsInByb3RvdHlwZSIsInNsaWNlIiwiY2FsbCIsInN0cmluZ3MiLCJzaGlmdCIsIl90ZW1wbGF0ZSIsImJhdGNoIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/mssql/lib/base/connection-pool.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/mssql/lib/base/index.js":
/*!**********************************************!*\
  !*** ./node_modules/mssql/lib/base/index.js ***!
  \**********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst ConnectionPool = __webpack_require__(/*! ./connection-pool */ \"(rsc)/./node_modules/mssql/lib/base/connection-pool.js\");\nconst PreparedStatement = __webpack_require__(/*! ./prepared-statement */ \"(rsc)/./node_modules/mssql/lib/base/prepared-statement.js\");\nconst Request = __webpack_require__(/*! ./request */ \"(rsc)/./node_modules/mssql/lib/base/request.js\");\nconst Transaction = __webpack_require__(/*! ./transaction */ \"(rsc)/./node_modules/mssql/lib/base/transaction.js\");\nconst { ConnectionError, TransactionError, RequestError, PreparedStatementError, MSSQLError } = __webpack_require__(/*! ../error */ \"(rsc)/./node_modules/mssql/lib/error/index.js\");\nconst shared = __webpack_require__(/*! ../shared */ \"(rsc)/./node_modules/mssql/lib/shared.js\");\nconst Table = __webpack_require__(/*! ../table */ \"(rsc)/./node_modules/mssql/lib/table.js\");\nconst ISOLATION_LEVEL = __webpack_require__(/*! ../isolationlevel */ \"(rsc)/./node_modules/mssql/lib/isolationlevel.js\");\nconst { TYPES } = __webpack_require__(/*! ../datatypes */ \"(rsc)/./node_modules/mssql/lib/datatypes.js\");\nconst { connect, close, on, off, removeListener, query, batch } = __webpack_require__(/*! ../global-connection */ \"(rsc)/./node_modules/mssql/lib/global-connection.js\");\nmodule.exports = {\n    ConnectionPool,\n    Transaction,\n    Request,\n    PreparedStatement,\n    ConnectionError,\n    TransactionError,\n    RequestError,\n    PreparedStatementError,\n    MSSQLError,\n    driver: shared.driver,\n    exports: {\n        ConnectionError,\n        TransactionError,\n        RequestError,\n        PreparedStatementError,\n        MSSQLError,\n        Table,\n        ISOLATION_LEVEL,\n        TYPES,\n        MAX: 65535,\n        map: shared.map,\n        getTypeByValue: shared.getTypeByValue,\n        connect,\n        close,\n        on,\n        removeListener,\n        off,\n        query,\n        batch\n    }\n};\nObject.defineProperty(module.exports, \"Promise\", ({\n    enumerable: true,\n    get: ()=>{\n        return shared.Promise;\n    },\n    set: (value)=>{\n        shared.Promise = value;\n    }\n}));\nObject.defineProperty(module.exports, \"valueHandler\", ({\n    enumerable: true,\n    value: shared.valueHandler,\n    writable: false,\n    configurable: false\n}));\nfor(const key in TYPES){\n    const value = TYPES[key];\n    module.exports.exports[key] = value;\n    module.exports.exports[key.toUpperCase()] = value;\n} /**\n * @callback Request~requestCallback\n * @param {Error} err Error on error, otherwise null.\n * @param {Object} [result] Request result.\n */  /**\n * @callback Request~bulkCallback\n * @param {Error} err Error on error, otherwise null.\n * @param {Number} [rowsAffected] Number of affected rows.\n */  /**\n * @callback basicCallback\n * @param {Error} err Error on error, otherwise null.\n * @param {Connection} [connection] Acquired connection.\n */  /**\n * @callback acquireCallback\n * @param {Error} err Error on error, otherwise null.\n * @param {Connection} [connection] Acquired connection.\n * @param {Object} [config] Connection config\n */  /**\n * Dispatched after connection has established.\n * @event ConnectionPool#connect\n */  /**\n * Dispatched after connection has closed a pool (by calling close).\n * @event ConnectionPool#close\n */  /**\n * Dispatched when transaction begin.\n * @event Transaction#begin\n */  /**\n * Dispatched on successful commit.\n * @event Transaction#commit\n */  /**\n * Dispatched on successful rollback.\n * @event Transaction#rollback\n */  /**\n * Dispatched when metadata for new recordset are parsed.\n * @event Request#recordset\n */  /**\n * Dispatched when new row is parsed.\n * @event Request#row\n */  /**\n * Dispatched when request is complete.\n * @event Request#done\n */  /**\n * Dispatched on error.\n * @event Request#error\n */ \n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbXNzcWwvbGliL2Jhc2UvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFFQSxNQUFNQSxpQkFBaUJDLG1CQUFPQSxDQUFDO0FBQy9CLE1BQU1DLG9CQUFvQkQsbUJBQU9BLENBQUM7QUFDbEMsTUFBTUUsVUFBVUYsbUJBQU9BLENBQUM7QUFDeEIsTUFBTUcsY0FBY0gsbUJBQU9BLENBQUM7QUFDNUIsTUFBTSxFQUFFSSxlQUFlLEVBQUVDLGdCQUFnQixFQUFFQyxZQUFZLEVBQUVDLHNCQUFzQixFQUFFQyxVQUFVLEVBQUUsR0FBR1IsbUJBQU9BLENBQUM7QUFDeEcsTUFBTVMsU0FBU1QsbUJBQU9BLENBQUM7QUFDdkIsTUFBTVUsUUFBUVYsbUJBQU9BLENBQUM7QUFDdEIsTUFBTVcsa0JBQWtCWCxtQkFBT0EsQ0FBQztBQUNoQyxNQUFNLEVBQUVZLEtBQUssRUFBRSxHQUFHWixtQkFBT0EsQ0FBQztBQUMxQixNQUFNLEVBQUVhLE9BQU8sRUFBRUMsS0FBSyxFQUFFQyxFQUFFLEVBQUVDLEdBQUcsRUFBRUMsY0FBYyxFQUFFQyxLQUFLLEVBQUVDLEtBQUssRUFBRSxHQUFHbkIsbUJBQU9BLENBQUM7QUFFMUVvQixPQUFPQyxPQUFPLEdBQUc7SUFDZnRCO0lBQ0FJO0lBQ0FEO0lBQ0FEO0lBQ0FHO0lBQ0FDO0lBQ0FDO0lBQ0FDO0lBQ0FDO0lBQ0FjLFFBQVFiLE9BQU9hLE1BQU07SUFDckJELFNBQVM7UUFDUGpCO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FFO1FBQ0FDO1FBQ0FDO1FBQ0FXLEtBQUs7UUFDTEMsS0FBS2YsT0FBT2UsR0FBRztRQUNmQyxnQkFBZ0JoQixPQUFPZ0IsY0FBYztRQUNyQ1o7UUFDQUM7UUFDQUM7UUFDQUU7UUFDQUQ7UUFDQUU7UUFDQUM7SUFDRjtBQUNGO0FBRUFPLGtEQUFpRDtJQUMvQ0UsWUFBWTtJQUNaQyxLQUFLO1FBQ0gsT0FBT3BCLE9BQU9xQixPQUFPO0lBQ3ZCO0lBQ0FDLEtBQUssQ0FBQ0M7UUFDSnZCLE9BQU9xQixPQUFPLEdBQUdFO0lBQ25CO0FBQ0YsQ0FBQyxFQUFDO0FBRUZOLHVEQUFzRDtJQUNwREUsWUFBWTtJQUNaSSxPQUFPdkIsT0FBT3dCLFlBQVk7SUFDMUJDLFVBQVU7SUFDVkMsY0FBYztBQUNoQixDQUFDLEVBQUM7QUFFRixJQUFLLE1BQU1DLE9BQU94QixNQUFPO0lBQ3ZCLE1BQU1vQixRQUFRcEIsS0FBSyxDQUFDd0IsSUFBSTtJQUN4QmhCLE9BQU9DLE9BQU8sQ0FBQ0EsT0FBTyxDQUFDZSxJQUFJLEdBQUdKO0lBQzlCWixPQUFPQyxPQUFPLENBQUNBLE9BQU8sQ0FBQ2UsSUFBSUMsV0FBVyxHQUFHLEdBQUdMO0FBQzlDLEVBRUE7Ozs7Q0FJQyxJQUVEOzs7O0NBSUMsSUFFRDs7OztDQUlDLElBRUQ7Ozs7O0NBS0MsSUFFRDs7O0NBR0MsSUFFRDs7O0NBR0MsSUFFRDs7O0NBR0MsSUFFRDs7O0NBR0MsSUFFRDs7O0NBR0MsSUFFRDs7O0NBR0MsSUFFRDs7O0NBR0MsSUFFRDs7O0NBR0MsSUFFRDs7O0NBR0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9zb2RpZnktYmFja2VuZC8uL25vZGVfbW9kdWxlcy9tc3NxbC9saWIvYmFzZS9pbmRleC5qcz8yZDYyIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBDb25uZWN0aW9uUG9vbCA9IHJlcXVpcmUoJy4vY29ubmVjdGlvbi1wb29sJylcbmNvbnN0IFByZXBhcmVkU3RhdGVtZW50ID0gcmVxdWlyZSgnLi9wcmVwYXJlZC1zdGF0ZW1lbnQnKVxuY29uc3QgUmVxdWVzdCA9IHJlcXVpcmUoJy4vcmVxdWVzdCcpXG5jb25zdCBUcmFuc2FjdGlvbiA9IHJlcXVpcmUoJy4vdHJhbnNhY3Rpb24nKVxuY29uc3QgeyBDb25uZWN0aW9uRXJyb3IsIFRyYW5zYWN0aW9uRXJyb3IsIFJlcXVlc3RFcnJvciwgUHJlcGFyZWRTdGF0ZW1lbnRFcnJvciwgTVNTUUxFcnJvciB9ID0gcmVxdWlyZSgnLi4vZXJyb3InKVxuY29uc3Qgc2hhcmVkID0gcmVxdWlyZSgnLi4vc2hhcmVkJylcbmNvbnN0IFRhYmxlID0gcmVxdWlyZSgnLi4vdGFibGUnKVxuY29uc3QgSVNPTEFUSU9OX0xFVkVMID0gcmVxdWlyZSgnLi4vaXNvbGF0aW9ubGV2ZWwnKVxuY29uc3QgeyBUWVBFUyB9ID0gcmVxdWlyZSgnLi4vZGF0YXR5cGVzJylcbmNvbnN0IHsgY29ubmVjdCwgY2xvc2UsIG9uLCBvZmYsIHJlbW92ZUxpc3RlbmVyLCBxdWVyeSwgYmF0Y2ggfSA9IHJlcXVpcmUoJy4uL2dsb2JhbC1jb25uZWN0aW9uJylcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIENvbm5lY3Rpb25Qb29sLFxuICBUcmFuc2FjdGlvbixcbiAgUmVxdWVzdCxcbiAgUHJlcGFyZWRTdGF0ZW1lbnQsXG4gIENvbm5lY3Rpb25FcnJvcixcbiAgVHJhbnNhY3Rpb25FcnJvcixcbiAgUmVxdWVzdEVycm9yLFxuICBQcmVwYXJlZFN0YXRlbWVudEVycm9yLFxuICBNU1NRTEVycm9yLFxuICBkcml2ZXI6IHNoYXJlZC5kcml2ZXIsXG4gIGV4cG9ydHM6IHtcbiAgICBDb25uZWN0aW9uRXJyb3IsXG4gICAgVHJhbnNhY3Rpb25FcnJvcixcbiAgICBSZXF1ZXN0RXJyb3IsXG4gICAgUHJlcGFyZWRTdGF0ZW1lbnRFcnJvcixcbiAgICBNU1NRTEVycm9yLFxuICAgIFRhYmxlLFxuICAgIElTT0xBVElPTl9MRVZFTCxcbiAgICBUWVBFUyxcbiAgICBNQVg6IDY1NTM1LCAvLyAoMSA8PCAxNikgLSAxXG4gICAgbWFwOiBzaGFyZWQubWFwLFxuICAgIGdldFR5cGVCeVZhbHVlOiBzaGFyZWQuZ2V0VHlwZUJ5VmFsdWUsXG4gICAgY29ubmVjdCxcbiAgICBjbG9zZSxcbiAgICBvbixcbiAgICByZW1vdmVMaXN0ZW5lcixcbiAgICBvZmYsXG4gICAgcXVlcnksXG4gICAgYmF0Y2hcbiAgfVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLmV4cG9ydHMsICdQcm9taXNlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6ICgpID0+IHtcbiAgICByZXR1cm4gc2hhcmVkLlByb21pc2VcbiAgfSxcbiAgc2V0OiAodmFsdWUpID0+IHtcbiAgICBzaGFyZWQuUHJvbWlzZSA9IHZhbHVlXG4gIH1cbn0pXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUuZXhwb3J0cywgJ3ZhbHVlSGFuZGxlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgdmFsdWU6IHNoYXJlZC52YWx1ZUhhbmRsZXIsXG4gIHdyaXRhYmxlOiBmYWxzZSxcbiAgY29uZmlndXJhYmxlOiBmYWxzZVxufSlcblxuZm9yIChjb25zdCBrZXkgaW4gVFlQRVMpIHtcbiAgY29uc3QgdmFsdWUgPSBUWVBFU1trZXldXG4gIG1vZHVsZS5leHBvcnRzLmV4cG9ydHNba2V5XSA9IHZhbHVlXG4gIG1vZHVsZS5leHBvcnRzLmV4cG9ydHNba2V5LnRvVXBwZXJDYXNlKCldID0gdmFsdWVcbn1cblxuLyoqXG4gKiBAY2FsbGJhY2sgUmVxdWVzdH5yZXF1ZXN0Q2FsbGJhY2tcbiAqIEBwYXJhbSB7RXJyb3J9IGVyciBFcnJvciBvbiBlcnJvciwgb3RoZXJ3aXNlIG51bGwuXG4gKiBAcGFyYW0ge09iamVjdH0gW3Jlc3VsdF0gUmVxdWVzdCByZXN1bHQuXG4gKi9cblxuLyoqXG4gKiBAY2FsbGJhY2sgUmVxdWVzdH5idWxrQ2FsbGJhY2tcbiAqIEBwYXJhbSB7RXJyb3J9IGVyciBFcnJvciBvbiBlcnJvciwgb3RoZXJ3aXNlIG51bGwuXG4gKiBAcGFyYW0ge051bWJlcn0gW3Jvd3NBZmZlY3RlZF0gTnVtYmVyIG9mIGFmZmVjdGVkIHJvd3MuXG4gKi9cblxuLyoqXG4gKiBAY2FsbGJhY2sgYmFzaWNDYWxsYmFja1xuICogQHBhcmFtIHtFcnJvcn0gZXJyIEVycm9yIG9uIGVycm9yLCBvdGhlcndpc2UgbnVsbC5cbiAqIEBwYXJhbSB7Q29ubmVjdGlvbn0gW2Nvbm5lY3Rpb25dIEFjcXVpcmVkIGNvbm5lY3Rpb24uXG4gKi9cblxuLyoqXG4gKiBAY2FsbGJhY2sgYWNxdWlyZUNhbGxiYWNrXG4gKiBAcGFyYW0ge0Vycm9yfSBlcnIgRXJyb3Igb24gZXJyb3IsIG90aGVyd2lzZSBudWxsLlxuICogQHBhcmFtIHtDb25uZWN0aW9ufSBbY29ubmVjdGlvbl0gQWNxdWlyZWQgY29ubmVjdGlvbi5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnXSBDb25uZWN0aW9uIGNvbmZpZ1xuICovXG5cbi8qKlxuICogRGlzcGF0Y2hlZCBhZnRlciBjb25uZWN0aW9uIGhhcyBlc3RhYmxpc2hlZC5cbiAqIEBldmVudCBDb25uZWN0aW9uUG9vbCNjb25uZWN0XG4gKi9cblxuLyoqXG4gKiBEaXNwYXRjaGVkIGFmdGVyIGNvbm5lY3Rpb24gaGFzIGNsb3NlZCBhIHBvb2wgKGJ5IGNhbGxpbmcgY2xvc2UpLlxuICogQGV2ZW50IENvbm5lY3Rpb25Qb29sI2Nsb3NlXG4gKi9cblxuLyoqXG4gKiBEaXNwYXRjaGVkIHdoZW4gdHJhbnNhY3Rpb24gYmVnaW4uXG4gKiBAZXZlbnQgVHJhbnNhY3Rpb24jYmVnaW5cbiAqL1xuXG4vKipcbiAqIERpc3BhdGNoZWQgb24gc3VjY2Vzc2Z1bCBjb21taXQuXG4gKiBAZXZlbnQgVHJhbnNhY3Rpb24jY29tbWl0XG4gKi9cblxuLyoqXG4gKiBEaXNwYXRjaGVkIG9uIHN1Y2Nlc3NmdWwgcm9sbGJhY2suXG4gKiBAZXZlbnQgVHJhbnNhY3Rpb24jcm9sbGJhY2tcbiAqL1xuXG4vKipcbiAqIERpc3BhdGNoZWQgd2hlbiBtZXRhZGF0YSBmb3IgbmV3IHJlY29yZHNldCBhcmUgcGFyc2VkLlxuICogQGV2ZW50IFJlcXVlc3QjcmVjb3Jkc2V0XG4gKi9cblxuLyoqXG4gKiBEaXNwYXRjaGVkIHdoZW4gbmV3IHJvdyBpcyBwYXJzZWQuXG4gKiBAZXZlbnQgUmVxdWVzdCNyb3dcbiAqL1xuXG4vKipcbiAqIERpc3BhdGNoZWQgd2hlbiByZXF1ZXN0IGlzIGNvbXBsZXRlLlxuICogQGV2ZW50IFJlcXVlc3QjZG9uZVxuICovXG5cbi8qKlxuICogRGlzcGF0Y2hlZCBvbiBlcnJvci5cbiAqIEBldmVudCBSZXF1ZXN0I2Vycm9yXG4gKi9cbiJdLCJuYW1lcyI6WyJDb25uZWN0aW9uUG9vbCIsInJlcXVpcmUiLCJQcmVwYXJlZFN0YXRlbWVudCIsIlJlcXVlc3QiLCJUcmFuc2FjdGlvbiIsIkNvbm5lY3Rpb25FcnJvciIsIlRyYW5zYWN0aW9uRXJyb3IiLCJSZXF1ZXN0RXJyb3IiLCJQcmVwYXJlZFN0YXRlbWVudEVycm9yIiwiTVNTUUxFcnJvciIsInNoYXJlZCIsIlRhYmxlIiwiSVNPTEFUSU9OX0xFVkVMIiwiVFlQRVMiLCJjb25uZWN0IiwiY2xvc2UiLCJvbiIsIm9mZiIsInJlbW92ZUxpc3RlbmVyIiwicXVlcnkiLCJiYXRjaCIsIm1vZHVsZSIsImV4cG9ydHMiLCJkcml2ZXIiLCJNQVgiLCJtYXAiLCJnZXRUeXBlQnlWYWx1ZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIlByb21pc2UiLCJzZXQiLCJ2YWx1ZSIsInZhbHVlSGFuZGxlciIsIndyaXRhYmxlIiwiY29uZmlndXJhYmxlIiwia2V5IiwidG9VcHBlckNhc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/mssql/lib/base/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/mssql/lib/base/prepared-statement.js":
/*!***********************************************************!*\
  !*** ./node_modules/mssql/lib/base/prepared-statement.js ***!
  \***********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst debug = __webpack_require__(/*! debug */ \"(rsc)/./node_modules/debug/src/index.js\")(\"mssql:base\");\nconst { EventEmitter } = __webpack_require__(/*! node:events */ \"node:events\");\nconst { IDS, objectHasProperty } = __webpack_require__(/*! ../utils */ \"(rsc)/./node_modules/mssql/lib/utils.js\");\nconst globalConnection = __webpack_require__(/*! ../global-connection */ \"(rsc)/./node_modules/mssql/lib/global-connection.js\");\nconst { TransactionError, PreparedStatementError } = __webpack_require__(/*! ../error */ \"(rsc)/./node_modules/mssql/lib/error/index.js\");\nconst shared = __webpack_require__(/*! ../shared */ \"(rsc)/./node_modules/mssql/lib/shared.js\");\nconst { TYPES, declare } = __webpack_require__(/*! ../datatypes */ \"(rsc)/./node_modules/mssql/lib/datatypes.js\");\n/**\n * Class PreparedStatement.\n *\n * IMPORTANT: Rememeber that each prepared statement means one reserved connection from the pool. Don't forget to unprepare a prepared statement!\n *\n * @property {String} statement Prepared SQL statement.\n */ class PreparedStatement extends EventEmitter {\n    /**\n   * Creates a new Prepared Statement.\n   *\n   * @param {ConnectionPool|Transaction} [holder]\n   */ constructor(parent){\n        super();\n        IDS.add(this, \"PreparedStatement\");\n        debug(\"ps(%d): created\", IDS.get(this));\n        this.parent = parent || globalConnection.pool;\n        this._handle = 0;\n        this.prepared = false;\n        this.parameters = {};\n    }\n    get config() {\n        return this.parent.config;\n    }\n    get connected() {\n        return this.parent.connected;\n    }\n    /**\n   * Acquire connection from connection pool.\n   *\n   * @param {Request} request Request.\n   * @param {ConnectionPool~acquireCallback} [callback] A callback which is called after connection has established, or an error has occurred. If omited, method returns Promise.\n   * @return {PreparedStatement|Promise}\n   */ acquire(request, callback) {\n        if (!this._acquiredConnection) {\n            setImmediate(callback, new PreparedStatementError(\"Statement is not prepared. Call prepare() first.\", \"ENOTPREPARED\"));\n            return this;\n        }\n        if (this._activeRequest) {\n            setImmediate(callback, new TransactionError(\"Can't acquire connection for the request. There is another request in progress.\", \"EREQINPROG\"));\n            return this;\n        }\n        this._activeRequest = request;\n        setImmediate(callback, null, this._acquiredConnection, this._acquiredConfig);\n        return this;\n    }\n    /**\n   * Release connection back to the pool.\n   *\n   * @param {Connection} connection Previously acquired connection.\n   * @return {PreparedStatement}\n   */ release(connection) {\n        if (connection === this._acquiredConnection) {\n            this._activeRequest = null;\n        }\n        return this;\n    }\n    /**\n   * Add an input parameter to the prepared statement.\n   *\n   * @param {String} name Name of the input parameter without @ char.\n   * @param {*} type SQL data type of input parameter.\n   * @return {PreparedStatement}\n   */ input(name, type) {\n        if (/--| |\\/\\*|\\*\\/|'/.test(name)) {\n            throw new PreparedStatementError(`SQL injection warning for param '${name}'`, \"EINJECT\");\n        }\n        if (arguments.length < 2) {\n            throw new PreparedStatementError(\"Invalid number of arguments. 2 arguments expected.\", \"EARGS\");\n        }\n        if (type instanceof Function) {\n            type = type();\n        }\n        if (objectHasProperty(this.parameters, name)) {\n            throw new PreparedStatementError(`The parameter name ${name} has already been declared. Parameter names must be unique`, \"EDUPEPARAM\");\n        }\n        this.parameters[name] = {\n            name,\n            type: type.type,\n            io: 1,\n            length: type.length,\n            scale: type.scale,\n            precision: type.precision,\n            tvpType: type.tvpType\n        };\n        return this;\n    }\n    /**\n   * Replace an input parameter on the request.\n   *\n   * @param {String} name Name of the input parameter without @ char.\n   * @param {*} [type] SQL data type of input parameter. If you omit type, module automaticaly decide which SQL data type should be used based on JS data type.\n   * @param {*} value Input parameter value. `undefined` and `NaN` values are automatically converted to `null` values.\n   * @return {Request}\n   */ replaceInput(name, type, value) {\n        delete this.parameters[name];\n        return this.input(name, type, value);\n    }\n    /**\n   * Add an output parameter to the prepared statement.\n   *\n   * @param {String} name Name of the output parameter without @ char.\n   * @param {*} type SQL data type of output parameter.\n   * @return {PreparedStatement}\n   */ output(name, type) {\n        if (/--| |\\/\\*|\\*\\/|'/.test(name)) {\n            throw new PreparedStatementError(`SQL injection warning for param '${name}'`, \"EINJECT\");\n        }\n        if (arguments.length < 2) {\n            throw new PreparedStatementError(\"Invalid number of arguments. 2 arguments expected.\", \"EARGS\");\n        }\n        if (type instanceof Function) type = type();\n        if (objectHasProperty(this.parameters, name)) {\n            throw new PreparedStatementError(`The parameter name ${name} has already been declared. Parameter names must be unique`, \"EDUPEPARAM\");\n        }\n        this.parameters[name] = {\n            name,\n            type: type.type,\n            io: 2,\n            length: type.length,\n            scale: type.scale,\n            precision: type.precision\n        };\n        return this;\n    }\n    /**\n   * Replace an output parameter on the request.\n   *\n   * @param {String} name Name of the output parameter without @ char.\n   * @param {*} type SQL data type of output parameter.\n   * @return {PreparedStatement}\n   */ replaceOutput(name, type) {\n        delete this.parameters[name];\n        return this.output(name, type);\n    }\n    /**\n   * Prepare a statement.\n   *\n   * @param {String} statement SQL statement to prepare.\n   * @param {basicCallback} [callback] A callback which is called after preparation has completed, or an error has occurred. If omited, method returns Promise.\n   * @return {PreparedStatement|Promise}\n   */ prepare(statement, callback) {\n        if (typeof callback === \"function\") {\n            this._prepare(statement, callback);\n            return this;\n        }\n        return new shared.Promise((resolve, reject)=>{\n            this._prepare(statement, (err)=>{\n                if (err) return reject(err);\n                resolve(this);\n            });\n        });\n    }\n    /**\n   * @private\n   * @param {String} statement\n   * @param {basicCallback} callback\n   */ _prepare(statement, callback) {\n        debug(\"ps(%d): prepare\", IDS.get(this));\n        if (typeof statement === \"function\") {\n            callback = statement;\n            statement = undefined;\n        }\n        if (this.prepared) {\n            return setImmediate(callback, new PreparedStatementError(\"Statement is already prepared.\", \"EALREADYPREPARED\"));\n        }\n        this.statement = statement || this.statement;\n        this.parent.acquire(this, (err, connection, config)=>{\n            if (err) return callback(err);\n            this._acquiredConnection = connection;\n            this._acquiredConfig = config;\n            const req = new shared.driver.Request(this);\n            req.stream = false;\n            req.output(\"handle\", TYPES.Int);\n            req.input(\"params\", TYPES.NVarChar, (()=>{\n                const result = [];\n                for(const name in this.parameters){\n                    if (!objectHasProperty(this.parameters, name)) {\n                        continue;\n                    }\n                    const param = this.parameters[name];\n                    result.push(`@${name} ${declare(param.type, param)}${param.io === 2 ? \" output\" : \"\"}`);\n                }\n                return result;\n            })().join(\",\"));\n            req.input(\"stmt\", TYPES.NVarChar, this.statement);\n            req.execute(\"sp_prepare\", (err, result)=>{\n                if (err) {\n                    this.parent.release(this._acquiredConnection);\n                    this._acquiredConnection = null;\n                    this._acquiredConfig = null;\n                    return callback(err);\n                }\n                debug(\"ps(%d): prepared\", IDS.get(this));\n                this._handle = result.output.handle;\n                this.prepared = true;\n                callback(null);\n            });\n        });\n    }\n    /**\n   * Execute a prepared statement.\n   *\n   * @param {Object} values An object whose names correspond to the names of parameters that were added to the prepared statement before it was prepared.\n   * @param {basicCallback} [callback] A callback which is called after execution has completed, or an error has occurred. If omited, method returns Promise.\n   * @return {Request|Promise}\n   */ execute(values, callback) {\n        if (this.stream || typeof callback === \"function\") {\n            return this._execute(values, callback);\n        }\n        return new shared.Promise((resolve, reject)=>{\n            this._execute(values, (err, recordset)=>{\n                if (err) return reject(err);\n                resolve(recordset);\n            });\n        });\n    }\n    /**\n   * @private\n   * @param {Object} values\n   * @param {basicCallback} callback\n   */ _execute(values, callback) {\n        const req = new shared.driver.Request(this);\n        req.stream = this.stream;\n        req.arrayRowMode = this.arrayRowMode;\n        req.input(\"handle\", TYPES.Int, this._handle);\n        // copy parameters with new values\n        for(const name in this.parameters){\n            if (!objectHasProperty(this.parameters, name)) {\n                continue;\n            }\n            const param = this.parameters[name];\n            req.parameters[name] = {\n                name,\n                type: param.type,\n                io: param.io,\n                value: values[name],\n                length: param.length,\n                scale: param.scale,\n                precision: param.precision\n            };\n        }\n        req.execute(\"sp_execute\", (err, result)=>{\n            if (err) return callback(err);\n            callback(null, result);\n        });\n        return req;\n    }\n    /**\n   * Unprepare a prepared statement.\n   *\n   * @param {basicCallback} [callback] A callback which is called after unpreparation has completed, or an error has occurred. If omited, method returns Promise.\n   * @return {PreparedStatement|Promise}\n   */ unprepare(callback) {\n        if (typeof callback === \"function\") {\n            this._unprepare(callback);\n            return this;\n        }\n        return new shared.Promise((resolve, reject)=>{\n            this._unprepare((err)=>{\n                if (err) return reject(err);\n                resolve();\n            });\n        });\n    }\n    /**\n   * @private\n   * @param {basicCallback} callback\n   */ _unprepare(callback) {\n        debug(\"ps(%d): unprepare\", IDS.get(this));\n        if (!this.prepared) {\n            return setImmediate(callback, new PreparedStatementError(\"Statement is not prepared. Call prepare() first.\", \"ENOTPREPARED\"));\n        }\n        if (this._activeRequest) {\n            return setImmediate(callback, new TransactionError(\"Can't unprepare the statement. There is a request in progress.\", \"EREQINPROG\"));\n        }\n        const req = new shared.driver.Request(this);\n        req.stream = false;\n        req.input(\"handle\", TYPES.Int, this._handle);\n        req.execute(\"sp_unprepare\", (err)=>{\n            if (err) return callback(err);\n            this.parent.release(this._acquiredConnection);\n            this._acquiredConnection = null;\n            this._acquiredConfig = null;\n            this._handle = 0;\n            this.prepared = false;\n            debug(\"ps(%d): unprepared\", IDS.get(this));\n            return callback(null);\n        });\n    }\n}\nmodule.exports = PreparedStatement;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbXNzcWwvbGliL2Jhc2UvcHJlcGFyZWQtc3RhdGVtZW50LmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBRUEsTUFBTUEsUUFBUUMsbUJBQU9BLENBQUMsd0RBQVM7QUFDL0IsTUFBTSxFQUFFQyxZQUFZLEVBQUUsR0FBR0QsbUJBQU9BLENBQUM7QUFDakMsTUFBTSxFQUFFRSxHQUFHLEVBQUVDLGlCQUFpQixFQUFFLEdBQUdILG1CQUFPQSxDQUFDO0FBQzNDLE1BQU1JLG1CQUFtQkosbUJBQU9BLENBQUM7QUFDakMsTUFBTSxFQUFFSyxnQkFBZ0IsRUFBRUMsc0JBQXNCLEVBQUUsR0FBR04sbUJBQU9BLENBQUM7QUFDN0QsTUFBTU8sU0FBU1AsbUJBQU9BLENBQUM7QUFDdkIsTUFBTSxFQUFFUSxLQUFLLEVBQUVDLE9BQU8sRUFBRSxHQUFHVCxtQkFBT0EsQ0FBQztBQUVuQzs7Ozs7O0NBTUMsR0FFRCxNQUFNVSwwQkFBMEJUO0lBQzlCOzs7O0dBSUMsR0FFRFUsWUFBYUMsTUFBTSxDQUFFO1FBQ25CLEtBQUs7UUFFTFYsSUFBSVcsR0FBRyxDQUFDLElBQUksRUFBRTtRQUNkZCxNQUFNLG1CQUFtQkcsSUFBSVksR0FBRyxDQUFDLElBQUk7UUFFckMsSUFBSSxDQUFDRixNQUFNLEdBQUdBLFVBQVVSLGlCQUFpQlcsSUFBSTtRQUM3QyxJQUFJLENBQUNDLE9BQU8sR0FBRztRQUNmLElBQUksQ0FBQ0MsUUFBUSxHQUFHO1FBQ2hCLElBQUksQ0FBQ0MsVUFBVSxHQUFHLENBQUM7SUFDckI7SUFFQSxJQUFJQyxTQUFVO1FBQ1osT0FBTyxJQUFJLENBQUNQLE1BQU0sQ0FBQ08sTUFBTTtJQUMzQjtJQUVBLElBQUlDLFlBQWE7UUFDZixPQUFPLElBQUksQ0FBQ1IsTUFBTSxDQUFDUSxTQUFTO0lBQzlCO0lBRUE7Ozs7OztHQU1DLEdBRURDLFFBQVNDLE9BQU8sRUFBRUMsUUFBUSxFQUFFO1FBQzFCLElBQUksQ0FBQyxJQUFJLENBQUNDLG1C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QUFHO1lBRWhCbEIsTUFBTSxzQkFBc0JHLElBQUlZLEdBQUcsQ0FBQyxJQUFJO1lBRXhDLE9BQU9TLFNBQVM7UUFDbEI7SUFDRjtBQUNGO0FBRUFnRCxPQUFPQyxPQUFPLEdBQUc5RCIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb3NvZGlmeS1iYWNrZW5kLy4vbm9kZV9tb2R1bGVzL21zc3FsL2xpYi9iYXNlL3ByZXBhcmVkLXN0YXRlbWVudC5qcz84NjJjIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBkZWJ1ZyA9IHJlcXVpcmUoJ2RlYnVnJykoJ21zc3FsOmJhc2UnKVxuY29uc3QgeyBFdmVudEVtaXR0ZXIgfSA9IHJlcXVpcmUoJ25vZGU6ZXZlbnRzJylcbmNvbnN0IHsgSURTLCBvYmplY3RIYXNQcm9wZXJ0eSB9ID0gcmVxdWlyZSgnLi4vdXRpbHMnKVxuY29uc3QgZ2xvYmFsQ29ubmVjdGlvbiA9IHJlcXVpcmUoJy4uL2dsb2JhbC1jb25uZWN0aW9uJylcbmNvbnN0IHsgVHJhbnNhY3Rpb25FcnJvciwgUHJlcGFyZWRTdGF0ZW1lbnRFcnJvciB9ID0gcmVxdWlyZSgnLi4vZXJyb3InKVxuY29uc3Qgc2hhcmVkID0gcmVxdWlyZSgnLi4vc2hhcmVkJylcbmNvbnN0IHsgVFlQRVMsIGRlY2xhcmUgfSA9IHJlcXVpcmUoJy4uL2RhdGF0eXBlcycpXG5cbi8qKlxuICogQ2xhc3MgUHJlcGFyZWRTdGF0ZW1lbnQuXG4gKlxuICogSU1QT1JUQU5UOiBSZW1lbWViZXIgdGhhdCBlYWNoIHByZXBhcmVkIHN0YXRlbWVudCBtZWFucyBvbmUgcmVzZXJ2ZWQgY29ubmVjdGlvbiBmcm9tIHRoZSBwb29sLiBEb24ndCBmb3JnZXQgdG8gdW5wcmVwYXJlIGEgcHJlcGFyZWQgc3RhdGVtZW50IVxuICpcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBzdGF0ZW1lbnQgUHJlcGFyZWQgU1FMIHN0YXRlbWVudC5cbiAqL1xuXG5jbGFzcyBQcmVwYXJlZFN0YXRlbWVudCBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IFByZXBhcmVkIFN0YXRlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtDb25uZWN0aW9uUG9vbHxUcmFuc2FjdGlvbn0gW2hvbGRlcl1cbiAgICovXG5cbiAgY29uc3RydWN0b3IgKHBhcmVudCkge1xuICAgIHN1cGVyKClcblxuICAgIElEUy5hZGQodGhpcywgJ1ByZXBhcmVkU3RhdGVtZW50JylcbiAgICBkZWJ1ZygncHMoJWQpOiBjcmVhdGVkJywgSURTLmdldCh0aGlzKSlcblxuICAgIHRoaXMucGFyZW50ID0gcGFyZW50IHx8IGdsb2JhbENvbm5lY3Rpb24ucG9vbFxuICAgIHRoaXMuX2hhbmRsZSA9IDBcbiAgICB0aGlzLnByZXBhcmVkID0gZmFsc2VcbiAgICB0aGlzLnBhcmFtZXRlcnMgPSB7fVxuICB9XG5cbiAgZ2V0IGNvbmZpZyAoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFyZW50LmNvbmZpZ1xuICB9XG5cbiAgZ2V0IGNvbm5lY3RlZCAoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFyZW50LmNvbm5lY3RlZFxuICB9XG5cbiAgLyoqXG4gICAqIEFjcXVpcmUgY29ubmVjdGlvbiBmcm9tIGNvbm5lY3Rpb24gcG9vbC5cbiAgICpcbiAgICogQHBhcmFtIHtSZXF1ZXN0fSByZXF1ZXN0IFJlcXVlc3QuXG4gICAqIEBwYXJhbSB7Q29ubmVjdGlvblBvb2x+YWNxdWlyZUNhbGxiYWNrfSBbY2FsbGJhY2tdIEEgY2FsbGJhY2sgd2hpY2ggaXMgY2FsbGVkIGFmdGVyIGNvbm5lY3Rpb24gaGFzIGVzdGFibGlzaGVkLCBvciBhbiBlcnJvciBoYXMgb2NjdXJyZWQuIElmIG9taXRlZCwgbWV0aG9kIHJldHVybnMgUHJvbWlzZS5cbiAgICogQHJldHVybiB7UHJlcGFyZWRTdGF0ZW1lbnR8UHJvbWlzZX1cbiAgICovXG5cbiAgYWNxdWlyZSAocmVxdWVzdCwgY2FsbGJhY2spIHtcbiAgICBpZiAoIXRoaXMuX2FjcXVpcmVkQ29ubmVjdGlvbikge1xuICAgICAgc2V0SW1tZWRpYXRlKGNhbGxiYWNrLCBuZXcgUHJlcGFyZWRTdGF0ZW1lbnRFcnJvcignU3RhdGVtZW50IGlzIG5vdCBwcmVwYXJlZC4gQ2FsbCBwcmVwYXJlKCkgZmlyc3QuJywgJ0VOT1RQUkVQQVJFRCcpKVxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fYWN0aXZlUmVxdWVzdCkge1xuICAgICAgc2V0SW1tZWRpYXRlKGNhbGxiYWNrLCBuZXcgVHJhbnNhY3Rpb25FcnJvcihcIkNhbid0IGFjcXVpcmUgY29ubmVjdGlvbiBmb3IgdGhlIHJlcXVlc3QuIFRoZXJlIGlzIGFub3RoZXIgcmVxdWVzdCBpbiBwcm9ncmVzcy5cIiwgJ0VSRVFJTlBST0cnKSlcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgdGhpcy5fYWN0aXZlUmVxdWVzdCA9IHJlcXVlc3RcbiAgICBzZXRJbW1lZGlhdGUoY2FsbGJhY2ssIG51bGwsIHRoaXMuX2FjcXVpcmVkQ29ubmVjdGlvbiwgdGhpcy5fYWNxdWlyZWRDb25maWcpXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWxlYXNlIGNvbm5lY3Rpb24gYmFjayB0byB0aGUgcG9vbC5cbiAgICpcbiAgICogQHBhcmFtIHtDb25uZWN0aW9ufSBjb25uZWN0aW9uIFByZXZpb3VzbHkgYWNxdWlyZWQgY29ubmVjdGlvbi5cbiAgICogQHJldHVybiB7UHJlcGFyZWRTdGF0ZW1lbnR9XG4gICAqL1xuXG4gIHJlbGVhc2UgKGNvbm5lY3Rpb24pIHtcbiAgICBpZiAoY29ubmVjdGlvbiA9PT0gdGhpcy5fYWNxdWlyZWRDb25uZWN0aW9uKSB7XG4gICAgICB0aGlzLl9hY3RpdmVSZXF1ZXN0ID0gbnVsbFxuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQWRkIGFuIGlucHV0IHBhcmFtZXRlciB0byB0aGUgcHJlcGFyZWQgc3RhdGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBOYW1lIG9mIHRoZSBpbnB1dCBwYXJhbWV0ZXIgd2l0aG91dCBAIGNoYXIuXG4gICAqIEBwYXJhbSB7Kn0gdHlwZSBTUUwgZGF0YSB0eXBlIG9mIGlucHV0IHBhcmFtZXRlci5cbiAgICogQHJldHVybiB7UHJlcGFyZWRTdGF0ZW1lbnR9XG4gICAqL1xuXG4gIGlucHV0IChuYW1lLCB0eXBlKSB7XG4gICAgaWYgKC8tLXwgfFxcL1xcKnxcXCpcXC98Jy8udGVzdChuYW1lKSkge1xuICAgICAgdGhyb3cgbmV3IFByZXBhcmVkU3RhdGVtZW50RXJyb3IoYFNRTCBpbmplY3Rpb24gd2FybmluZyBmb3IgcGFyYW0gJyR7bmFtZX0nYCwgJ0VJTkpFQ1QnKVxuICAgIH1cblxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikge1xuICAgICAgdGhyb3cgbmV3IFByZXBhcmVkU3RhdGVtZW50RXJyb3IoJ0ludmFsaWQgbnVtYmVyIG9mIGFyZ3VtZW50cy4gMiBhcmd1bWVudHMgZXhwZWN0ZWQuJywgJ0VBUkdTJylcbiAgICB9XG5cbiAgICBpZiAodHlwZSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICB0eXBlID0gdHlwZSgpXG4gICAgfVxuXG4gICAgaWYgKG9iamVjdEhhc1Byb3BlcnR5KHRoaXMucGFyYW1ldGVycywgbmFtZSkpIHtcbiAgICAgIHRocm93IG5ldyBQcmVwYXJlZFN0YXRlbWVudEVycm9yKGBUaGUgcGFyYW1ldGVyIG5hbWUgJHtuYW1lfSBoYXMgYWxyZWFkeSBiZWVuIGRlY2xhcmVkLiBQYXJhbWV0ZXIgbmFtZXMgbXVzdCBiZSB1bmlxdWVgLCAnRURVUEVQQVJBTScpXG4gICAgfVxuXG4gICAgdGhpcy5wYXJhbWV0ZXJzW25hbWVdID0ge1xuICAgICAgbmFtZSxcbiAgICAgIHR5cGU6IHR5cGUudHlwZSxcbiAgICAgIGlvOiAxLFxuICAgICAgbGVuZ3RoOiB0eXBlLmxlbmd0aCxcbiAgICAgIHNjYWxlOiB0eXBlLnNjYWxlLFxuICAgICAgcHJlY2lzaW9uOiB0eXBlLnByZWNpc2lvbixcbiAgICAgIHR2cFR5cGU6IHR5cGUudHZwVHlwZVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogUmVwbGFjZSBhbiBpbnB1dCBwYXJhbWV0ZXIgb24gdGhlIHJlcXVlc3QuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIE5hbWUgb2YgdGhlIGlucHV0IHBhcmFtZXRlciB3aXRob3V0IEAgY2hhci5cbiAgICogQHBhcmFtIHsqfSBbdHlwZV0gU1FMIGRhdGEgdHlwZSBvZiBpbnB1dCBwYXJhbWV0ZXIuIElmIHlvdSBvbWl0IHR5cGUsIG1vZHVsZSBhdXRvbWF0aWNhbHkgZGVjaWRlIHdoaWNoIFNRTCBkYXRhIHR5cGUgc2hvdWxkIGJlIHVzZWQgYmFzZWQgb24gSlMgZGF0YSB0eXBlLlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIElucHV0IHBhcmFtZXRlciB2YWx1ZS4gYHVuZGVmaW5lZGAgYW5kIGBOYU5gIHZhbHVlcyBhcmUgYXV0b21hdGljYWxseSBjb252ZXJ0ZWQgdG8gYG51bGxgIHZhbHVlcy5cbiAgICogQHJldHVybiB7UmVxdWVzdH1cbiAgICovXG5cbiAgcmVwbGFjZUlucHV0IChuYW1lLCB0eXBlLCB2YWx1ZSkge1xuICAgIGRlbGV0ZSB0aGlzLnBhcmFtZXRlcnNbbmFtZV1cblxuICAgIHJldHVybiB0aGlzLmlucHV0KG5hbWUsIHR5cGUsIHZhbHVlKVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhbiBvdXRwdXQgcGFyYW1ldGVyIHRvIHRoZSBwcmVwYXJlZCBzdGF0ZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIE5hbWUgb2YgdGhlIG91dHB1dCBwYXJhbWV0ZXIgd2l0aG91dCBAIGNoYXIuXG4gICAqIEBwYXJhbSB7Kn0gdHlwZSBTUUwgZGF0YSB0eXBlIG9mIG91dHB1dCBwYXJhbWV0ZXIuXG4gICAqIEByZXR1cm4ge1ByZXBhcmVkU3RhdGVtZW50fVxuICAgKi9cblxuICBvdXRwdXQgKG5hbWUsIHR5cGUpIHtcbiAgICBpZiAoLy0tfCB8XFwvXFwqfFxcKlxcL3wnLy50ZXN0KG5hbWUpKSB7XG4gICAgICB0aHJvdyBuZXcgUHJlcGFyZWRTdGF0ZW1lbnRFcnJvcihgU1FMIGluamVjdGlvbiB3YXJuaW5nIGZvciBwYXJhbSAnJHtuYW1lfSdgLCAnRUlOSkVDVCcpXG4gICAgfVxuXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgICB0aHJvdyBuZXcgUHJlcGFyZWRTdGF0ZW1lbnRFcnJvcignSW52YWxpZCBudW1iZXIgb2YgYXJndW1lbnRzLiAyIGFyZ3VtZW50cyBleHBlY3RlZC4nLCAnRUFSR1MnKVxuICAgIH1cblxuICAgIGlmICh0eXBlIGluc3RhbmNlb2YgRnVuY3Rpb24pIHR5cGUgPSB0eXBlKClcblxuICAgIGlmIChvYmplY3RIYXNQcm9wZXJ0eSh0aGlzLnBhcmFtZXRlcnMsIG5hbWUpKSB7XG4gICAgICB0aHJvdyBuZXcgUHJlcGFyZWRTdGF0ZW1lbnRFcnJvcihgVGhlIHBhcmFtZXRlciBuYW1lICR7bmFtZX0gaGFzIGFscmVhZHkgYmVlbiBkZWNsYXJlZC4gUGFyYW1ldGVyIG5hbWVzIG11c3QgYmUgdW5pcXVlYCwgJ0VEVVBFUEFSQU0nKVxuICAgIH1cblxuICAgIHRoaXMucGFyYW1ldGVyc1tuYW1lXSA9IHtcbiAgICAgIG5hbWUsXG4gICAgICB0eXBlOiB0eXBlLnR5cGUsXG4gICAgICBpbzogMixcbiAgICAgIGxlbmd0aDogdHlwZS5sZW5ndGgsXG4gICAgICBzY2FsZTogdHlwZS5zY2FsZSxcbiAgICAgIHByZWNpc2lvbjogdHlwZS5wcmVjaXNpb25cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcGxhY2UgYW4gb3V0cHV0IHBhcmFtZXRlciBvbiB0aGUgcmVxdWVzdC5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgTmFtZSBvZiB0aGUgb3V0cHV0IHBhcmFtZXRlciB3aXRob3V0IEAgY2hhci5cbiAgICogQHBhcmFtIHsqfSB0eXBlIFNRTCBkYXRhIHR5cGUgb2Ygb3V0cHV0IHBhcmFtZXRlci5cbiAgICogQHJldHVybiB7UHJlcGFyZWRTdGF0ZW1lbnR9XG4gICAqL1xuXG4gIHJlcGxhY2VPdXRwdXQgKG5hbWUsIHR5cGUpIHtcbiAgICBkZWxldGUgdGhpcy5wYXJhbWV0ZXJzW25hbWVdXG5cbiAgICByZXR1cm4gdGhpcy5vdXRwdXQobmFtZSwgdHlwZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBQcmVwYXJlIGEgc3RhdGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gc3RhdGVtZW50IFNRTCBzdGF0ZW1lbnQgdG8gcHJlcGFyZS5cbiAgICogQHBhcmFtIHtiYXNpY0NhbGxiYWNrfSBbY2FsbGJhY2tdIEEgY2FsbGJhY2sgd2hpY2ggaXMgY2FsbGVkIGFmdGVyIHByZXBhcmF0aW9uIGhhcyBjb21wbGV0ZWQsIG9yIGFuIGVycm9yIGhhcyBvY2N1cnJlZC4gSWYgb21pdGVkLCBtZXRob2QgcmV0dXJucyBQcm9taXNlLlxuICAgKiBAcmV0dXJuIHtQcmVwYXJlZFN0YXRlbWVudHxQcm9taXNlfVxuICAgKi9cblxuICBwcmVwYXJlIChzdGF0ZW1lbnQsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5fcHJlcGFyZShzdGF0ZW1lbnQsIGNhbGxiYWNrKVxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IHNoYXJlZC5Qcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMuX3ByZXBhcmUoc3RhdGVtZW50LCBlcnIgPT4ge1xuICAgICAgICBpZiAoZXJyKSByZXR1cm4gcmVqZWN0KGVycilcbiAgICAgICAgcmVzb2x2ZSh0aGlzKVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzdGF0ZW1lbnRcbiAgICogQHBhcmFtIHtiYXNpY0NhbGxiYWNrfSBjYWxsYmFja1xuICAgKi9cblxuICBfcHJlcGFyZSAoc3RhdGVtZW50LCBjYWxsYmFjaykge1xuICAgIGRlYnVnKCdwcyglZCk6IHByZXBhcmUnLCBJRFMuZ2V0KHRoaXMpKVxuXG4gICAgaWYgKHR5cGVvZiBzdGF0ZW1lbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gc3RhdGVtZW50XG4gICAgICBzdGF0ZW1lbnQgPSB1bmRlZmluZWRcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wcmVwYXJlZCkge1xuICAgICAgcmV0dXJuIHNldEltbWVkaWF0ZShjYWxsYmFjaywgbmV3IFByZXBhcmVkU3RhdGVtZW50RXJyb3IoJ1N0YXRlbWVudCBpcyBhbHJlYWR5IHByZXBhcmVkLicsICdFQUxSRUFEWVBSRVBBUkVEJykpXG4gICAgfVxuXG4gICAgdGhpcy5zdGF0ZW1lbnQgPSBzdGF0ZW1lbnQgfHwgdGhpcy5zdGF0ZW1lbnRcblxuICAgIHRoaXMucGFyZW50LmFjcXVpcmUodGhpcywgKGVyciwgY29ubmVjdGlvbiwgY29uZmlnKSA9PiB7XG4gICAgICBpZiAoZXJyKSByZXR1cm4gY2FsbGJhY2soZXJyKVxuXG4gICAgICB0aGlzLl9hY3F1aXJlZENvbm5lY3Rpb24gPSBjb25uZWN0aW9uXG4gICAgICB0aGlzLl9hY3F1aXJlZENvbmZpZyA9IGNvbmZpZ1xuXG4gICAgICBjb25zdCByZXEgPSBuZXcgc2hhcmVkLmRyaXZlci5SZXF1ZXN0KHRoaXMpXG4gICAgICByZXEuc3RyZWFtID0gZmFsc2VcbiAgICAgIHJlcS5vdXRwdXQoJ2hhbmRsZScsIFRZUEVTLkludClcbiAgICAgIHJlcS5pbnB1dCgncGFyYW1zJywgVFlQRVMuTlZhckNoYXIsICgoKCkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXVxuICAgICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gdGhpcy5wYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgaWYgKCFvYmplY3RIYXNQcm9wZXJ0eSh0aGlzLnBhcmFtZXRlcnMsIG5hbWUpKSB7XG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBwYXJhbSA9IHRoaXMucGFyYW1ldGVyc1tuYW1lXVxuICAgICAgICAgIHJlc3VsdC5wdXNoKGBAJHtuYW1lfSAke2RlY2xhcmUocGFyYW0udHlwZSwgcGFyYW0pfSR7cGFyYW0uaW8gPT09IDIgPyAnIG91dHB1dCcgOiAnJ31gKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICAgIH0pKCkpLmpvaW4oJywnKSlcbiAgICAgIHJlcS5pbnB1dCgnc3RtdCcsIFRZUEVTLk5WYXJDaGFyLCB0aGlzLnN0YXRlbWVudClcbiAgICAgIHJlcS5leGVjdXRlKCdzcF9wcmVwYXJlJywgKGVyciwgcmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICB0aGlzLnBhcmVudC5yZWxlYXNlKHRoaXMuX2FjcXVpcmVkQ29ubmVjdGlvbilcbiAgICAgICAgICB0aGlzLl9hY3F1aXJlZENvbm5lY3Rpb24gPSBudWxsXG4gICAgICAgICAgdGhpcy5fYWNxdWlyZWRDb25maWcgPSBudWxsXG5cbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKVxuICAgICAgICB9XG5cbiAgICAgICAgZGVidWcoJ3BzKCVkKTogcHJlcGFyZWQnLCBJRFMuZ2V0KHRoaXMpKVxuXG4gICAgICAgIHRoaXMuX2hhbmRsZSA9IHJlc3VsdC5vdXRwdXQuaGFuZGxlXG4gICAgICAgIHRoaXMucHJlcGFyZWQgPSB0cnVlXG5cbiAgICAgICAgY2FsbGJhY2sobnVsbClcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgcHJlcGFyZWQgc3RhdGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gdmFsdWVzIEFuIG9iamVjdCB3aG9zZSBuYW1lcyBjb3JyZXNwb25kIHRvIHRoZSBuYW1lcyBvZiBwYXJhbWV0ZXJzIHRoYXQgd2VyZSBhZGRlZCB0byB0aGUgcHJlcGFyZWQgc3RhdGVtZW50IGJlZm9yZSBpdCB3YXMgcHJlcGFyZWQuXG4gICAqIEBwYXJhbSB7YmFzaWNDYWxsYmFja30gW2NhbGxiYWNrXSBBIGNhbGxiYWNrIHdoaWNoIGlzIGNhbGxlZCBhZnRlciBleGVjdXRpb24gaGFzIGNvbXBsZXRlZCwgb3IgYW4gZXJyb3IgaGFzIG9jY3VycmVkLiBJZiBvbWl0ZWQsIG1ldGhvZCByZXR1cm5zIFByb21pc2UuXG4gICAqIEByZXR1cm4ge1JlcXVlc3R8UHJvbWlzZX1cbiAgICovXG5cbiAgZXhlY3V0ZSAodmFsdWVzLCBjYWxsYmFjaykge1xuICAgIGlmICh0aGlzLnN0cmVhbSB8fCAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2V4ZWN1dGUodmFsdWVzLCBjYWxsYmFjaylcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IHNoYXJlZC5Qcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMuX2V4ZWN1dGUodmFsdWVzLCAoZXJyLCByZWNvcmRzZXQpID0+IHtcbiAgICAgICAgaWYgKGVycikgcmV0dXJuIHJlamVjdChlcnIpXG4gICAgICAgIHJlc29sdmUocmVjb3Jkc2V0KVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZXNcbiAgICogQHBhcmFtIHtiYXNpY0NhbGxiYWNrfSBjYWxsYmFja1xuICAgKi9cblxuICBfZXhlY3V0ZSAodmFsdWVzLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IHJlcSA9IG5ldyBzaGFyZWQuZHJpdmVyLlJlcXVlc3QodGhpcylcbiAgICByZXEuc3RyZWFtID0gdGhpcy5zdHJlYW1cbiAgICByZXEuYXJyYXlSb3dNb2RlID0gdGhpcy5hcnJheVJvd01vZGVcbiAgICByZXEuaW5wdXQoJ2hhbmRsZScsIFRZUEVTLkludCwgdGhpcy5faGFuZGxlKVxuXG4gICAgLy8gY29weSBwYXJhbWV0ZXJzIHdpdGggbmV3IHZhbHVlc1xuICAgIGZvciAoY29uc3QgbmFtZSBpbiB0aGlzLnBhcmFtZXRlcnMpIHtcbiAgICAgIGlmICghb2JqZWN0SGFzUHJvcGVydHkodGhpcy5wYXJhbWV0ZXJzLCBuYW1lKSkge1xuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuICAgICAgY29uc3QgcGFyYW0gPSB0aGlzLnBhcmFtZXRlcnNbbmFtZV1cbiAgICAgIHJlcS5wYXJhbWV0ZXJzW25hbWVdID0ge1xuICAgICAgICBuYW1lLFxuICAgICAgICB0eXBlOiBwYXJhbS50eXBlLFxuICAgICAgICBpbzogcGFyYW0uaW8sXG4gICAgICAgIHZhbHVlOiB2YWx1ZXNbbmFtZV0sXG4gICAgICAgIGxlbmd0aDogcGFyYW0ubGVuZ3RoLFxuICAgICAgICBzY2FsZTogcGFyYW0uc2NhbGUsXG4gICAgICAgIHByZWNpc2lvbjogcGFyYW0ucHJlY2lzaW9uXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmVxLmV4ZWN1dGUoJ3NwX2V4ZWN1dGUnLCAoZXJyLCByZXN1bHQpID0+IHtcbiAgICAgIGlmIChlcnIpIHJldHVybiBjYWxsYmFjayhlcnIpXG5cbiAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdClcbiAgICB9KVxuXG4gICAgcmV0dXJuIHJlcVxuICB9XG5cbiAgLyoqXG4gICAqIFVucHJlcGFyZSBhIHByZXBhcmVkIHN0YXRlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtiYXNpY0NhbGxiYWNrfSBbY2FsbGJhY2tdIEEgY2FsbGJhY2sgd2hpY2ggaXMgY2FsbGVkIGFmdGVyIHVucHJlcGFyYXRpb24gaGFzIGNvbXBsZXRlZCwgb3IgYW4gZXJyb3IgaGFzIG9jY3VycmVkLiBJZiBvbWl0ZWQsIG1ldGhvZCByZXR1cm5zIFByb21pc2UuXG4gICAqIEByZXR1cm4ge1ByZXBhcmVkU3RhdGVtZW50fFByb21pc2V9XG4gICAqL1xuXG4gIHVucHJlcGFyZSAoY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLl91bnByZXBhcmUoY2FsbGJhY2spXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgc2hhcmVkLlByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5fdW5wcmVwYXJlKGVyciA9PiB7XG4gICAgICAgIGlmIChlcnIpIHJldHVybiByZWplY3QoZXJyKVxuICAgICAgICByZXNvbHZlKClcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge2Jhc2ljQ2FsbGJhY2t9IGNhbGxiYWNrXG4gICAqL1xuXG4gIF91bnByZXBhcmUgKGNhbGxiYWNrKSB7XG4gICAgZGVidWcoJ3BzKCVkKTogdW5wcmVwYXJlJywgSURTLmdldCh0aGlzKSlcblxuICAgIGlmICghdGhpcy5wcmVwYXJlZCkge1xuICAgICAgcmV0dXJuIHNldEltbWVkaWF0ZShjYWxsYmFjaywgbmV3IFByZXBhcmVkU3RhdGVtZW50RXJyb3IoJ1N0YXRlbWVudCBpcyBub3QgcHJlcGFyZWQuIENhbGwgcHJlcGFyZSgpIGZpcnN0LicsICdFTk9UUFJFUEFSRUQnKSlcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fYWN0aXZlUmVxdWVzdCkge1xuICAgICAgcmV0dXJuIHNldEltbWVkaWF0ZShjYWxsYmFjaywgbmV3IFRyYW5zYWN0aW9uRXJyb3IoXCJDYW4ndCB1bnByZXBhcmUgdGhlIHN0YXRlbWVudC4gVGhlcmUgaXMgYSByZXF1ZXN0IGluIHByb2dyZXNzLlwiLCAnRVJFUUlOUFJPRycpKVxuICAgIH1cblxuICAgIGNvbnN0IHJlcSA9IG5ldyBzaGFyZWQuZHJpdmVyLlJlcXVlc3QodGhpcylcbiAgICByZXEuc3RyZWFtID0gZmFsc2VcbiAgICByZXEuaW5wdXQoJ2hhbmRsZScsIFRZUEVTLkludCwgdGhpcy5faGFuZGxlKVxuICAgIHJlcS5leGVjdXRlKCdzcF91bnByZXBhcmUnLCBlcnIgPT4ge1xuICAgICAgaWYgKGVycikgcmV0dXJuIGNhbGxiYWNrKGVycilcblxuICAgICAgdGhpcy5wYXJlbnQucmVsZWFzZSh0aGlzLl9hY3F1aXJlZENvbm5lY3Rpb24pXG4gICAgICB0aGlzLl9hY3F1aXJlZENvbm5lY3Rpb24gPSBudWxsXG4gICAgICB0aGlzLl9hY3F1aXJlZENvbmZpZyA9IG51bGxcbiAgICAgIHRoaXMuX2hhbmRsZSA9IDBcbiAgICAgIHRoaXMucHJlcGFyZWQgPSBmYWxzZVxuXG4gICAgICBkZWJ1ZygncHMoJWQpOiB1bnByZXBhcmVkJywgSURTLmdldCh0aGlzKSlcblxuICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwpXG4gICAgfSlcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFByZXBhcmVkU3RhdGVtZW50XG4iXSwibmFtZXMiOlsiZGVidWciLCJyZXF1aXJlIiwiRXZlbnRFbWl0dGVyIiwiSURTIiwib2JqZWN0SGFzUHJvcGVydHkiLCJnbG9iYWxDb25uZWN0aW9uIiwiVHJhbnNhY3Rpb25FcnJvciIsIlByZXBhcmVkU3RhdGVtZW50RXJyb3IiLCJzaGFyZWQiLCJUWVBFUyIsImRlY2xhcmUiLCJQcmVwYXJlZFN0YXRlbWVudCIsImNvbnN0cnVjdG9yIiwicGFyZW50IiwiYWRkIiwiZ2V0IiwicG9vbCIsIl9oYW5kbGUiLCJwcmVwYXJlZCIsInBhcmFtZXRlcnMiLCJjb25maWciLCJjb25uZWN0ZWQiLCJhY3F1aXJlIiwicmVxdWVzdCIsImNhbGxiYWNrIiwiX2FjcXVpcmVkQ29ubmVjdGlvbiIsInNldEltbWVkaWF0ZSIsIl9hY3RpdmVSZXF1ZXN0IiwiX2FjcXVpcmVkQ29uZmlnIiwicmVsZWFzZSIsImNvbm5lY3Rpb24iLCJpbnB1dCIsIm5hbWUiLCJ0eXBlIiwidGVzdCIsImFyZ3VtZW50cyIsImxlbmd0aCIsIkZ1bmN0aW9uIiwiaW8iLCJzY2FsZSIsInByZWNpc2lvbiIsInR2cFR5cGUiLCJyZXBsYWNlSW5wdXQiLCJ2YWx1ZSIsIm91dHB1dCIsInJlcGxhY2VPdXRwdXQiLCJwcmVwYXJlIiwic3RhdGVtZW50IiwiX3ByZXBhcmUiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImVyciIsInVuZGVmaW5lZCIsInJlcSIsImRyaXZlciIsIlJlcXVlc3QiLCJzdHJlYW0iLCJJbnQiLCJOVmFyQ2hhciIsInJlc3VsdCIsInBhcmFtIiwicHVzaCIsImpvaW4iLCJleGVjdXRlIiwiaGFuZGxlIiwidmFsdWVzIiwiX2V4ZWN1dGUiLCJyZWNvcmRzZXQiLCJhcnJheVJvd01vZGUiLCJ1bnByZXBhcmUiLCJfdW5wcmVwYXJlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/mssql/lib/base/prepared-statement.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/mssql/lib/base/request.js":
/*!************************************************!*\
  !*** ./node_modules/mssql/lib/base/request.js ***!
  \************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst debug = __webpack_require__(/*! debug */ \"(rsc)/./node_modules/debug/src/index.js\")(\"mssql:base\");\nconst { EventEmitter } = __webpack_require__(/*! node:events */ \"node:events\");\nconst { Readable } = __webpack_require__(/*! node:stream */ \"node:stream\");\nconst { IDS, objectHasProperty } = __webpack_require__(/*! ../utils */ \"(rsc)/./node_modules/mssql/lib/utils.js\");\nconst globalConnection = __webpack_require__(/*! ../global-connection */ \"(rsc)/./node_modules/mssql/lib/global-connection.js\");\nconst { RequestError, ConnectionError } = __webpack_require__(/*! ../error */ \"(rsc)/./node_modules/mssql/lib/error/index.js\");\nconst { TYPES } = __webpack_require__(/*! ../datatypes */ \"(rsc)/./node_modules/mssql/lib/datatypes.js\");\nconst shared = __webpack_require__(/*! ../shared */ \"(rsc)/./node_modules/mssql/lib/shared.js\");\n/**\n * Class Request.\n *\n * @property {Transaction} transaction Reference to transaction when request was created in transaction.\n * @property {*} parameters Collection of input and output parameters.\n * @property {Boolean} canceled `true` if request was canceled.\n *\n * @fires Request#recordset\n * @fires Request#row\n * @fires Request#done\n * @fires Request#error\n */ class Request extends EventEmitter {\n    /**\n   * Create new Request.\n   *\n   * @param {Connection|ConnectionPool|Transaction|PreparedStatement} parent If omitted, global connection is used instead.\n   */ constructor(parent){\n        super();\n        IDS.add(this, \"Request\");\n        debug(\"request(%d): created\", IDS.get(this));\n        this.canceled = false;\n        this._paused = false;\n        this.parent = parent || globalConnection.pool;\n        this.parameters = {};\n        this.stream = null;\n        this.arrayRowMode = null;\n    }\n    get paused() {\n        return this._paused;\n    }\n    /**\n   * Generate sql string and set input parameters from tagged template string.\n   *\n   * @param {Template literal} template\n   * @return {String}\n   */ template() {\n        const values = Array.prototype.slice.call(arguments);\n        const strings = values.shift();\n        return this._template(strings, values);\n    }\n    /**\n   * Fetch request from tagged template string.\n   *\n   * @private\n   * @param {Array} strings\n   * @param {Array} values\n   * @param {String} [method] If provided, method is automatically called with serialized command on this object.\n   * @return {Request}\n   */ _template(strings, values, method) {\n        const command = [\n            strings[0]\n        ];\n        for(let index = 0; index < values.length; index++){\n            const value = values[index];\n            // if value is an array, prepare each items as it's own comma separated parameter\n            if (Array.isArray(value)) {\n                for(let parameterIndex = 0; parameterIndex < value.length; parameterIndex++){\n                    this.input(`param${index + 1}_${parameterIndex}`, value[parameterIndex]);\n                    command.push(`@param${index + 1}_${parameterIndex}`);\n                    if (parameterIndex < value.length - 1) {\n                        command.push(\", \");\n                    }\n                }\n                command.push(strings[index + 1]);\n            } else {\n                this.input(`param${index + 1}`, value);\n                command.push(`@param${index + 1}`, strings[index + 1]);\n            }\n        }\n        if (method) {\n            return this[method](command.join(\"\"));\n        } else {\n            return command.join(\"\");\n        }\n    }\n    /**\n   * Add an input parameter to the request.\n   *\n   * @param {String} name Name of the input parameter without @ char.\n   * @param {*} [type] SQL data type of input parameter. If you omit type, module automaticaly decide which SQL data type should be used based on JS data type.\n   * @param {*} value Input parameter value. `undefined` and `NaN` values are automatically converted to `null` values.\n   * @return {Request}\n   */ input(name, type, value) {\n        if (/--| |\\/\\*|\\*\\/|'/.test(name)) {\n            throw new RequestError(`SQL injection warning for param '${name}'`, \"EINJECT\");\n        }\n        if (arguments.length < 2) {\n            throw new RequestError(\"Invalid number of arguments. At least 2 arguments expected.\", \"EARGS\");\n        } else if (arguments.length === 2) {\n            value = type;\n            type = shared.getTypeByValue(value);\n        }\n        // support for custom data types\n        if (value && typeof value.valueOf === \"function\" && !(value instanceof Date)) value = value.valueOf();\n        if (value === undefined) value = null // undefined to null\n        ;\n        if (typeof value === \"number\" && isNaN(value)) value = null // NaN to null\n        ;\n        if (type instanceof Function) type = type();\n        if (objectHasProperty(this.parameters, name)) {\n            throw new RequestError(`The parameter name ${name} has already been declared. Parameter names must be unique`, \"EDUPEPARAM\");\n        }\n        this.parameters[name] = {\n            name,\n            type: type.type,\n            io: 1,\n            value,\n            length: type.length,\n            scale: type.scale,\n            precision: type.precision,\n            tvpType: type.tvpType\n        };\n        return this;\n    }\n    /**\n   * Replace an input parameter on the request.\n   *\n   * @param {String} name Name of the input parameter without @ char.\n   * @param {*} [type] SQL data type of input parameter. If you omit type, module automaticaly decide which SQL data type should be used based on JS data type.\n   * @param {*} value Input parameter value. `undefined` and `NaN` values are automatically converted to `null` values.\n   * @return {Request}\n   */ replaceInput(name, type, value) {\n        delete this.parameters[name];\n        return this.input(name, type, value);\n    }\n    /**\n   * Add an output parameter to the request.\n   *\n   * @param {String} name Name of the output parameter without @ char.\n   * @param {*} type SQL data type of output parameter.\n   * @param {*} [value] Output parameter value initial value. `undefined` and `NaN` values are automatically converted to `null` values. Optional.\n   * @return {Request}\n   */ output(name, type, value) {\n        if (!type) {\n            type = TYPES.NVarChar;\n        }\n        if (/--| |\\/\\*|\\*\\/|'/.test(name)) {\n            throw new RequestError(`SQL injection warning for param '${name}'`, \"EINJECT\");\n        }\n        if (type === TYPES.Text || type === TYPES.NText || type === TYPES.Image) {\n            throw new RequestError(\"Deprecated types (Text, NText, Image) are not supported as OUTPUT parameters.\", \"EDEPRECATED\");\n        }\n        // support for custom data types\n        if (value && typeof value.valueOf === \"function\" && !(value instanceof Date)) value = value.valueOf();\n        if (value === undefined) value = null // undefined to null\n        ;\n        if (typeof value === \"number\" && isNaN(value)) value = null // NaN to null\n        ;\n        if (type instanceof Function) type = type();\n        if (objectHasProperty(this.parameters, name)) {\n            throw new RequestError(`The parameter name ${name} has already been declared. Parameter names must be unique`, \"EDUPEPARAM\");\n        }\n        this.parameters[name] = {\n            name,\n            type: type.type,\n            io: 2,\n            value,\n            length: type.length,\n            scale: type.scale,\n            precision: type.precision\n        };\n        return this;\n    }\n    /**\n   * Replace an output parameter on the request.\n   *\n   * @param {String} name Name of the output parameter without @ char.\n   * @param {*} type SQL data type of output parameter.\n   * @param {*} [value] Output parameter value initial value. `undefined` and `NaN` values are automatically converted to `null` values. Optional.\n   * @return {Request}\n   */ replaceOutput(name, type, value) {\n        delete this.parameters[name];\n        return this.output(name, type, value);\n    }\n    /**\n   * Execute the SQL batch.\n   *\n   * @param {String} batch T-SQL batch to be executed.\n   * @param {Request~requestCallback} [callback] A callback which is called after execution has completed, or an error has occurred. If omited, method returns Promise.\n   * @return {Request|Promise}\n   */ batch(batch, callback) {\n        if (this.stream === null && this.parent) this.stream = this.parent.config.stream;\n        if (this.arrayRowMode === null && this.parent) this.arrayRowMode = this.parent.config.arrayRowMode;\n        this.rowsAffected = 0;\n        if (typeof callback === \"function\") {\n            this._batch(batch, (err, recordsets, output, rowsAffected)=>{\n                if (this.stream) {\n                    if (err) this.emit(\"error\", err);\n                    err = null;\n                    this.emit(\"done\", {\n                        output,\n                        rowsAffected\n                    });\n                }\n                if (err) return callback(err);\n                callback(null, {\n                    recordsets,\n                    recordset: recordsets && recordsets[0],\n                    output,\n                    rowsAffected\n                });\n            });\n            return this;\n        }\n        // Check is method was called as tagged template\n        if (typeof batch === \"object\") {\n            const values = Array.prototype.slice.call(arguments);\n            const strings = values.shift();\n            batch = this._template(strings, values);\n        }\n        return new shared.Promise((resolve, reject)=>{\n            this._batch(batch, (err, recordsets, output, rowsAffected)=>{\n                if (this.stream) {\n                    if (err) this.emit(\"error\", err);\n                    err = null;\n                    this.emit(\"done\", {\n                        output,\n                        rowsAffected\n                    });\n                }\n                if (err) return reject(err);\n                resolve({\n                    recordsets,\n                    recordset: recordsets && recordsets[0],\n                    output,\n                    rowsAffected\n                });\n            });\n        });\n    }\n    /**\n   * @private\n   * @param {String} batch\n   * @param {Request~requestCallback} callback\n   */ _batch(batch, callback) {\n        if (!this.parent) {\n            return setImmediate(callback, new RequestError(\"No connection is specified for that request.\", \"ENOCONN\"));\n        }\n        if (!this.parent.connected) {\n            return setImmediate(callback, new ConnectionError(\"Connection is closed.\", \"ECONNCLOSED\"));\n        }\n        this.canceled = false;\n        setImmediate(callback);\n    }\n    /**\n   * Bulk load.\n   *\n   * @param {Table} table SQL table.\n   * @param {object} [options] Options to be passed to the underlying driver (tedious only).\n   * @param {Request~bulkCallback} [callback] A callback which is called after bulk load has completed, or an error has occurred. If omited, method returns Promise.\n   * @return {Request|Promise}\n   */ bulk(table, options, callback) {\n        if (typeof options === \"function\") {\n            callback = options;\n            options = {};\n        } else if (typeof options === \"undefined\") {\n            options = {};\n        }\n        if (this.stream === null && this.parent) this.stream = this.parent.config.stream;\n        if (this.arrayRowMode === null && this.parent) this.arrayRowMode = this.parent.config.arrayRowMode;\n        if (this.stream || typeof callback === \"function\") {\n            this._bulk(table, options, (err, rowsAffected)=>{\n                if (this.stream) {\n                    if (err) this.emit(\"error\", err);\n                    return this.emit(\"done\", {\n                        rowsAffected\n                    });\n                }\n                if (err) return callback(err);\n                callback(null, {\n                    rowsAffected\n                });\n            });\n            return this;\n        }\n        return new shared.Promise((resolve, reject)=>{\n            this._bulk(table, options, (err, rowsAffected)=>{\n                if (err) return reject(err);\n                resolve({\n                    rowsAffected\n                });\n            });\n        });\n    }\n    /**\n   * @private\n   * @param {Table} table\n   * @param {object} options\n   * @param {Request~bulkCallback} callback\n   */ _bulk(table, options, callback) {\n        if (!this.parent) {\n            return setImmediate(callback, new RequestError(\"No connection is specified for that request.\", \"ENOCONN\"));\n        }\n        if (!this.parent.connected) {\n            return setImmediate(callback, new ConnectionError(\"Connection is closed.\", \"ECONNCLOSED\"));\n        }\n        this.canceled = false;\n        setImmediate(callback);\n    }\n    /**\n   * Wrap original request in a Readable stream that supports back pressure and return.\n   * It also sets request to `stream` mode and pulls all rows from all recordsets to a given stream.\n   *\n   * @param {Object} streamOptions - optional options to configure the readable stream with like highWaterMark\n   * @return {Stream}\n   */ toReadableStream(streamOptions = {}) {\n        this.stream = true;\n        this.pause();\n        const readableStream = new Readable({\n            ...streamOptions,\n            objectMode: true,\n            read: ()=>{\n                this.resume();\n            }\n        });\n        this.on(\"row\", (row)=>{\n            if (!readableStream.push(row)) {\n                this.pause();\n            }\n        });\n        this.on(\"error\", (error)=>{\n            readableStream.emit(\"error\", error);\n        });\n        this.on(\"done\", ()=>{\n            readableStream.push(null);\n        });\n        return readableStream;\n    }\n    /**\n   * Wrap original request in a Readable stream that supports back pressure and pipe to the Writable stream.\n   * It also sets request to `stream` mode and pulls all rows from all recordsets to a given stream.\n   *\n   * @param {Stream} stream Stream to pipe data into.\n   * @return {Stream}\n   */ pipe(writableStream) {\n        const readableStream = this.toReadableStream();\n        return readableStream.pipe(writableStream);\n    }\n    /**\n   * Execute the SQL command.\n   *\n   * @param {String} command T-SQL command to be executed.\n   * @param {Request~requestCallback} [callback] A callback which is called after execution has completed, or an error has occurred. If omited, method returns Promise.\n   * @return {Request|Promise}\n   */ query(command, callback) {\n        if (this.stream === null && this.parent) this.stream = this.parent.config.stream;\n        if (this.arrayRowMode === null && this.parent) this.arrayRowMode = this.parent.config.arrayRowMode;\n        this.rowsAffected = 0;\n        if (typeof callback === \"function\") {\n            this._query(command, (err, recordsets, output, rowsAffected, columns)=>{\n                if (this.stream) {\n                    if (err) this.emit(\"error\", err);\n                    err = null;\n                    this.emit(\"done\", {\n                        output,\n                        rowsAffected\n                    });\n                }\n                if (err) return callback(err);\n                const result = {\n                    recordsets,\n                    recordset: recordsets && recordsets[0],\n                    output,\n                    rowsAffected\n                };\n                if (this.arrayRowMode) result.columns = columns;\n                callback(null, result);\n            });\n            return this;\n        }\n        // Check is method was called as tagged template\n        if (typeof command === \"object\") {\n            const values = Array.prototype.slice.call(arguments);\n            const strings = values.shift();\n            command = this._template(strings, values);\n        }\n        return new shared.Promise((resolve, reject)=>{\n            this._query(command, (err, recordsets, output, rowsAffected, columns)=>{\n                if (this.stream) {\n                    if (err) this.emit(\"error\", err);\n                    err = null;\n                    this.emit(\"done\", {\n                        output,\n                        rowsAffected\n                    });\n                }\n                if (err) return reject(err);\n                const result = {\n                    recordsets,\n                    recordset: recordsets && recordsets[0],\n                    output,\n                    rowsAffected\n                };\n                if (this.arrayRowMode) result.columns = columns;\n                resolve(result);\n            });\n        });\n    }\n    /**\n   * @private\n   * @param {String} command\n   * @param {Request~bulkCallback} callback\n   */ _query(command, callback) {\n        if (!this.parent) {\n            return setImmediate(callback, new RequestError(\"No connection is specified for that request.\", \"ENOCONN\"));\n        }\n        if (!this.parent.connected) {\n            return setImmediate(callback, new ConnectionError(\"Connection is closed.\", \"ECONNCLOSED\"));\n        }\n        this.canceled = false;\n        setImmediate(callback);\n    }\n    /**\n   * Call a stored procedure.\n   *\n   * @param {String} procedure Name of the stored procedure to be executed.\n   * @param {Request~requestCallback} [callback] A callback which is called after execution has completed, or an error has occurred. If omited, method returns Promise.\n   * @return {Request|Promise}\n   */ execute(command, callback) {\n        if (this.stream === null && this.parent) this.stream = this.parent.config.stream;\n        if (this.arrayRowMode === null && this.parent) this.arrayRowMode = this.parent.config.arrayRowMode;\n        this.rowsAffected = 0;\n        if (typeof callback === \"function\") {\n            this._execute(command, (err, recordsets, output, returnValue, rowsAffected, columns)=>{\n                if (this.stream) {\n                    if (err) this.emit(\"error\", err);\n                    err = null;\n                    this.emit(\"done\", {\n                        output,\n                        rowsAffected,\n                        returnValue\n                    });\n                }\n                if (err) return callback(err);\n                const result = {\n                    recordsets,\n                    recordset: recordsets && recordsets[0],\n                    output,\n                    rowsAffected,\n                    returnValue\n                };\n                if (this.arrayRowMode) result.columns = columns;\n                callback(null, result);\n            });\n            return this;\n        }\n        return new shared.Promise((resolve, reject)=>{\n            this._execute(command, (err, recordsets, output, returnValue, rowsAffected, columns)=>{\n                if (this.stream) {\n                    if (err) this.emit(\"error\", err);\n                    err = null;\n                    this.emit(\"done\", {\n                        output,\n                        rowsAffected,\n                        returnValue\n                    });\n                }\n                if (err) return reject(err);\n                const result = {\n                    recordsets,\n                    recordset: recordsets && recordsets[0],\n                    output,\n                    rowsAffected,\n                    returnValue\n                };\n                if (this.arrayRowMode) result.columns = columns;\n                resolve(result);\n            });\n        });\n    }\n    /**\n   * @private\n   * @param {String} procedure\n   * @param {Request~bulkCallback} callback\n   */ _execute(procedure, callback) {\n        if (!this.parent) {\n            return setImmediate(callback, new RequestError(\"No connection is specified for that request.\", \"ENOCONN\"));\n        }\n        if (!this.parent.connected) {\n            return setImmediate(callback, new ConnectionError(\"Connection is closed.\", \"ECONNCLOSED\"));\n        }\n        this.canceled = false;\n        setImmediate(callback);\n    }\n    /**\n   * Cancel currently executed request.\n   *\n   * @return {Boolean}\n   */ cancel() {\n        this._cancel();\n        return true;\n    }\n    /**\n   * @private\n   */ _cancel() {\n        this.canceled = true;\n    }\n    pause() {\n        if (this.stream) {\n            this._pause();\n            return true;\n        }\n        return false;\n    }\n    _pause() {\n        this._paused = true;\n    }\n    resume() {\n        if (this.stream) {\n            this._resume();\n            return true;\n        }\n        return false;\n    }\n    _resume() {\n        this._paused = false;\n    }\n    _setCurrentRequest(request) {\n        this._currentRequest = request;\n        if (this._paused) {\n            this.pause();\n        }\n        return this;\n    }\n}\nmodule.exports = Request;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbXNzcWwvbGliL2Jhc2UvcmVxdWVzdC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUVBLE1BQU1BLFFBQVFDLG1CQUFPQSxDQUFDLHdEQUFTO0FBQy9CLE1BQU0sRUFBRUMsWUFBWSxFQUFFLEdBQUdELG1CQUFPQSxDQUFDO0FBQ2pDLE1BQU0sRUFBRUUsUUFBUSxFQUFFLEdBQUdGLG1CQUFPQSxDQUFDO0FBQzdCLE1BQU0sRUFBRUcsR0FBRyxFQUFFQyxpQkFBaUIsRUFBRSxHQUFHSixtQkFBT0EsQ0FBQztBQUMzQyxNQUFNSyxtQkFBbUJMLG1CQUFPQSxDQUFDO0FBQ2pDLE1BQU0sRUFBRU0sWUFBWSxFQUFFQyxlQUFlLEVBQUUsR0FBR1AsbUJBQU9BLENBQUM7QUFDbEQsTUFBTSxFQUFFUSxLQUFLLEVBQUUsR0FBR1IsbUJBQU9BLENBQUM7QUFDMUIsTUFBTVMsU0FBU1QsbUJBQU9BLENBQUM7QUFFdkI7Ozs7Ozs7Ozs7O0NBV0MsR0FFRCxNQUFNVSxnQkFBZ0JUO0lBQ3BCOzs7O0dBSUMsR0FFRFUsWUFBYUMsTUFBTSxDQUFFO1FBQ25CLEtBQUs7UUFFTFQsSUFBSVUsR0FBRyxDQUFDLElBQUksRUFBRTtRQUNkZCxNQUFNLHdCQUF3QkksSUFBSVcsR0FBRyxDQUFDLElBQUk7UUFFMUMsSUFBSSxDQUFDQyxRQUFRLEdBQUc7UUFDaEIsSUFBSSxDQUFDQyxPQUFPLEdBQUc7UUFDZixJQUFJLENBQUNKLE1BQU0sR0FBR0EsVUFBVVAsaUJBQWlCWSxJQUFJO1FBQzdDLElBQUksQ0FBQ0MsVUFBVSxHQUFHLENBQUM7UUFDbkIsSUFBSSxDQUFDQyxNQUFNLEdBQUc7UUFDZCxJQUFJLENBQUNDLFlBQVksR0FBRztJQUN0QjtJQUVBLElBQUlDLFNBQVU7UUFDWixPQUFPLElBQUksQ0FBQ0wsT0FBTztJQUNyQjtJQUVBOzs7OztHQUtDLEdBQ0RNLFdBQVk7UUFDVixNQUFNQyxTQUFTQyxNQUFNQyxTQUFTLENBQUNDLEtBQUssQ0FBQ0Ms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LEdBQUc7SUFDakI7SUFFQXdGLG1CQUFvQkMsT0FBTyxFQUFFO1FBQzNCLElBQUksQ0FBQ0MsZUFBZSxHQUFHRDtRQUN2QixJQUFJLElBQUksQ0FBQ3pGLE9BQU8sRUFBRTtZQUNoQixJQUFJLENBQUNrRSxLQUFLO1FBQ1o7UUFDQSxPQUFPLElBQUk7SUFDYjtBQUNGO0FBRUF5QixPQUFPQyxPQUFPLEdBQUdsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb3NvZGlmeS1iYWNrZW5kLy4vbm9kZV9tb2R1bGVzL21zc3FsL2xpYi9iYXNlL3JlcXVlc3QuanM/MTY5MiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcblxuY29uc3QgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdtc3NxbDpiYXNlJylcbmNvbnN0IHsgRXZlbnRFbWl0dGVyIH0gPSByZXF1aXJlKCdub2RlOmV2ZW50cycpXG5jb25zdCB7IFJlYWRhYmxlIH0gPSByZXF1aXJlKCdub2RlOnN0cmVhbScpXG5jb25zdCB7IElEUywgb2JqZWN0SGFzUHJvcGVydHkgfSA9IHJlcXVpcmUoJy4uL3V0aWxzJylcbmNvbnN0IGdsb2JhbENvbm5lY3Rpb24gPSByZXF1aXJlKCcuLi9nbG9iYWwtY29ubmVjdGlvbicpXG5jb25zdCB7IFJlcXVlc3RFcnJvciwgQ29ubmVjdGlvbkVycm9yIH0gPSByZXF1aXJlKCcuLi9lcnJvcicpXG5jb25zdCB7IFRZUEVTIH0gPSByZXF1aXJlKCcuLi9kYXRhdHlwZXMnKVxuY29uc3Qgc2hhcmVkID0gcmVxdWlyZSgnLi4vc2hhcmVkJylcblxuLyoqXG4gKiBDbGFzcyBSZXF1ZXN0LlxuICpcbiAqIEBwcm9wZXJ0eSB7VHJhbnNhY3Rpb259IHRyYW5zYWN0aW9uIFJlZmVyZW5jZSB0byB0cmFuc2FjdGlvbiB3aGVuIHJlcXVlc3Qgd2FzIGNyZWF0ZWQgaW4gdHJhbnNhY3Rpb24uXG4gKiBAcHJvcGVydHkgeyp9IHBhcmFtZXRlcnMgQ29sbGVjdGlvbiBvZiBpbnB1dCBhbmQgb3V0cHV0IHBhcmFtZXRlcnMuXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IGNhbmNlbGVkIGB0cnVlYCBpZiByZXF1ZXN0IHdhcyBjYW5jZWxlZC5cbiAqXG4gKiBAZmlyZXMgUmVxdWVzdCNyZWNvcmRzZXRcbiAqIEBmaXJlcyBSZXF1ZXN0I3Jvd1xuICogQGZpcmVzIFJlcXVlc3QjZG9uZVxuICogQGZpcmVzIFJlcXVlc3QjZXJyb3JcbiAqL1xuXG5jbGFzcyBSZXF1ZXN0IGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBuZXcgUmVxdWVzdC5cbiAgICpcbiAgICogQHBhcmFtIHtDb25uZWN0aW9ufENvbm5lY3Rpb25Qb29sfFRyYW5zYWN0aW9ufFByZXBhcmVkU3RhdGVtZW50fSBwYXJlbnQgSWYgb21pdHRlZCwgZ2xvYmFsIGNvbm5lY3Rpb24gaXMgdXNlZCBpbnN0ZWFkLlxuICAgKi9cblxuICBjb25zdHJ1Y3RvciAocGFyZW50KSB7XG4gICAgc3VwZXIoKVxuXG4gICAgSURTLmFkZCh0aGlzLCAnUmVxdWVzdCcpXG4gICAgZGVidWcoJ3JlcXVlc3QoJWQpOiBjcmVhdGVkJywgSURTLmdldCh0aGlzKSlcblxuICAgIHRoaXMuY2FuY2VsZWQgPSBmYWxzZVxuICAgIHRoaXMuX3BhdXNlZCA9IGZhbHNlXG4gICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQgfHwgZ2xvYmFsQ29ubmVjdGlvbi5wb29sXG4gICAgdGhpcy5wYXJhbWV0ZXJzID0ge31cbiAgICB0aGlzLnN0cmVhbSA9IG51bGxcbiAgICB0aGlzLmFycmF5Um93TW9kZSA9IG51bGxcbiAgfVxuXG4gIGdldCBwYXVzZWQgKCkge1xuICAgIHJldHVybiB0aGlzLl9wYXVzZWRcbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBzcWwgc3RyaW5nIGFuZCBzZXQgaW5wdXQgcGFyYW1ldGVycyBmcm9tIHRhZ2dlZCB0ZW1wbGF0ZSBzdHJpbmcuXG4gICAqXG4gICAqIEBwYXJhbSB7VGVtcGxhdGUgbGl0ZXJhbH0gdGVtcGxhdGVcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKi9cbiAgdGVtcGxhdGUgKCkge1xuICAgIGNvbnN0IHZhbHVlcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cylcbiAgICBjb25zdCBzdHJpbmdzID0gdmFsdWVzLnNoaWZ0KClcbiAgICByZXR1cm4gdGhpcy5fdGVtcGxhdGUoc3RyaW5ncywgdmFsdWVzKVxuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoIHJlcXVlc3QgZnJvbSB0YWdnZWQgdGVtcGxhdGUgc3RyaW5nLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBzdHJpbmdzXG4gICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlc1xuICAgKiBAcGFyYW0ge1N0cmluZ30gW21ldGhvZF0gSWYgcHJvdmlkZWQsIG1ldGhvZCBpcyBhdXRvbWF0aWNhbGx5IGNhbGxlZCB3aXRoIHNlcmlhbGl6ZWQgY29tbWFuZCBvbiB0aGlzIG9iamVjdC5cbiAgICogQHJldHVybiB7UmVxdWVzdH1cbiAgICovXG5cbiAgX3RlbXBsYXRlIChzdHJpbmdzLCB2YWx1ZXMsIG1ldGhvZCkge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBbc3RyaW5nc1swXV1cblxuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB2YWx1ZXMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHZhbHVlc1tpbmRleF1cbiAgICAgIC8vIGlmIHZhbHVlIGlzIGFuIGFycmF5LCBwcmVwYXJlIGVhY2ggaXRlbXMgYXMgaXQncyBvd24gY29tbWEgc2VwYXJhdGVkIHBhcmFtZXRlclxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIGZvciAobGV0IHBhcmFtZXRlckluZGV4ID0gMDsgcGFyYW1ldGVySW5kZXggPCB2YWx1ZS5sZW5ndGg7IHBhcmFtZXRlckluZGV4KyspIHtcbiAgICAgICAgICB0aGlzLmlucHV0KGBwYXJhbSR7aW5kZXggKyAxfV8ke3BhcmFtZXRlckluZGV4fWAsIHZhbHVlW3BhcmFtZXRlckluZGV4XSlcbiAgICAgICAgICBjb21tYW5kLnB1c2goYEBwYXJhbSR7aW5kZXggKyAxfV8ke3BhcmFtZXRlckluZGV4fWApXG4gICAgICAgICAgaWYgKHBhcmFtZXRlckluZGV4IDwgdmFsdWUubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgY29tbWFuZC5wdXNoKCcsICcpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbW1hbmQucHVzaChzdHJpbmdzW2luZGV4ICsgMV0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmlucHV0KGBwYXJhbSR7aW5kZXggKyAxfWAsIHZhbHVlKVxuICAgICAgICBjb21tYW5kLnB1c2goYEBwYXJhbSR7aW5kZXggKyAxfWAsIHN0cmluZ3NbaW5kZXggKyAxXSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobWV0aG9kKSB7XG4gICAgICByZXR1cm4gdGhpc1ttZXRob2RdKGNvbW1hbmQuam9pbignJykpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjb21tYW5kLmpvaW4oJycpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhbiBpbnB1dCBwYXJhbWV0ZXIgdG8gdGhlIHJlcXVlc3QuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIE5hbWUgb2YgdGhlIGlucHV0IHBhcmFtZXRlciB3aXRob3V0IEAgY2hhci5cbiAgICogQHBhcmFtIHsqfSBbdHlwZV0gU1FMIGRhdGEgdHlwZSBvZiBpbnB1dCBwYXJhbWV0ZXIuIElmIHlvdSBvbWl0IHR5cGUsIG1vZHVsZSBhdXRvbWF0aWNhbHkgZGVjaWRlIHdoaWNoIFNRTCBkYXRhIHR5cGUgc2hvdWxkIGJlIHVzZWQgYmFzZWQgb24gSlMgZGF0YSB0eXBlLlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIElucHV0IHBhcmFtZXRlciB2YWx1ZS4gYHVuZGVmaW5lZGAgYW5kIGBOYU5gIHZhbHVlcyBhcmUgYXV0b21hdGljYWxseSBjb252ZXJ0ZWQgdG8gYG51bGxgIHZhbHVlcy5cbiAgICogQHJldHVybiB7UmVxdWVzdH1cbiAgICovXG5cbiAgaW5wdXQgKG5hbWUsIHR5cGUsIHZhbHVlKSB7XG4gICAgaWYgKC8tLXwgfFxcL1xcKnxcXCpcXC98Jy8udGVzdChuYW1lKSkge1xuICAgICAgdGhyb3cgbmV3IFJlcXVlc3RFcnJvcihgU1FMIGluamVjdGlvbiB3YXJuaW5nIGZvciBwYXJhbSAnJHtuYW1lfSdgLCAnRUlOSkVDVCcpXG4gICAgfVxuXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgICB0aHJvdyBuZXcgUmVxdWVzdEVycm9yKCdJbnZhbGlkIG51bWJlciBvZiBhcmd1bWVudHMuIEF0IGxlYXN0IDIgYXJndW1lbnRzIGV4cGVjdGVkLicsICdFQVJHUycpXG4gICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XG4gICAgICB2YWx1ZSA9IHR5cGVcbiAgICAgIHR5cGUgPSBzaGFyZWQuZ2V0VHlwZUJ5VmFsdWUodmFsdWUpXG4gICAgfVxuXG4gICAgLy8gc3VwcG9ydCBmb3IgY3VzdG9tIGRhdGEgdHlwZXNcbiAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT09ICdmdW5jdGlvbicgJiYgISh2YWx1ZSBpbnN0YW5jZW9mIERhdGUpKSB2YWx1ZSA9IHZhbHVlLnZhbHVlT2YoKVxuXG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHZhbHVlID0gbnVsbCAvLyB1bmRlZmluZWQgdG8gbnVsbFxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIGlzTmFOKHZhbHVlKSkgdmFsdWUgPSBudWxsIC8vIE5hTiB0byBudWxsXG4gICAgaWYgKHR5cGUgaW5zdGFuY2VvZiBGdW5jdGlvbikgdHlwZSA9IHR5cGUoKVxuXG4gICAgaWYgKG9iamVjdEhhc1Byb3BlcnR5KHRoaXMucGFyYW1ldGVycywgbmFtZSkpIHtcbiAgICAgIHRocm93IG5ldyBSZXF1ZXN0RXJyb3IoYFRoZSBwYXJhbWV0ZXIgbmFtZSAke25hbWV9IGhhcyBhbHJlYWR5IGJlZW4gZGVjbGFyZWQuIFBhcmFtZXRlciBuYW1lcyBtdXN0IGJlIHVuaXF1ZWAsICdFRFVQRVBBUkFNJylcbiAgICB9XG5cbiAgICB0aGlzLnBhcmFtZXRlcnNbbmFtZV0gPSB7XG4gICAgICBuYW1lLFxuICAgICAgdHlwZTogdHlwZS50eXBlLFxuICAgICAgaW86IDEsXG4gICAgICB2YWx1ZSxcbiAgICAgIGxlbmd0aDogdHlwZS5sZW5ndGgsXG4gICAgICBzY2FsZTogdHlwZS5zY2FsZSxcbiAgICAgIHByZWNpc2lvbjogdHlwZS5wcmVjaXNpb24sXG4gICAgICB0dnBUeXBlOiB0eXBlLnR2cFR5cGVcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcGxhY2UgYW4gaW5wdXQgcGFyYW1ldGVyIG9uIHRoZSByZXF1ZXN0LlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBOYW1lIG9mIHRoZSBpbnB1dCBwYXJhbWV0ZXIgd2l0aG91dCBAIGNoYXIuXG4gICAqIEBwYXJhbSB7Kn0gW3R5cGVdIFNRTCBkYXRhIHR5cGUgb2YgaW5wdXQgcGFyYW1ldGVyLiBJZiB5b3Ugb21pdCB0eXBlLCBtb2R1bGUgYXV0b21hdGljYWx5IGRlY2lkZSB3aGljaCBTUUwgZGF0YSB0eXBlIHNob3VsZCBiZSB1c2VkIGJhc2VkIG9uIEpTIGRhdGEgdHlwZS5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBJbnB1dCBwYXJhbWV0ZXIgdmFsdWUuIGB1bmRlZmluZWRgIGFuZCBgTmFOYCB2YWx1ZXMgYXJlIGF1dG9tYXRpY2FsbHkgY29udmVydGVkIHRvIGBudWxsYCB2YWx1ZXMuXG4gICAqIEByZXR1cm4ge1JlcXVlc3R9XG4gICAqL1xuXG4gIHJlcGxhY2VJbnB1dCAobmFtZSwgdHlwZSwgdmFsdWUpIHtcbiAgICBkZWxldGUgdGhpcy5wYXJhbWV0ZXJzW25hbWVdXG5cbiAgICByZXR1cm4gdGhpcy5pbnB1dChuYW1lLCB0eXBlLCB2YWx1ZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYW4gb3V0cHV0IHBhcmFtZXRlciB0byB0aGUgcmVxdWVzdC5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgTmFtZSBvZiB0aGUgb3V0cHV0IHBhcmFtZXRlciB3aXRob3V0IEAgY2hhci5cbiAgICogQHBhcmFtIHsqfSB0eXBlIFNRTCBkYXRhIHR5cGUgb2Ygb3V0cHV0IHBhcmFtZXRlci5cbiAgICogQHBhcmFtIHsqfSBbdmFsdWVdIE91dHB1dCBwYXJhbWV0ZXIgdmFsdWUgaW5pdGlhbCB2YWx1ZS4gYHVuZGVmaW5lZGAgYW5kIGBOYU5gIHZhbHVlcyBhcmUgYXV0b21hdGljYWxseSBjb252ZXJ0ZWQgdG8gYG51bGxgIHZhbHVlcy4gT3B0aW9uYWwuXG4gICAqIEByZXR1cm4ge1JlcXVlc3R9XG4gICAqL1xuXG4gIG91dHB1dCAobmFtZSwgdHlwZSwgdmFsdWUpIHtcbiAgICBpZiAoIXR5cGUpIHsgdHlwZSA9IFRZUEVTLk5WYXJDaGFyIH1cblxuICAgIGlmICgvLS18IHxcXC9cXCp8XFwqXFwvfCcvLnRlc3QobmFtZSkpIHtcbiAgICAgIHRocm93IG5ldyBSZXF1ZXN0RXJyb3IoYFNRTCBpbmplY3Rpb24gd2FybmluZyBmb3IgcGFyYW0gJyR7bmFtZX0nYCwgJ0VJTkpFQ1QnKVxuICAgIH1cblxuICAgIGlmICgodHlwZSA9PT0gVFlQRVMuVGV4dCkgfHwgKHR5cGUgPT09IFRZUEVTLk5UZXh0KSB8fCAodHlwZSA9PT0gVFlQRVMuSW1hZ2UpKSB7XG4gICAgICB0aHJvdyBuZXcgUmVxdWVzdEVycm9yKCdEZXByZWNhdGVkIHR5cGVzIChUZXh0LCBOVGV4dCwgSW1hZ2UpIGFyZSBub3Qgc3VwcG9ydGVkIGFzIE9VVFBVVCBwYXJhbWV0ZXJzLicsICdFREVQUkVDQVRFRCcpXG4gICAgfVxuXG4gICAgLy8gc3VwcG9ydCBmb3IgY3VzdG9tIGRhdGEgdHlwZXNcbiAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT09ICdmdW5jdGlvbicgJiYgISh2YWx1ZSBpbnN0YW5jZW9mIERhdGUpKSB2YWx1ZSA9IHZhbHVlLnZhbHVlT2YoKVxuXG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHZhbHVlID0gbnVsbCAvLyB1bmRlZmluZWQgdG8gbnVsbFxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIGlzTmFOKHZhbHVlKSkgdmFsdWUgPSBudWxsIC8vIE5hTiB0byBudWxsXG4gICAgaWYgKHR5cGUgaW5zdGFuY2VvZiBGdW5jdGlvbikgdHlwZSA9IHR5cGUoKVxuXG4gICAgaWYgKG9iamVjdEhhc1Byb3BlcnR5KHRoaXMucGFyYW1ldGVycywgbmFtZSkpIHtcbiAgICAgIHRocm93IG5ldyBSZXF1ZXN0RXJyb3IoYFRoZSBwYXJhbWV0ZXIgbmFtZSAke25hbWV9IGhhcyBhbHJlYWR5IGJlZW4gZGVjbGFyZWQuIFBhcmFtZXRlciBuYW1lcyBtdXN0IGJlIHVuaXF1ZWAsICdFRFVQRVBBUkFNJylcbiAgICB9XG5cbiAgICB0aGlzLnBhcmFtZXRlcnNbbmFtZV0gPSB7XG4gICAgICBuYW1lLFxuICAgICAgdHlwZTogdHlwZS50eXBlLFxuICAgICAgaW86IDIsXG4gICAgICB2YWx1ZSxcbiAgICAgIGxlbmd0aDogdHlwZS5sZW5ndGgsXG4gICAgICBzY2FsZTogdHlwZS5zY2FsZSxcbiAgICAgIHByZWNpc2lvbjogdHlwZS5wcmVjaXNpb25cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcGxhY2UgYW4gb3V0cHV0IHBhcmFtZXRlciBvbiB0aGUgcmVxdWVzdC5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgTmFtZSBvZiB0aGUgb3V0cHV0IHBhcmFtZXRlciB3aXRob3V0IEAgY2hhci5cbiAgICogQHBhcmFtIHsqfSB0eXBlIFNRTCBkYXRhIHR5cGUgb2Ygb3V0cHV0IHBhcmFtZXRlci5cbiAgICogQHBhcmFtIHsqfSBbdmFsdWVdIE91dHB1dCBwYXJhbWV0ZXIgdmFsdWUgaW5pdGlhbCB2YWx1ZS4gYHVuZGVmaW5lZGAgYW5kIGBOYU5gIHZhbHVlcyBhcmUgYXV0b21hdGljYWxseSBjb252ZXJ0ZWQgdG8gYG51bGxgIHZhbHVlcy4gT3B0aW9uYWwuXG4gICAqIEByZXR1cm4ge1JlcXVlc3R9XG4gICAqL1xuXG4gIHJlcGxhY2VPdXRwdXQgKG5hbWUsIHR5cGUsIHZhbHVlKSB7XG4gICAgZGVsZXRlIHRoaXMucGFyYW1ldGVyc1tuYW1lXVxuXG4gICAgcmV0dXJuIHRoaXMub3V0cHV0KG5hbWUsIHR5cGUsIHZhbHVlKVxuICB9XG5cbiAgLyoqXG4gICAqIEV4ZWN1dGUgdGhlIFNRTCBiYXRjaC5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IGJhdGNoIFQtU1FMIGJhdGNoIHRvIGJlIGV4ZWN1dGVkLlxuICAgKiBAcGFyYW0ge1JlcXVlc3R+cmVxdWVzdENhbGxiYWNrfSBbY2FsbGJhY2tdIEEgY2FsbGJhY2sgd2hpY2ggaXMgY2FsbGVkIGFmdGVyIGV4ZWN1dGlvbiBoYXMgY29tcGxldGVkLCBvciBhbiBlcnJvciBoYXMgb2NjdXJyZWQuIElmIG9taXRlZCwgbWV0aG9kIHJldHVybnMgUHJvbWlzZS5cbiAgICogQHJldHVybiB7UmVxdWVzdHxQcm9taXNlfVxuICAgKi9cblxuICBiYXRjaCAoYmF0Y2gsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHRoaXMuc3RyZWFtID09PSBudWxsICYmIHRoaXMucGFyZW50KSB0aGlzLnN0cmVhbSA9IHRoaXMucGFyZW50LmNvbmZpZy5zdHJlYW1cbiAgICBpZiAodGhpcy5hcnJheVJvd01vZGUgPT09IG51bGwgJiYgdGhpcy5wYXJlbnQpIHRoaXMuYXJyYXlSb3dNb2RlID0gdGhpcy5wYXJlbnQuY29uZmlnLmFycmF5Um93TW9kZVxuICAgIHRoaXMucm93c0FmZmVjdGVkID0gMFxuXG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5fYmF0Y2goYmF0Y2gsIChlcnIsIHJlY29yZHNldHMsIG91dHB1dCwgcm93c0FmZmVjdGVkKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnN0cmVhbSkge1xuICAgICAgICAgIGlmIChlcnIpIHRoaXMuZW1pdCgnZXJyb3InLCBlcnIpXG4gICAgICAgICAgZXJyID0gbnVsbFxuXG4gICAgICAgICAgdGhpcy5lbWl0KCdkb25lJywge1xuICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgcm93c0FmZmVjdGVkXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlcnIpIHJldHVybiBjYWxsYmFjayhlcnIpXG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHtcbiAgICAgICAgICByZWNvcmRzZXRzLFxuICAgICAgICAgIHJlY29yZHNldDogcmVjb3Jkc2V0cyAmJiByZWNvcmRzZXRzWzBdLFxuICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICByb3dzQWZmZWN0ZWRcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlzIG1ldGhvZCB3YXMgY2FsbGVkIGFzIHRhZ2dlZCB0ZW1wbGF0ZVxuICAgIGlmICh0eXBlb2YgYmF0Y2ggPT09ICdvYmplY3QnKSB7XG4gICAgICBjb25zdCB2YWx1ZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpXG4gICAgICBjb25zdCBzdHJpbmdzID0gdmFsdWVzLnNoaWZ0KClcbiAgICAgIGJhdGNoID0gdGhpcy5fdGVtcGxhdGUoc3RyaW5ncywgdmFsdWVzKVxuICAgIH1cblxuICAgIHJldHVybiBuZXcgc2hhcmVkLlByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5fYmF0Y2goYmF0Y2gsIChlcnIsIHJlY29yZHNldHMsIG91dHB1dCwgcm93c0FmZmVjdGVkKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnN0cmVhbSkge1xuICAgICAgICAgIGlmIChlcnIpIHRoaXMuZW1pdCgnZXJyb3InLCBlcnIpXG4gICAgICAgICAgZXJyID0gbnVsbFxuXG4gICAgICAgICAgdGhpcy5lbWl0KCdkb25lJywge1xuICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgcm93c0FmZmVjdGVkXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlcnIpIHJldHVybiByZWplY3QoZXJyKVxuICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICByZWNvcmRzZXRzLFxuICAgICAgICAgIHJlY29yZHNldDogcmVjb3Jkc2V0cyAmJiByZWNvcmRzZXRzWzBdLFxuICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICByb3dzQWZmZWN0ZWRcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gYmF0Y2hcbiAgICogQHBhcmFtIHtSZXF1ZXN0fnJlcXVlc3RDYWxsYmFja30gY2FsbGJhY2tcbiAgICovXG5cbiAgX2JhdGNoIChiYXRjaCwgY2FsbGJhY2spIHtcbiAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICByZXR1cm4gc2V0SW1tZWRpYXRlKGNhbGxiYWNrLCBuZXcgUmVxdWVzdEVycm9yKCdObyBjb25uZWN0aW9uIGlzIHNwZWNpZmllZCBmb3IgdGhhdCByZXF1ZXN0LicsICdFTk9DT05OJykpXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnBhcmVudC5jb25uZWN0ZWQpIHtcbiAgICAgIHJldHVybiBzZXRJbW1lZGlhdGUoY2FsbGJhY2ssIG5ldyBDb25uZWN0aW9uRXJyb3IoJ0Nvbm5lY3Rpb24gaXMgY2xvc2VkLicsICdFQ09OTkNMT1NFRCcpKVxuICAgIH1cblxuICAgIHRoaXMuY2FuY2VsZWQgPSBmYWxzZVxuICAgIHNldEltbWVkaWF0ZShjYWxsYmFjaylcbiAgfVxuXG4gIC8qKlxuICAgKiBCdWxrIGxvYWQuXG4gICAqXG4gICAqIEBwYXJhbSB7VGFibGV9IHRhYmxlIFNRTCB0YWJsZS5cbiAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIHRvIGJlIHBhc3NlZCB0byB0aGUgdW5kZXJseWluZyBkcml2ZXIgKHRlZGlvdXMgb25seSkuXG4gICAqIEBwYXJhbSB7UmVxdWVzdH5idWxrQ2FsbGJhY2t9IFtjYWxsYmFja10gQSBjYWxsYmFjayB3aGljaCBpcyBjYWxsZWQgYWZ0ZXIgYnVsayBsb2FkIGhhcyBjb21wbGV0ZWQsIG9yIGFuIGVycm9yIGhhcyBvY2N1cnJlZC4gSWYgb21pdGVkLCBtZXRob2QgcmV0dXJucyBQcm9taXNlLlxuICAgKiBAcmV0dXJuIHtSZXF1ZXN0fFByb21pc2V9XG4gICAqL1xuXG4gIGJ1bGsgKHRhYmxlLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRpb25zXG4gICAgICBvcHRpb25zID0ge31cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zID09PSAndW5kZWZpbmVkJykge1xuICAgICAgb3B0aW9ucyA9IHt9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RyZWFtID09PSBudWxsICYmIHRoaXMucGFyZW50KSB0aGlzLnN0cmVhbSA9IHRoaXMucGFyZW50LmNvbmZpZy5zdHJlYW1cbiAgICBpZiAodGhpcy5hcnJheVJvd01vZGUgPT09IG51bGwgJiYgdGhpcy5wYXJlbnQpIHRoaXMuYXJyYXlSb3dNb2RlID0gdGhpcy5wYXJlbnQuY29uZmlnLmFycmF5Um93TW9kZVxuXG4gICAgaWYgKHRoaXMuc3RyZWFtIHx8IHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5fYnVsayh0YWJsZSwgb3B0aW9ucywgKGVyciwgcm93c0FmZmVjdGVkKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnN0cmVhbSkge1xuICAgICAgICAgIGlmIChlcnIpIHRoaXMuZW1pdCgnZXJyb3InLCBlcnIpXG4gICAgICAgICAgcmV0dXJuIHRoaXMuZW1pdCgnZG9uZScsIHtcbiAgICAgICAgICAgIHJvd3NBZmZlY3RlZFxuICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXJyKSByZXR1cm4gY2FsbGJhY2soZXJyKVxuICAgICAgICBjYWxsYmFjayhudWxsLCB7XG4gICAgICAgICAgcm93c0FmZmVjdGVkXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IHNoYXJlZC5Qcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMuX2J1bGsodGFibGUsIG9wdGlvbnMsIChlcnIsIHJvd3NBZmZlY3RlZCkgPT4ge1xuICAgICAgICBpZiAoZXJyKSByZXR1cm4gcmVqZWN0KGVycilcbiAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgcm93c0FmZmVjdGVkXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtUYWJsZX0gdGFibGVcbiAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcbiAgICogQHBhcmFtIHtSZXF1ZXN0fmJ1bGtDYWxsYmFja30gY2FsbGJhY2tcbiAgICovXG5cbiAgX2J1bGsgKHRhYmxlLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgIGlmICghdGhpcy5wYXJlbnQpIHtcbiAgICAgIHJldHVybiBzZXRJbW1lZGlhdGUoY2FsbGJhY2ssIG5ldyBSZXF1ZXN0RXJyb3IoJ05vIGNvbm5lY3Rpb24gaXMgc3BlY2lmaWVkIGZvciB0aGF0IHJlcXVlc3QuJywgJ0VOT0NPTk4nKSlcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMucGFyZW50LmNvbm5lY3RlZCkge1xuICAgICAgcmV0dXJuIHNldEltbWVkaWF0ZShjYWxsYmFjaywgbmV3IENvbm5lY3Rpb25FcnJvcignQ29ubmVjdGlvbiBpcyBjbG9zZWQuJywgJ0VDT05OQ0xPU0VEJykpXG4gICAgfVxuXG4gICAgdGhpcy5jYW5jZWxlZCA9IGZhbHNlXG4gICAgc2V0SW1tZWRpYXRlKGNhbGxiYWNrKVxuICB9XG5cbiAgLyoqXG4gICAqIFdyYXAgb3JpZ2luYWwgcmVxdWVzdCBpbiBhIFJlYWRhYmxlIHN0cmVhbSB0aGF0IHN1cHBvcnRzIGJhY2sgcHJlc3N1cmUgYW5kIHJldHVybi5cbiAgICogSXQgYWxzbyBzZXRzIHJlcXVlc3QgdG8gYHN0cmVhbWAgbW9kZSBhbmQgcHVsbHMgYWxsIHJvd3MgZnJvbSBhbGwgcmVjb3Jkc2V0cyB0byBhIGdpdmVuIHN0cmVhbS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHN0cmVhbU9wdGlvbnMgLSBvcHRpb25hbCBvcHRpb25zIHRvIGNvbmZpZ3VyZSB0aGUgcmVhZGFibGUgc3RyZWFtIHdpdGggbGlrZSBoaWdoV2F0ZXJNYXJrXG4gICAqIEByZXR1cm4ge1N0cmVhbX1cbiAgICovXG4gIHRvUmVhZGFibGVTdHJlYW0gKHN0cmVhbU9wdGlvbnMgPSB7fSkge1xuICAgIHRoaXMuc3RyZWFtID0gdHJ1ZVxuICAgIHRoaXMucGF1c2UoKVxuICAgIGNvbnN0IHJlYWRhYmxlU3RyZWFtID0gbmV3IFJlYWRhYmxlKHtcbiAgICAgIC4uLnN0cmVhbU9wdGlvbnMsXG4gICAgICBvYmplY3RNb2RlOiB0cnVlLFxuICAgICAgcmVhZDogKC8qIHNpemUgKi8pID0+IHtcbiAgICAgICAgdGhpcy5yZXN1bWUoKVxuICAgICAgfVxuICAgIH0pXG4gICAgdGhpcy5vbigncm93JywgKHJvdykgPT4ge1xuICAgICAgaWYgKCFyZWFkYWJsZVN0cmVhbS5wdXNoKHJvdykpIHtcbiAgICAgICAgdGhpcy5wYXVzZSgpXG4gICAgICB9XG4gICAgfSlcbiAgICB0aGlzLm9uKCdlcnJvcicsIChlcnJvcikgPT4ge1xuICAgICAgcmVhZGFibGVTdHJlYW0uZW1pdCgnZXJyb3InLCBlcnJvcilcbiAgICB9KVxuICAgIHRoaXMub24oJ2RvbmUnLCAoKSA9PiB7XG4gICAgICByZWFkYWJsZVN0cmVhbS5wdXNoKG51bGwpXG4gICAgfSlcbiAgICByZXR1cm4gcmVhZGFibGVTdHJlYW1cbiAgfVxuXG4gIC8qKlxuICAgKiBXcmFwIG9yaWdpbmFsIHJlcXVlc3QgaW4gYSBSZWFkYWJsZSBzdHJlYW0gdGhhdCBzdXBwb3J0cyBiYWNrIHByZXNzdXJlIGFuZCBwaXBlIHRvIHRoZSBXcml0YWJsZSBzdHJlYW0uXG4gICAqIEl0IGFsc28gc2V0cyByZXF1ZXN0IHRvIGBzdHJlYW1gIG1vZGUgYW5kIHB1bGxzIGFsbCByb3dzIGZyb20gYWxsIHJlY29yZHNldHMgdG8gYSBnaXZlbiBzdHJlYW0uXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyZWFtfSBzdHJlYW0gU3RyZWFtIHRvIHBpcGUgZGF0YSBpbnRvLlxuICAgKiBAcmV0dXJuIHtTdHJlYW19XG4gICAqL1xuICBwaXBlICh3cml0YWJsZVN0cmVhbSkge1xuICAgIGNvbnN0IHJlYWRhYmxlU3RyZWFtID0gdGhpcy50b1JlYWRhYmxlU3RyZWFtKClcbiAgICByZXR1cm4gcmVhZGFibGVTdHJlYW0ucGlwZSh3cml0YWJsZVN0cmVhbSlcbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlIHRoZSBTUUwgY29tbWFuZC5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNvbW1hbmQgVC1TUUwgY29tbWFuZCB0byBiZSBleGVjdXRlZC5cbiAgICogQHBhcmFtIHtSZXF1ZXN0fnJlcXVlc3RDYWxsYmFja30gW2NhbGxiYWNrXSBBIGNhbGxiYWNrIHdoaWNoIGlzIGNhbGxlZCBhZnRlciBleGVjdXRpb24gaGFzIGNvbXBsZXRlZCwgb3IgYW4gZXJyb3IgaGFzIG9jY3VycmVkLiBJZiBvbWl0ZWQsIG1ldGhvZCByZXR1cm5zIFByb21pc2UuXG4gICAqIEByZXR1cm4ge1JlcXVlc3R8UHJvbWlzZX1cbiAgICovXG5cbiAgcXVlcnkgKGNvbW1hbmQsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHRoaXMuc3RyZWFtID09PSBudWxsICYmIHRoaXMucGFyZW50KSB0aGlzLnN0cmVhbSA9IHRoaXMucGFyZW50LmNvbmZpZy5zdHJlYW1cbiAgICBpZiAodGhpcy5hcnJheVJvd01vZGUgPT09IG51bGwgJiYgdGhpcy5wYXJlbnQpIHRoaXMuYXJyYXlSb3dNb2RlID0gdGhpcy5wYXJlbnQuY29uZmlnLmFycmF5Um93TW9kZVxuICAgIHRoaXMucm93c0FmZmVjdGVkID0gMFxuXG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5fcXVlcnkoY29tbWFuZCwgKGVyciwgcmVjb3Jkc2V0cywgb3V0cHV0LCByb3dzQWZmZWN0ZWQsIGNvbHVtbnMpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuc3RyZWFtKSB7XG4gICAgICAgICAgaWYgKGVycikgdGhpcy5lbWl0KCdlcnJvcicsIGVycilcbiAgICAgICAgICBlcnIgPSBudWxsXG5cbiAgICAgICAgICB0aGlzLmVtaXQoJ2RvbmUnLCB7XG4gICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICByb3dzQWZmZWN0ZWRcbiAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVycikgcmV0dXJuIGNhbGxiYWNrKGVycilcbiAgICAgICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICAgIHJlY29yZHNldHMsXG4gICAgICAgICAgcmVjb3Jkc2V0OiByZWNvcmRzZXRzICYmIHJlY29yZHNldHNbMF0sXG4gICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgIHJvd3NBZmZlY3RlZFxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmFycmF5Um93TW9kZSkgcmVzdWx0LmNvbHVtbnMgPSBjb2x1bW5zXG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdClcbiAgICAgIH0pXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlzIG1ldGhvZCB3YXMgY2FsbGVkIGFzIHRhZ2dlZCB0ZW1wbGF0ZVxuICAgIGlmICh0eXBlb2YgY29tbWFuZCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGNvbnN0IHZhbHVlcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cylcbiAgICAgIGNvbnN0IHN0cmluZ3MgPSB2YWx1ZXMuc2hpZnQoKVxuICAgICAgY29tbWFuZCA9IHRoaXMuX3RlbXBsYXRlKHN0cmluZ3MsIHZhbHVlcylcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IHNoYXJlZC5Qcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMuX3F1ZXJ5KGNvbW1hbmQsIChlcnIsIHJlY29yZHNldHMsIG91dHB1dCwgcm93c0FmZmVjdGVkLCBjb2x1bW5zKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnN0cmVhbSkge1xuICAgICAgICAgIGlmIChlcnIpIHRoaXMuZW1pdCgnZXJyb3InLCBlcnIpXG4gICAgICAgICAgZXJyID0gbnVsbFxuXG4gICAgICAgICAgdGhpcy5lbWl0KCdkb25lJywge1xuICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgcm93c0FmZmVjdGVkXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlcnIpIHJldHVybiByZWplY3QoZXJyKVxuICAgICAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgICAgcmVjb3Jkc2V0cyxcbiAgICAgICAgICByZWNvcmRzZXQ6IHJlY29yZHNldHMgJiYgcmVjb3Jkc2V0c1swXSxcbiAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgcm93c0FmZmVjdGVkXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYXJyYXlSb3dNb2RlKSByZXN1bHQuY29sdW1ucyA9IGNvbHVtbnNcbiAgICAgICAgcmVzb2x2ZShyZXN1bHQpXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNvbW1hbmRcbiAgICogQHBhcmFtIHtSZXF1ZXN0fmJ1bGtDYWxsYmFja30gY2FsbGJhY2tcbiAgICovXG5cbiAgX3F1ZXJ5IChjb21tYW5kLCBjYWxsYmFjaykge1xuICAgIGlmICghdGhpcy5wYXJlbnQpIHtcbiAgICAgIHJldHVybiBzZXRJbW1lZGlhdGUoY2FsbGJhY2ssIG5ldyBSZXF1ZXN0RXJyb3IoJ05vIGNvbm5lY3Rpb24gaXMgc3BlY2lmaWVkIGZvciB0aGF0IHJlcXVlc3QuJywgJ0VOT0NPTk4nKSlcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMucGFyZW50LmNvbm5lY3RlZCkge1xuICAgICAgcmV0dXJuIHNldEltbWVkaWF0ZShjYWxsYmFjaywgbmV3IENvbm5lY3Rpb25FcnJvcignQ29ubmVjdGlvbiBpcyBjbG9zZWQuJywgJ0VDT05OQ0xPU0VEJykpXG4gICAgfVxuXG4gICAgdGhpcy5jYW5jZWxlZCA9IGZhbHNlXG4gICAgc2V0SW1tZWRpYXRlKGNhbGxiYWNrKVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGwgYSBzdG9yZWQgcHJvY2VkdXJlLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvY2VkdXJlIE5hbWUgb2YgdGhlIHN0b3JlZCBwcm9jZWR1cmUgdG8gYmUgZXhlY3V0ZWQuXG4gICAqIEBwYXJhbSB7UmVxdWVzdH5yZXF1ZXN0Q2FsbGJhY2t9IFtjYWxsYmFja10gQSBjYWxsYmFjayB3aGljaCBpcyBjYWxsZWQgYWZ0ZXIgZXhlY3V0aW9uIGhhcyBjb21wbGV0ZWQsIG9yIGFuIGVycm9yIGhhcyBvY2N1cnJlZC4gSWYgb21pdGVkLCBtZXRob2QgcmV0dXJucyBQcm9taXNlLlxuICAgKiBAcmV0dXJuIHtSZXF1ZXN0fFByb21pc2V9XG4gICAqL1xuXG4gIGV4ZWN1dGUgKGNvbW1hbmQsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHRoaXMuc3RyZWFtID09PSBudWxsICYmIHRoaXMucGFyZW50KSB0aGlzLnN0cmVhbSA9IHRoaXMucGFyZW50LmNvbmZpZy5zdHJlYW1cbiAgICBpZiAodGhpcy5hcnJheVJvd01vZGUgPT09IG51bGwgJiYgdGhpcy5wYXJlbnQpIHRoaXMuYXJyYXlSb3dNb2RlID0gdGhpcy5wYXJlbnQuY29uZmlnLmFycmF5Um93TW9kZVxuICAgIHRoaXMucm93c0FmZmVjdGVkID0gMFxuXG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5fZXhlY3V0ZShjb21tYW5kLCAoZXJyLCByZWNvcmRzZXRzLCBvdXRwdXQsIHJldHVyblZhbHVlLCByb3dzQWZmZWN0ZWQsIGNvbHVtbnMpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuc3RyZWFtKSB7XG4gICAgICAgICAgaWYgKGVycikgdGhpcy5lbWl0KCdlcnJvcicsIGVycilcbiAgICAgICAgICBlcnIgPSBudWxsXG5cbiAgICAgICAgICB0aGlzLmVtaXQoJ2RvbmUnLCB7XG4gICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICByb3dzQWZmZWN0ZWQsXG4gICAgICAgICAgICByZXR1cm5WYWx1ZVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXJyKSByZXR1cm4gY2FsbGJhY2soZXJyKVxuICAgICAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgICAgcmVjb3Jkc2V0cyxcbiAgICAgICAgICByZWNvcmRzZXQ6IHJlY29yZHNldHMgJiYgcmVjb3Jkc2V0c1swXSxcbiAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgcm93c0FmZmVjdGVkLFxuICAgICAgICAgIHJldHVyblZhbHVlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYXJyYXlSb3dNb2RlKSByZXN1bHQuY29sdW1ucyA9IGNvbHVtbnNcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0KVxuICAgICAgfSlcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBzaGFyZWQuUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLl9leGVjdXRlKGNvbW1hbmQsIChlcnIsIHJlY29yZHNldHMsIG91dHB1dCwgcmV0dXJuVmFsdWUsIHJvd3NBZmZlY3RlZCwgY29sdW1ucykgPT4ge1xuICAgICAgICBpZiAodGhpcy5zdHJlYW0pIHtcbiAgICAgICAgICBpZiAoZXJyKSB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyKVxuICAgICAgICAgIGVyciA9IG51bGxcblxuICAgICAgICAgIHRoaXMuZW1pdCgnZG9uZScsIHtcbiAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgIHJvd3NBZmZlY3RlZCxcbiAgICAgICAgICAgIHJldHVyblZhbHVlXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlcnIpIHJldHVybiByZWplY3QoZXJyKVxuICAgICAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgICAgcmVjb3Jkc2V0cyxcbiAgICAgICAgICByZWNvcmRzZXQ6IHJlY29yZHNldHMgJiYgcmVjb3Jkc2V0c1swXSxcbiAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgcm93c0FmZmVjdGVkLFxuICAgICAgICAgIHJldHVyblZhbHVlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYXJyYXlSb3dNb2RlKSByZXN1bHQuY29sdW1ucyA9IGNvbHVtbnNcbiAgICAgICAgcmVzb2x2ZShyZXN1bHQpXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtTdHJpbmd9IHByb2NlZHVyZVxuICAgKiBAcGFyYW0ge1JlcXVlc3R+YnVsa0NhbGxiYWNrfSBjYWxsYmFja1xuICAgKi9cblxuICBfZXhlY3V0ZSAocHJvY2VkdXJlLCBjYWxsYmFjaykge1xuICAgIGlmICghdGhpcy5wYXJlbnQpIHtcbiAgICAgIHJldHVybiBzZXRJbW1lZGlhdGUoY2FsbGJhY2ssIG5ldyBSZXF1ZXN0RXJyb3IoJ05vIGNvbm5lY3Rpb24gaXMgc3BlY2lmaWVkIGZvciB0aGF0IHJlcXVlc3QuJywgJ0VOT0NPTk4nKSlcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMucGFyZW50LmNvbm5lY3RlZCkge1xuICAgICAgcmV0dXJuIHNldEltbWVkaWF0ZShjYWxsYmFjaywgbmV3IENvbm5lY3Rpb25FcnJvcignQ29ubmVjdGlvbiBpcyBjbG9zZWQuJywgJ0VDT05OQ0xPU0VEJykpXG4gICAgfVxuXG4gICAgdGhpcy5jYW5jZWxlZCA9IGZhbHNlXG4gICAgc2V0SW1tZWRpYXRlKGNhbGxiYWNrKVxuICB9XG5cbiAgLyoqXG4gICAqIENhbmNlbCBjdXJyZW50bHkgZXhlY3V0ZWQgcmVxdWVzdC5cbiAgICpcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICovXG5cbiAgY2FuY2VsICgpIHtcbiAgICB0aGlzLl9jYW5jZWwoKVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG5cbiAgX2NhbmNlbCAoKSB7XG4gICAgdGhpcy5jYW5jZWxlZCA9IHRydWVcbiAgfVxuXG4gIHBhdXNlICgpIHtcbiAgICBpZiAodGhpcy5zdHJlYW0pIHtcbiAgICAgIHRoaXMuX3BhdXNlKClcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgX3BhdXNlICgpIHtcbiAgICB0aGlzLl9wYXVzZWQgPSB0cnVlXG4gIH1cblxuICByZXN1bWUgKCkge1xuICAgIGlmICh0aGlzLnN0cmVhbSkge1xuICAgICAgdGhpcy5fcmVzdW1lKClcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgX3Jlc3VtZSAoKSB7XG4gICAgdGhpcy5fcGF1c2VkID0gZmFsc2VcbiAgfVxuXG4gIF9zZXRDdXJyZW50UmVxdWVzdCAocmVxdWVzdCkge1xuICAgIHRoaXMuX2N1cnJlbnRSZXF1ZXN0ID0gcmVxdWVzdFxuICAgIGlmICh0aGlzLl9wYXVzZWQpIHtcbiAgICAgIHRoaXMucGF1c2UoKVxuICAgIH1cbiAgICByZXR1cm4gdGhpc1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUmVxdWVzdFxuIl0sIm5hbWVzIjpbImRlYnVnIiwicmVxdWlyZSIsIkV2ZW50RW1pdHRlciIsIlJlYWRhYmxlIiwiSURTIiwib2JqZWN0SGFzUHJvcGVydHkiLCJnbG9iYWxDb25uZWN0aW9uIiwiUmVxdWVzdEVycm9yIiwiQ29ubmVjdGlvbkVycm9yIiwiVFlQRVMiLCJzaGFyZWQiLCJSZXF1ZXN0IiwiY29uc3RydWN0b3IiLCJwYXJlbnQiLCJhZGQiLCJnZXQiLCJjYW5jZWxlZCIsIl9wYXVzZWQiLCJwb29sIiwicGFyYW1ldGVycyIsInN0cmVhbSIsImFycmF5Um93TW9kZSIsInBhdXNlZCIsInRlbXBsYXRlIiwidmFsdWVzIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJzbGljZSIsImNhbGwiLCJhcmd1bWVudHMiLCJzdHJpbmdzIiwic2hpZnQiLCJfdGVtcGxhdGUiLCJtZXRob2QiLCJjb21tYW5kIiwiaW5kZXgiLCJsZW5ndGgiLCJ2YWx1ZSIsImlzQXJyYXkiLCJwYXJhbWV0ZXJJbmRleCIsImlucHV0IiwicHVzaCIsImpvaW4iLCJuYW1lIiwidHlwZSIsInRlc3QiLCJnZXRUeXBlQnlWYWx1ZSIsInZhbHVlT2YiLCJEYXRlIiwidW5kZWZpbmVkIiwiaXNOYU4iLCJGdW5jdGlvbiIsImlvIiwic2NhbGUiLCJwcmVjaXNpb24iLCJ0dnBUeXBlIiwicmVwbGFjZUlucHV0Iiwib3V0cHV0IiwiTlZhckNoYXIiLCJUZXh0IiwiTlRleHQiLCJJbWFnZSIsInJlcGxhY2VPdXRwdXQiLCJiYXRjaCIsImNhbGxiYWNrIiwiY29uZmlnIiwicm93c0FmZmVjdGVkIiwiX2JhdGNoIiwiZXJyIiwicmVjb3Jkc2V0cyIsImVtaXQiLCJyZWNvcmRzZXQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInNldEltbWVkaWF0ZSIsImNvbm5lY3RlZCIsImJ1bGsiLCJ0YWJsZSIsIm9wdGlvbnMiLCJfYnVsayIsInRvUmVhZGFibGVTdHJlYW0iLCJzdHJlYW1PcHRpb25zIiwicGF1c2UiLCJyZWFkYWJsZVN0cmVhbSIsIm9iamVjdE1vZGUiLCJyZWFkIiwicmVzdW1lIiwib24iLCJyb3ciLCJlcnJvciIsInBpcGUiLCJ3cml0YWJsZVN0cmVhbSIsInF1ZXJ5IiwiX3F1ZXJ5IiwiY29sdW1ucyIsInJlc3VsdCIsImV4ZWN1dGUiLCJfZXhlY3V0ZSIsInJldHVyblZhbHVlIiwicHJvY2VkdXJlIiwiY2FuY2VsIiwiX2NhbmNlbCIsIl9wYXVzZSIsIl9yZXN1bWUiLCJfc2V0Q3VycmVudFJlcXVlc3QiLCJyZXF1ZXN0IiwiX2N1cnJlbnRSZXF1ZXN0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/mssql/lib/base/request.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/mssql/lib/base/transaction.js":
/*!****************************************************!*\
  !*** ./node_modules/mssql/lib/base/transaction.js ***!
  \****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst debug = __webpack_require__(/*! debug */ \"(rsc)/./node_modules/debug/src/index.js\")(\"mssql:base\");\nconst { EventEmitter } = __webpack_require__(/*! node:events */ \"node:events\");\nconst { IDS } = __webpack_require__(/*! ../utils */ \"(rsc)/./node_modules/mssql/lib/utils.js\");\nconst globalConnection = __webpack_require__(/*! ../global-connection */ \"(rsc)/./node_modules/mssql/lib/global-connection.js\");\nconst { TransactionError } = __webpack_require__(/*! ../error */ \"(rsc)/./node_modules/mssql/lib/error/index.js\");\nconst shared = __webpack_require__(/*! ../shared */ \"(rsc)/./node_modules/mssql/lib/shared.js\");\nconst ISOLATION_LEVEL = __webpack_require__(/*! ../isolationlevel */ \"(rsc)/./node_modules/mssql/lib/isolationlevel.js\");\n/**\n * Class Transaction.\n *\n * @property {Number} isolationLevel Controls the locking and row versioning behavior of TSQL statements issued by a connection. READ_COMMITTED by default.\n * @property {String} name Transaction name. Empty string by default.\n *\n * @fires Transaction#begin\n * @fires Transaction#commit\n * @fires Transaction#rollback\n */ class Transaction extends EventEmitter {\n    /**\n   * Create new Transaction.\n   *\n   * @param {Connection} [parent] If ommited, global connection is used instead.\n   */ constructor(parent){\n        super();\n        IDS.add(this, \"Transaction\");\n        debug(\"transaction(%d): created\", IDS.get(this));\n        this.parent = parent || globalConnection.pool;\n        this.isolationLevel = Transaction.defaultIsolationLevel;\n        this.name = \"\";\n    }\n    get config() {\n        return this.parent.config;\n    }\n    get connected() {\n        return this.parent.connected;\n    }\n    /**\n   * Acquire connection from connection pool.\n   *\n   * @param {Request} request Request.\n   * @param {ConnectionPool~acquireCallback} [callback] A callback which is called after connection has established, or an error has occurred. If omited, method returns Promise.\n   * @return {Transaction|Promise}\n   */ acquire(request, callback) {\n        if (!this._acquiredConnection) {\n            setImmediate(callback, new TransactionError(\"Transaction has not begun. Call begin() first.\", \"ENOTBEGUN\"));\n            return this;\n        }\n        if (this._activeRequest) {\n            setImmediate(callback, new TransactionError(\"Can't acquire connection for the request. There is another request in progress.\", \"EREQINPROG\"));\n            return this;\n        }\n        this._activeRequest = request;\n        setImmediate(callback, null, this._acquiredConnection, this._acquiredConfig);\n        return this;\n    }\n    /**\n   * Release connection back to the pool.\n   *\n   * @param {Connection} connection Previously acquired connection.\n   * @return {Transaction}\n   */ release(connection) {\n        if (connection === this._acquiredConnection) {\n            this._activeRequest = null;\n        }\n        return this;\n    }\n    /**\n   * Begin a transaction.\n   *\n   * @param {Number} [isolationLevel] Controls the locking and row versioning behavior of TSQL statements issued by a connection.\n   * @param {basicCallback} [callback] A callback which is called after transaction has began, or an error has occurred. If omited, method returns Promise.\n   * @return {Transaction|Promise}\n   */ begin(isolationLevel, callback) {\n        if (isolationLevel instanceof Function) {\n            callback = isolationLevel;\n            isolationLevel = undefined;\n        }\n        if (typeof callback === \"function\") {\n            this._begin(isolationLevel, (err)=>{\n                if (!err) {\n                    this.emit(\"begin\");\n                }\n                callback(err);\n            });\n            return this;\n        }\n        return new shared.Promise((resolve, reject)=>{\n            this._begin(isolationLevel, (err)=>{\n                if (err) return reject(err);\n                this.emit(\"begin\");\n                resolve(this);\n            });\n        });\n    }\n    /**\n   * @private\n   * @param {Number} [isolationLevel]\n   * @param {basicCallback} [callback]\n   * @return {Transaction}\n   */ _begin(isolationLevel, callback) {\n        if (this._acquiredConnection) {\n            return setImmediate(callback, new TransactionError(\"Transaction has already begun.\", \"EALREADYBEGUN\"));\n        }\n        this._aborted = false;\n        this._rollbackRequested = false;\n        if (isolationLevel) {\n            if (Object.keys(ISOLATION_LEVEL).some((key)=>{\n                return ISOLATION_LEVEL[key] === isolationLevel;\n            })) {\n                this.isolationLevel = isolationLevel;\n            } else {\n                throw new TransactionError(\"Invalid isolation level.\");\n            }\n        }\n        setImmediate(callback);\n    }\n    /**\n   * Commit a transaction.\n   *\n   * @param {basicCallback} [callback] A callback which is called after transaction has commited, or an error has occurred. If omited, method returns Promise.\n   * @return {Transaction|Promise}\n   */ commit(callback) {\n        if (typeof callback === \"function\") {\n            this._commit((err)=>{\n                if (!err) {\n                    this.emit(\"commit\");\n                }\n                callback(err);\n            });\n            return this;\n        }\n        return new shared.Promise((resolve, reject)=>{\n            this._commit((err)=>{\n                if (err) return reject(err);\n                this.emit(\"commit\");\n                resolve();\n            });\n        });\n    }\n    /**\n   * @private\n   * @param {basicCallback} [callback]\n   * @return {Transaction}\n   */ _commit(callback) {\n        if (this._aborted) {\n            return setImmediate(callback, new TransactionError(\"Transaction has been aborted.\", \"EABORT\"));\n        }\n        if (!this._acquiredConnection) {\n            return setImmediate(callback, new TransactionError(\"Transaction has not begun. Call begin() first.\", \"ENOTBEGUN\"));\n        }\n        if (this._activeRequest) {\n            return setImmediate(callback, new TransactionError(\"Can't commit transaction. There is a request in progress.\", \"EREQINPROG\"));\n        }\n        setImmediate(callback);\n    }\n    /**\n   * Returns new request using this transaction.\n   *\n   * @return {Request}\n   */ request() {\n        return new shared.driver.Request(this);\n    }\n    /**\n   * Rollback a transaction.\n   *\n   * @param {basicCallback} [callback] A callback which is called after transaction has rolled back, or an error has occurred. If omited, method returns Promise.\n   * @return {Transaction|Promise}\n   */ rollback(callback) {\n        if (typeof callback === \"function\") {\n            this._rollback((err)=>{\n                if (!err) {\n                    this.emit(\"rollback\", this._aborted);\n                }\n                callback(err);\n            });\n            return this;\n        }\n        return new shared.Promise((resolve, reject)=>{\n            return this._rollback((err)=>{\n                if (err) return reject(err);\n                this.emit(\"rollback\", this._aborted);\n                resolve();\n            });\n        });\n    }\n    /**\n   * @private\n   * @param {basicCallback} [callback]\n   * @return {Transaction}\n   */ _rollback(callback) {\n        if (this._aborted) {\n            return setImmediate(callback, new TransactionError(\"Transaction has been aborted.\", \"EABORT\"));\n        }\n        if (!this._acquiredConnection) {\n            return setImmediate(callback, new TransactionError(\"Transaction has not begun. Call begin() first.\", \"ENOTBEGUN\"));\n        }\n        if (this._activeRequest) {\n            return setImmediate(callback, new TransactionError(\"Can't rollback transaction. There is a request in progress.\", \"EREQINPROG\"));\n        }\n        this._rollbackRequested = true;\n        setImmediate(callback);\n    }\n}\n/**\n * Default isolation level used for any transactions that don't explicitly specify an isolation level.\n *\n * @type {number}\n */ Transaction.defaultIsolationLevel = ISOLATION_LEVEL.READ_COMMITTED;\nmodule.exports = Transaction;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbXNzcWwvbGliL2Jhc2UvdHJhbnNhY3Rpb24uanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFFQSxNQUFNQSxRQUFRQyxtQkFBT0EsQ0FBQyx3REFBUztBQUMvQixNQUFNLEVBQUVDLFlBQVksRUFBRSxHQUFHRCxtQkFBT0EsQ0FBQztBQUNqQyxNQUFNLEVBQUVFLEdBQUcsRUFBRSxHQUFHRixtQkFBT0EsQ0FBQztBQUN4QixNQUFNRyxtQkFBbUJILG1CQUFPQSxDQUFDO0FBQ2pDLE1BQU0sRUFBRUksZ0JBQWdCLEVBQUUsR0FBR0osbUJBQU9BLENBQUM7QUFDckMsTUFBTUssU0FBU0wsbUJBQU9BLENBQUM7QUFDdkIsTUFBTU0sa0JBQWtCTixtQkFBT0EsQ0FBQztBQUVoQzs7Ozs7Ozs7O0NBU0MsR0FFRCxNQUFNTyxvQkFBb0JOO0lBQ3hCOzs7O0dBSUMsR0FFRE8sWUFBYUMsTUFBTSxDQUFFO1FBQ25CLEtBQUs7UUFFTFAsSUFBSVEsR0FBRyxDQUFDLElBQUksRUFBRTtRQUNkWCxNQUFNLDRCQUE0QkcsSUFBSVMsR0FBRyxDQUFDLElBQUk7UUFFOUMsSUFBSSxDQUFDRixNQUFNLEdBQUdBLFVBQVVOLGlCQUFpQlMsSUFBSTtRQUM3QyxJQUFJLENBQUNDLGNBQWMsR0FBR04sWUFBWU8scUJBQXFCO1FBQ3ZELElBQUksQ0FBQ0MsSUFBSSxHQUFHO0lBQ2Q7SUFFQSxJQUFJQyxTQUFVO1FBQ1osT0FBTyxJQUFJLENBQUNQLE1BQU0sQ0FBQ08sTUFBTTtJQUMzQjtJQUVBLElBQUlDLFlBQWE7UUFDZixPQUFPLElBQUksQ0FBQ1IsTUFBTSxDQUFDUSxTQUFTO0lBQzlCO0lBRUE7Ozs7OztHQU1DLEdBRURDLFFBQVNDLE9BQU8sRUFBRUMsUUFBUSxFQUFFO1FBQzFCLElBQUksQ0FBQyxJQUFJLENBQUNDLG1CQUFtQixFQUFFO1lBQzdCQyxhQUFhRixVQUFVLElBQUloQixpQkFBaUIsa0RBQWtEO1lBQzlGLE9BQU8sSUFBSTtRQUNiO1FB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QXFCLEdBQUdSLGdCQUFnQjBDLGNBQWM7QUFFbEVDLE9BQU9DLE9BQU8sR0FBRzNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvc29kaWZ5LWJhY2tlbmQvLi9ub2RlX21vZHVsZXMvbXNzcWwvbGliL2Jhc2UvdHJhbnNhY3Rpb24uanM/MGYzOCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcblxuY29uc3QgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdtc3NxbDpiYXNlJylcbmNvbnN0IHsgRXZlbnRFbWl0dGVyIH0gPSByZXF1aXJlKCdub2RlOmV2ZW50cycpXG5jb25zdCB7IElEUyB9ID0gcmVxdWlyZSgnLi4vdXRpbHMnKVxuY29uc3QgZ2xvYmFsQ29ubmVjdGlvbiA9IHJlcXVpcmUoJy4uL2dsb2JhbC1jb25uZWN0aW9uJylcbmNvbnN0IHsgVHJhbnNhY3Rpb25FcnJvciB9ID0gcmVxdWlyZSgnLi4vZXJyb3InKVxuY29uc3Qgc2hhcmVkID0gcmVxdWlyZSgnLi4vc2hhcmVkJylcbmNvbnN0IElTT0xBVElPTl9MRVZFTCA9IHJlcXVpcmUoJy4uL2lzb2xhdGlvbmxldmVsJylcblxuLyoqXG4gKiBDbGFzcyBUcmFuc2FjdGlvbi5cbiAqXG4gKiBAcHJvcGVydHkge051bWJlcn0gaXNvbGF0aW9uTGV2ZWwgQ29udHJvbHMgdGhlIGxvY2tpbmcgYW5kIHJvdyB2ZXJzaW9uaW5nIGJlaGF2aW9yIG9mIFRTUUwgc3RhdGVtZW50cyBpc3N1ZWQgYnkgYSBjb25uZWN0aW9uLiBSRUFEX0NPTU1JVFRFRCBieSBkZWZhdWx0LlxuICogQHByb3BlcnR5IHtTdHJpbmd9IG5hbWUgVHJhbnNhY3Rpb24gbmFtZS4gRW1wdHkgc3RyaW5nIGJ5IGRlZmF1bHQuXG4gKlxuICogQGZpcmVzIFRyYW5zYWN0aW9uI2JlZ2luXG4gKiBAZmlyZXMgVHJhbnNhY3Rpb24jY29tbWl0XG4gKiBAZmlyZXMgVHJhbnNhY3Rpb24jcm9sbGJhY2tcbiAqL1xuXG5jbGFzcyBUcmFuc2FjdGlvbiBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIC8qKlxuICAgKiBDcmVhdGUgbmV3IFRyYW5zYWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge0Nvbm5lY3Rpb259IFtwYXJlbnRdIElmIG9tbWl0ZWQsIGdsb2JhbCBjb25uZWN0aW9uIGlzIHVzZWQgaW5zdGVhZC5cbiAgICovXG5cbiAgY29uc3RydWN0b3IgKHBhcmVudCkge1xuICAgIHN1cGVyKClcblxuICAgIElEUy5hZGQodGhpcywgJ1RyYW5zYWN0aW9uJylcbiAgICBkZWJ1ZygndHJhbnNhY3Rpb24oJWQpOiBjcmVhdGVkJywgSURTLmdldCh0aGlzKSlcblxuICAgIHRoaXMucGFyZW50ID0gcGFyZW50IHx8IGdsb2JhbENvbm5lY3Rpb24ucG9vbFxuICAgIHRoaXMuaXNvbGF0aW9uTGV2ZWwgPSBUcmFuc2FjdGlvbi5kZWZhdWx0SXNvbGF0aW9uTGV2ZWxcbiAgICB0aGlzLm5hbWUgPSAnJ1xuICB9XG5cbiAgZ2V0IGNvbmZpZyAoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFyZW50LmNvbmZpZ1xuICB9XG5cbiAgZ2V0IGNvbm5lY3RlZCAoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFyZW50LmNvbm5lY3RlZFxuICB9XG5cbiAgLyoqXG4gICAqIEFjcXVpcmUgY29ubmVjdGlvbiBmcm9tIGNvbm5lY3Rpb24gcG9vbC5cbiAgICpcbiAgICogQHBhcmFtIHtSZXF1ZXN0fSByZXF1ZXN0IFJlcXVlc3QuXG4gICAqIEBwYXJhbSB7Q29ubmVjdGlvblBvb2x+YWNxdWlyZUNhbGxiYWNrfSBbY2FsbGJhY2tdIEEgY2FsbGJhY2sgd2hpY2ggaXMgY2FsbGVkIGFmdGVyIGNvbm5lY3Rpb24gaGFzIGVzdGFibGlzaGVkLCBvciBhbiBlcnJvciBoYXMgb2NjdXJyZWQuIElmIG9taXRlZCwgbWV0aG9kIHJldHVybnMgUHJvbWlzZS5cbiAgICogQHJldHVybiB7VHJhbnNhY3Rpb258UHJvbWlzZX1cbiAgICovXG5cbiAgYWNxdWlyZSAocmVxdWVzdCwgY2FsbGJhY2spIHtcbiAgICBpZiAoIXRoaXMuX2FjcXVpcmVkQ29ubmVjdGlvbikge1xuICAgICAgc2V0SW1tZWRpYXRlKGNhbGxiYWNrLCBuZXcgVHJhbnNhY3Rpb25FcnJvcignVHJhbnNhY3Rpb24gaGFzIG5vdCBiZWd1bi4gQ2FsbCBiZWdpbigpIGZpcnN0LicsICdFTk9UQkVHVU4nKSlcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2FjdGl2ZVJlcXVlc3QpIHtcbiAgICAgIHNldEltbWVkaWF0ZShjYWxsYmFjaywgbmV3IFRyYW5zYWN0aW9uRXJyb3IoXCJDYW4ndCBhY3F1aXJlIGNvbm5lY3Rpb24gZm9yIHRoZSByZXF1ZXN0LiBUaGVyZSBpcyBhbm90aGVyIHJlcXVlc3QgaW4gcHJvZ3Jlc3MuXCIsICdFUkVRSU5QUk9HJykpXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIHRoaXMuX2FjdGl2ZVJlcXVlc3QgPSByZXF1ZXN0XG4gICAgc2V0SW1tZWRpYXRlKGNhbGxiYWNrLCBudWxsLCB0aGlzLl9hY3F1aXJlZENvbm5lY3Rpb24sIHRoaXMuX2FjcXVpcmVkQ29uZmlnKVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogUmVsZWFzZSBjb25uZWN0aW9uIGJhY2sgdG8gdGhlIHBvb2wuXG4gICAqXG4gICAqIEBwYXJhbSB7Q29ubmVjdGlvbn0gY29ubmVjdGlvbiBQcmV2aW91c2x5IGFjcXVpcmVkIGNvbm5lY3Rpb24uXG4gICAqIEByZXR1cm4ge1RyYW5zYWN0aW9ufVxuICAgKi9cblxuICByZWxlYXNlIChjb25uZWN0aW9uKSB7XG4gICAgaWYgKGNvbm5lY3Rpb24gPT09IHRoaXMuX2FjcXVpcmVkQ29ubmVjdGlvbikge1xuICAgICAgdGhpcy5fYWN0aXZlUmVxdWVzdCA9IG51bGxcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIEJlZ2luIGEgdHJhbnNhY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbaXNvbGF0aW9uTGV2ZWxdIENvbnRyb2xzIHRoZSBsb2NraW5nIGFuZCByb3cgdmVyc2lvbmluZyBiZWhhdmlvciBvZiBUU1FMIHN0YXRlbWVudHMgaXNzdWVkIGJ5IGEgY29ubmVjdGlvbi5cbiAgICogQHBhcmFtIHtiYXNpY0NhbGxiYWNrfSBbY2FsbGJhY2tdIEEgY2FsbGJhY2sgd2hpY2ggaXMgY2FsbGVkIGFmdGVyIHRyYW5zYWN0aW9uIGhhcyBiZWdhbiwgb3IgYW4gZXJyb3IgaGFzIG9jY3VycmVkLiBJZiBvbWl0ZWQsIG1ldGhvZCByZXR1cm5zIFByb21pc2UuXG4gICAqIEByZXR1cm4ge1RyYW5zYWN0aW9ufFByb21pc2V9XG4gICAqL1xuXG4gIGJlZ2luIChpc29sYXRpb25MZXZlbCwgY2FsbGJhY2spIHtcbiAgICBpZiAoaXNvbGF0aW9uTGV2ZWwgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgICAgY2FsbGJhY2sgPSBpc29sYXRpb25MZXZlbFxuICAgICAgaXNvbGF0aW9uTGV2ZWwgPSB1bmRlZmluZWRcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLl9iZWdpbihpc29sYXRpb25MZXZlbCwgZXJyID0+IHtcbiAgICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgICB0aGlzLmVtaXQoJ2JlZ2luJylcbiAgICAgICAgfVxuICAgICAgICBjYWxsYmFjayhlcnIpXG4gICAgICB9KVxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IHNoYXJlZC5Qcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMuX2JlZ2luKGlzb2xhdGlvbkxldmVsLCBlcnIgPT4ge1xuICAgICAgICBpZiAoZXJyKSByZXR1cm4gcmVqZWN0KGVycilcbiAgICAgICAgdGhpcy5lbWl0KCdiZWdpbicpXG4gICAgICAgIHJlc29sdmUodGhpcylcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge051bWJlcn0gW2lzb2xhdGlvbkxldmVsXVxuICAgKiBAcGFyYW0ge2Jhc2ljQ2FsbGJhY2t9IFtjYWxsYmFja11cbiAgICogQHJldHVybiB7VHJhbnNhY3Rpb259XG4gICAqL1xuXG4gIF9iZWdpbiAoaXNvbGF0aW9uTGV2ZWwsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHRoaXMuX2FjcXVpcmVkQ29ubmVjdGlvbikge1xuICAgICAgcmV0dXJuIHNldEltbWVkaWF0ZShjYWxsYmFjaywgbmV3IFRyYW5zYWN0aW9uRXJyb3IoJ1RyYW5zYWN0aW9uIGhhcyBhbHJlYWR5IGJlZ3VuLicsICdFQUxSRUFEWUJFR1VOJykpXG4gICAgfVxuXG4gICAgdGhpcy5fYWJvcnRlZCA9IGZhbHNlXG4gICAgdGhpcy5fcm9sbGJhY2tSZXF1ZXN0ZWQgPSBmYWxzZVxuICAgIGlmIChpc29sYXRpb25MZXZlbCkge1xuICAgICAgaWYgKE9iamVjdC5rZXlzKElTT0xBVElPTl9MRVZFTCkuc29tZShrZXkgPT4ge1xuICAgICAgICByZXR1cm4gSVNPTEFUSU9OX0xFVkVMW2tleV0gPT09IGlzb2xhdGlvbkxldmVsXG4gICAgICB9KSkge1xuICAgICAgICB0aGlzLmlzb2xhdGlvbkxldmVsID0gaXNvbGF0aW9uTGV2ZWxcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBUcmFuc2FjdGlvbkVycm9yKCdJbnZhbGlkIGlzb2xhdGlvbiBsZXZlbC4nKVxuICAgICAgfVxuICAgIH1cblxuICAgIHNldEltbWVkaWF0ZShjYWxsYmFjaylcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21taXQgYSB0cmFuc2FjdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtiYXNpY0NhbGxiYWNrfSBbY2FsbGJhY2tdIEEgY2FsbGJhY2sgd2hpY2ggaXMgY2FsbGVkIGFmdGVyIHRyYW5zYWN0aW9uIGhhcyBjb21taXRlZCwgb3IgYW4gZXJyb3IgaGFzIG9jY3VycmVkLiBJZiBvbWl0ZWQsIG1ldGhvZCByZXR1cm5zIFByb21pc2UuXG4gICAqIEByZXR1cm4ge1RyYW5zYWN0aW9ufFByb21pc2V9XG4gICAqL1xuXG4gIGNvbW1pdCAoY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLl9jb21taXQoZXJyID0+IHtcbiAgICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgICB0aGlzLmVtaXQoJ2NvbW1pdCcpXG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2soZXJyKVxuICAgICAgfSlcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBzaGFyZWQuUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLl9jb21taXQoZXJyID0+IHtcbiAgICAgICAgaWYgKGVycikgcmV0dXJuIHJlamVjdChlcnIpXG4gICAgICAgIHRoaXMuZW1pdCgnY29tbWl0JylcbiAgICAgICAgcmVzb2x2ZSgpXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtiYXNpY0NhbGxiYWNrfSBbY2FsbGJhY2tdXG4gICAqIEByZXR1cm4ge1RyYW5zYWN0aW9ufVxuICAgKi9cblxuICBfY29tbWl0IChjYWxsYmFjaykge1xuICAgIGlmICh0aGlzLl9hYm9ydGVkKSB7XG4gICAgICByZXR1cm4gc2V0SW1tZWRpYXRlKGNhbGxiYWNrLCBuZXcgVHJhbnNhY3Rpb25FcnJvcignVHJhbnNhY3Rpb24gaGFzIGJlZW4gYWJvcnRlZC4nLCAnRUFCT1JUJykpXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLl9hY3F1aXJlZENvbm5lY3Rpb24pIHtcbiAgICAgIHJldHVybiBzZXRJbW1lZGlhdGUoY2FsbGJhY2ssIG5ldyBUcmFuc2FjdGlvbkVycm9yKCdUcmFuc2FjdGlvbiBoYXMgbm90IGJlZ3VuLiBDYWxsIGJlZ2luKCkgZmlyc3QuJywgJ0VOT1RCRUdVTicpKVxuICAgIH1cblxuICAgIGlmICh0aGlzLl9hY3RpdmVSZXF1ZXN0KSB7XG4gICAgICByZXR1cm4gc2V0SW1tZWRpYXRlKGNhbGxiYWNrLCBuZXcgVHJhbnNhY3Rpb25FcnJvcihcIkNhbid0IGNvbW1pdCB0cmFuc2FjdGlvbi4gVGhlcmUgaXMgYSByZXF1ZXN0IGluIHByb2dyZXNzLlwiLCAnRVJFUUlOUFJPRycpKVxuICAgIH1cblxuICAgIHNldEltbWVkaWF0ZShjYWxsYmFjaylcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIG5ldyByZXF1ZXN0IHVzaW5nIHRoaXMgdHJhbnNhY3Rpb24uXG4gICAqXG4gICAqIEByZXR1cm4ge1JlcXVlc3R9XG4gICAqL1xuXG4gIHJlcXVlc3QgKCkge1xuICAgIHJldHVybiBuZXcgc2hhcmVkLmRyaXZlci5SZXF1ZXN0KHRoaXMpXG4gIH1cblxuICAvKipcbiAgICogUm9sbGJhY2sgYSB0cmFuc2FjdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtiYXNpY0NhbGxiYWNrfSBbY2FsbGJhY2tdIEEgY2FsbGJhY2sgd2hpY2ggaXMgY2FsbGVkIGFmdGVyIHRyYW5zYWN0aW9uIGhhcyByb2xsZWQgYmFjaywgb3IgYW4gZXJyb3IgaGFzIG9jY3VycmVkLiBJZiBvbWl0ZWQsIG1ldGhvZCByZXR1cm5zIFByb21pc2UuXG4gICAqIEByZXR1cm4ge1RyYW5zYWN0aW9ufFByb21pc2V9XG4gICAqL1xuXG4gIHJvbGxiYWNrIChjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMuX3JvbGxiYWNrKGVyciA9PiB7XG4gICAgICAgIGlmICghZXJyKSB7XG4gICAgICAgICAgdGhpcy5lbWl0KCdyb2xsYmFjaycsIHRoaXMuX2Fib3J0ZWQpXG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2soZXJyKVxuICAgICAgfSlcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBzaGFyZWQuUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5fcm9sbGJhY2soZXJyID0+IHtcbiAgICAgICAgaWYgKGVycikgcmV0dXJuIHJlamVjdChlcnIpXG4gICAgICAgIHRoaXMuZW1pdCgncm9sbGJhY2snLCB0aGlzLl9hYm9ydGVkKVxuICAgICAgICByZXNvbHZlKClcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge2Jhc2ljQ2FsbGJhY2t9IFtjYWxsYmFja11cbiAgICogQHJldHVybiB7VHJhbnNhY3Rpb259XG4gICAqL1xuXG4gIF9yb2xsYmFjayAoY2FsbGJhY2spIHtcbiAgICBpZiAodGhpcy5fYWJvcnRlZCkge1xuICAgICAgcmV0dXJuIHNldEltbWVkaWF0ZShjYWxsYmFjaywgbmV3IFRyYW5zYWN0aW9uRXJyb3IoJ1RyYW5zYWN0aW9uIGhhcyBiZWVuIGFib3J0ZWQuJywgJ0VBQk9SVCcpKVxuICAgIH1cblxuICAgIGlmICghdGhpcy5fYWNxdWlyZWRDb25uZWN0aW9uKSB7XG4gICAgICByZXR1cm4gc2V0SW1tZWRpYXRlKGNhbGxiYWNrLCBuZXcgVHJhbnNhY3Rpb25FcnJvcignVHJhbnNhY3Rpb24gaGFzIG5vdCBiZWd1bi4gQ2FsbCBiZWdpbigpIGZpcnN0LicsICdFTk9UQkVHVU4nKSlcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fYWN0aXZlUmVxdWVzdCkge1xuICAgICAgcmV0dXJuIHNldEltbWVkaWF0ZShjYWxsYmFjaywgbmV3IFRyYW5zYWN0aW9uRXJyb3IoXCJDYW4ndCByb2xsYmFjayB0cmFuc2FjdGlvbi4gVGhlcmUgaXMgYSByZXF1ZXN0IGluIHByb2dyZXNzLlwiLCAnRVJFUUlOUFJPRycpKVxuICAgIH1cblxuICAgIHRoaXMuX3JvbGxiYWNrUmVxdWVzdGVkID0gdHJ1ZVxuXG4gICAgc2V0SW1tZWRpYXRlKGNhbGxiYWNrKVxuICB9XG59XG5cbi8qKlxuICogRGVmYXVsdCBpc29sYXRpb24gbGV2ZWwgdXNlZCBmb3IgYW55IHRyYW5zYWN0aW9ucyB0aGF0IGRvbid0IGV4cGxpY2l0bHkgc3BlY2lmeSBhbiBpc29sYXRpb24gbGV2ZWwuXG4gKlxuICogQHR5cGUge251bWJlcn1cbiAqL1xuVHJhbnNhY3Rpb24uZGVmYXVsdElzb2xhdGlvbkxldmVsID0gSVNPTEFUSU9OX0xFVkVMLlJFQURfQ09NTUlUVEVEXG5cbm1vZHVsZS5leHBvcnRzID0gVHJhbnNhY3Rpb25cbiJdLCJuYW1lcyI6WyJkZWJ1ZyIsInJlcXVpcmUiLCJFdmVudEVtaXR0ZXIiLCJJRFMiLCJnbG9iYWxDb25uZWN0aW9uIiwiVHJhbnNhY3Rpb25FcnJvciIsInNoYXJlZCIsIklTT0xBVElPTl9MRVZFTCIsIlRyYW5zYWN0aW9uIiwiY29uc3RydWN0b3IiLCJwYXJlbnQiLCJhZGQiLCJnZXQiLCJwb29sIiwiaXNvbGF0aW9uTGV2ZWwiLCJkZWZhdWx0SXNvbGF0aW9uTGV2ZWwiLCJuYW1lIiwiY29uZmlnIiwiY29ubmVjdGVkIiwiYWNxdWlyZSIsInJlcXVlc3QiLCJjYWxsYmFjayIsIl9hY3F1aXJlZENvbm5lY3Rpb24iLCJzZXRJbW1lZGlhdGUiLCJfYWN0aXZlUmVxdWVzdCIsIl9hY3F1aXJlZENvbmZpZyIsInJlbGVhc2UiLCJjb25uZWN0aW9uIiwiYmVnaW4iLCJGdW5jdGlvbiIsInVuZGVmaW5lZCIsIl9iZWdpbiIsImVyciIsImVtaXQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIl9hYm9ydGVkIiwiX3JvbGxiYWNrUmVxdWVzdGVkIiwiT2JqZWN0Iiwia2V5cyIsInNvbWUiLCJrZXkiLCJjb21taXQiLCJfY29tbWl0IiwiZHJpdmVyIiwiUmVxdWVzdCIsInJvbGxiYWNrIiwiX3JvbGxiYWNrIiwiUkVBRF9DT01NSVRURUQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/mssql/lib/base/transaction.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/mssql/lib/datatypes.js":
/*!*********************************************!*\
  !*** ./node_modules/mssql/lib/datatypes.js ***!
  \*********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst objectHasProperty = (__webpack_require__(/*! ./utils */ \"(rsc)/./node_modules/mssql/lib/utils.js\").objectHasProperty);\nconst inspect = Symbol.for(\"nodejs.util.inspect.custom\");\nconst TYPES = {\n    VarChar (length) {\n        return {\n            type: TYPES.VarChar,\n            length\n        };\n    },\n    NVarChar (length) {\n        return {\n            type: TYPES.NVarChar,\n            length\n        };\n    },\n    Text () {\n        return {\n            type: TYPES.Text\n        };\n    },\n    Int () {\n        return {\n            type: TYPES.Int\n        };\n    },\n    BigInt () {\n        return {\n            type: TYPES.BigInt\n        };\n    },\n    TinyInt () {\n        return {\n            type: TYPES.TinyInt\n        };\n    },\n    SmallInt () {\n        return {\n            type: TYPES.SmallInt\n        };\n    },\n    Bit () {\n        return {\n            type: TYPES.Bit\n        };\n    },\n    Float () {\n        return {\n            type: TYPES.Float\n        };\n    },\n    Numeric (precision, scale) {\n        return {\n            type: TYPES.Numeric,\n            precision,\n            scale\n        };\n    },\n    Decimal (precision, scale) {\n        return {\n            type: TYPES.Decimal,\n            precision,\n            scale\n        };\n    },\n    Real () {\n        return {\n            type: TYPES.Real\n        };\n    },\n    Date () {\n        return {\n            type: TYPES.Date\n        };\n    },\n    DateTime () {\n        return {\n            type: TYPES.DateTime\n        };\n    },\n    DateTime2 (scale) {\n        return {\n            type: TYPES.DateTime2,\n            scale\n        };\n    },\n    DateTimeOffset (scale) {\n        return {\n            type: TYPES.DateTimeOffset,\n            scale\n        };\n    },\n    SmallDateTime () {\n        return {\n            type: TYPES.SmallDateTime\n        };\n    },\n    Time (scale) {\n        return {\n            type: TYPES.Time,\n            scale\n        };\n    },\n    UniqueIdentifier () {\n        return {\n            type: TYPES.UniqueIdentifier\n        };\n    },\n    SmallMoney () {\n        return {\n            type: TYPES.SmallMoney\n        };\n    },\n    Money () {\n        return {\n            type: TYPES.Money\n        };\n    },\n    Binary (length) {\n        return {\n            type: TYPES.Binary,\n            length\n        };\n    },\n    VarBinary (length) {\n        return {\n            type: TYPES.VarBinary,\n            length\n        };\n    },\n    Image () {\n        return {\n            type: TYPES.Image\n        };\n    },\n    Xml () {\n        return {\n            type: TYPES.Xml\n        };\n    },\n    Char (length) {\n        return {\n            type: TYPES.Char,\n            length\n        };\n    },\n    NChar (length) {\n        return {\n            type: TYPES.NChar,\n            length\n        };\n    },\n    NText () {\n        return {\n            type: TYPES.NText\n        };\n    },\n    TVP (tvpType) {\n        return {\n            type: TYPES.TVP,\n            tvpType\n        };\n    },\n    UDT () {\n        return {\n            type: TYPES.UDT\n        };\n    },\n    Geography () {\n        return {\n            type: TYPES.Geography\n        };\n    },\n    Geometry () {\n        return {\n            type: TYPES.Geometry\n        };\n    },\n    Variant () {\n        return {\n            type: TYPES.Variant\n        };\n    }\n};\nmodule.exports.TYPES = TYPES;\nmodule.exports.DECLARATIONS = {};\nconst zero = function(value, length) {\n    if (length == null) length = 2;\n    value = String(value);\n    if (value.length < length) {\n        for(let i = 1; i <= length - value.length; i++){\n            value = `0${value}`;\n        }\n    }\n    return value;\n};\nfor(const key in TYPES){\n    if (objectHasProperty(TYPES, key)) {\n        const value = TYPES[key];\n        value.declaration = key.toLowerCase();\n        module.exports.DECLARATIONS[value.declaration] = value;\n        ((key, value)=>{\n            value[inspect] = ()=>`[sql.${key}]`;\n        })(key, value);\n    }\n}\nmodule.exports.declare = (type, options)=>{\n    switch(type){\n        case TYPES.VarChar:\n        case TYPES.VarBinary:\n            return `${type.declaration} (${options.length > 8000 ? \"MAX\" : options.length == null ? \"MAX\" : options.length})`;\n        case TYPES.NVarChar:\n            return `${type.declaration} (${options.length > 4000 ? \"MAX\" : options.length == null ? \"MAX\" : options.length})`;\n        case TYPES.Char:\n        case TYPES.NChar:\n        case TYPES.Binary:\n            return `${type.declaration} (${options.length == null ? 1 : options.length})`;\n        case TYPES.Decimal:\n        case TYPES.Numeric:\n            return `${type.declaration} (${options.precision == null ? 18 : options.precision}, ${options.scale == null ? 0 : options.scale})`;\n        case TYPES.Time:\n        case TYPES.DateTime2:\n        case TYPES.DateTimeOffset:\n            return `${type.declaration} (${options.scale == null ? 7 : options.scale})`;\n        case TYPES.TVP:\n            return `${options.tvpType} readonly`;\n        default:\n            return type.declaration;\n    }\n};\nmodule.exports.cast = (value, type, options)=>{\n    if (value == null) {\n        return null;\n    }\n    switch(typeof value){\n        case \"string\":\n            return `N'${value.replace(/'/g, \"''\")}'`;\n        case \"number\":\n            return value;\n        case \"boolean\":\n            return value ? 1 : 0;\n        case \"object\":\n            if (value instanceof Date) {\n                let ns = value.getUTCMilliseconds() / 1000;\n                if (value.nanosecondDelta != null) {\n                    ns += value.nanosecondDelta;\n                }\n                const scale = options.scale == null ? 7 : options.scale;\n                if (scale > 0) {\n                    ns = String(ns).substr(1, scale + 1);\n                } else {\n                    ns = \"\";\n                }\n                return `N'${value.getUTCFullYear()}-${zero(value.getUTCMonth() + 1)}-${zero(value.getUTCDate())} ${zero(value.getUTCHours())}:${zero(value.getUTCMinutes())}:${zero(value.getUTCSeconds())}${ns}'`;\n            } else if (Buffer.isBuffer(value)) {\n                return `0x${value.toString(\"hex\")}`;\n            }\n            return null;\n        default:\n            return null;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbXNzcWwvbGliL2RhdGF0eXBlcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBLE1BQU1BLG9CQUFvQkMsaUdBQW9DO0FBQzlELE1BQU1DLFVBQVVDLE9BQU9DLEdBQUcsQ0FBQztBQUUzQixNQUFNQyxRQUFRO0lBQ1pDLFNBQVNDLE1BQU07UUFDYixPQUFPO1lBQUVDLE1BQU1ILE1BQU1DLE9BQU87WUFBRUM7UUFBTztJQUN2QztJQUNBRSxVQUFVRixNQUFNO1FBQ2QsT0FBTztZQUFFQyxNQUFNSCxNQUFNSSxRQUFRO1lBQUVGO1FBQU87SUFDeEM7SUFDQUc7UUFDRSxPQUFPO1lBQUVGLE1BQU1ILE1BQU1LLElBQUk7UUFBQztJQUM1QjtJQUNBQztRQUNFLE9BQU87WUFBRUgsTUFBTUgsTUFBTU0sR0FBRztRQUFDO0lBQzNCO0lBQ0FDO1FBQ0UsT0FBTztZQUFFSixNQUFNSCxNQUFNTyxNQUFNO1FBQUM7SUFDOUI7SUFDQUM7UUFDRSxPQUFPO1lBQUVMLE1BQU1ILE1BQU1RLE9BQU87UUFBQztJQUMvQjtJQUNBQztRQUNFLE9BQU87WUFBRU4sTUFBTUgsTUFBTVMsUUFBUTtRQUFDO0lBQ2hDO0lBQ0FDO1FBQ0UsT0FBTztZQUFFUCxNQUFNSCxNQUFNVSxHQUFHO1FBQUM7SUFDM0I7SUFDQUM7UUFDRSxPQUFPO1lBQUVSLE1BQU1ILE1BQU1XLEtBQUs7UUFBQztJQUM3QjtJQUNBQyxTQUFTQyxTQUFTLEVBQUVDLEtBQUs7UUFDdkIsT0FBTztZQUFFWCxNQUFNSCxNQUFNWSxPQUFPO1lBQUVDO1lBQVdDO1FBQU07SUFDakQ7SUFDQUMsU0FBU0YsU0FBUyxFQUFFQyxLQUFLO1FBQ3ZCLE9BQU87WUFBRVgsTUFBTUgsTUFBTWUsT0FBTztZQUFFRjtZQUFXQztRQUFNO0lBQ2pEO0lBQ0FFO1FBQ0UsT0FBTztZQUFFYixNQUFNSCxNQUFNZ0IsSUFBSTtRQUFDO0lBQzVCO0lBQ0FDO1FBQ0UsT0FBTztZQUFFZCxNQUFNSCxNQUFNaUIs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YUFBYSxJQUFJLEVBQUVULEdBQUcsQ0FBQyxDQUFDO1lBQ3BNLE9BQU8sSUFBSVUsT0FBT0MsUUFBUSxDQUFDckIsUUFBUTtnQkFDakMsT0FBTyxDQUFDLEVBQUUsRUFBRUEsTUFBTXNCLFFBQVEsQ0FBQyxPQUFPLENBQUM7WUFDckM7WUFFQSxPQUFPO1FBRVQ7WUFDRSxPQUFPO0lBQ1g7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb3NvZGlmeS1iYWNrZW5kLy4vbm9kZV9tb2R1bGVzL21zc3FsL2xpYi9kYXRhdHlwZXMuanM/OTNhMiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcbmNvbnN0IG9iamVjdEhhc1Byb3BlcnR5ID0gcmVxdWlyZSgnLi91dGlscycpLm9iamVjdEhhc1Byb3BlcnR5XG5jb25zdCBpbnNwZWN0ID0gU3ltYm9sLmZvcignbm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b20nKVxuXG5jb25zdCBUWVBFUyA9IHtcbiAgVmFyQ2hhciAobGVuZ3RoKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogVFlQRVMuVmFyQ2hhciwgbGVuZ3RoIH1cbiAgfSxcbiAgTlZhckNoYXIgKGxlbmd0aCkge1xuICAgIHJldHVybiB7IHR5cGU6IFRZUEVTLk5WYXJDaGFyLCBsZW5ndGggfVxuICB9LFxuICBUZXh0ICgpIHtcbiAgICByZXR1cm4geyB0eXBlOiBUWVBFUy5UZXh0IH1cbiAgfSxcbiAgSW50ICgpIHtcbiAgICByZXR1cm4geyB0eXBlOiBUWVBFUy5JbnQgfVxuICB9LFxuICBCaWdJbnQgKCkge1xuICAgIHJldHVybiB7IHR5cGU6IFRZUEVTLkJpZ0ludCB9XG4gIH0sXG4gIFRpbnlJbnQgKCkge1xuICAgIHJldHVybiB7IHR5cGU6IFRZUEVTLlRpbnlJbnQgfVxuICB9LFxuICBTbWFsbEludCAoKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogVFlQRVMuU21hbGxJbnQgfVxuICB9LFxuICBCaXQgKCkge1xuICAgIHJldHVybiB7IHR5cGU6IFRZUEVTLkJpdCB9XG4gIH0sXG4gIEZsb2F0ICgpIHtcbiAgICByZXR1cm4geyB0eXBlOiBUWVBFUy5GbG9hdCB9XG4gIH0sXG4gIE51bWVyaWMgKHByZWNpc2lvbiwgc2NhbGUpIHtcbiAgICByZXR1cm4geyB0eXBlOiBUWVBFUy5OdW1lcmljLCBwcmVjaXNpb24sIHNjYWxlIH1cbiAgfSxcbiAgRGVjaW1hbCAocHJlY2lzaW9uLCBzY2FsZSkge1xuICAgIHJldHVybiB7IHR5cGU6IFRZUEVTLkRlY2ltYWwsIHByZWNpc2lvbiwgc2NhbGUgfVxuICB9LFxuICBSZWFsICgpIHtcbiAgICByZXR1cm4geyB0eXBlOiBUWVBFUy5SZWFsIH1cbiAgfSxcbiAgRGF0ZSAoKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogVFlQRVMuRGF0ZSB9XG4gIH0sXG4gIERhdGVUaW1lICgpIHtcbiAgICByZXR1cm4geyB0eXBlOiBUWVBFUy5EYXRlVGltZSB9XG4gIH0sXG4gIERhdGVUaW1lMiAoc2NhbGUpIHtcbiAgICByZXR1cm4geyB0eXBlOiBUWVBFUy5EYXRlVGltZTIsIHNjYWxlIH1cbiAgfSxcbiAgRGF0ZVRpbWVPZmZzZXQgKHNjYWxlKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogVFlQRVMuRGF0ZVRpbWVPZmZzZXQsIHNjYWxlIH1cbiAgfSxcbiAgU21hbGxEYXRlVGltZSAoKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogVFlQRVMuU21hbGxEYXRlVGltZSB9XG4gIH0sXG4gIFRpbWUgKHNjYWxlKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogVFlQRVMuVGltZSwgc2NhbGUgfVxuICB9LFxuICBVbmlxdWVJZGVudGlmaWVyICgpIHtcbiAgICByZXR1cm4geyB0eXBlOiBUWVBFUy5VbmlxdWVJZGVudGlmaWVyIH1cbiAgfSxcbiAgU21hbGxNb25leSAoKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogVFlQRVMuU21hbGxNb25leSB9XG4gIH0sXG4gIE1vbmV5ICgpIHtcbiAgICByZXR1cm4geyB0eXBlOiBUWVBFUy5Nb25leSB9XG4gIH0sXG4gIEJpbmFyeSAobGVuZ3RoKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogVFlQRVMuQmluYXJ5LCBsZW5ndGggfVxuICB9LFxuICBWYXJCaW5hcnkgKGxlbmd0aCkge1xuICAgIHJldHVybiB7IHR5cGU6IFRZUEVTLlZhckJpbmFyeSwgbGVuZ3RoIH1cbiAgfSxcbiAgSW1hZ2UgKCkge1xuICAgIHJldHVybiB7IHR5cGU6IFRZUEVTLkltYWdlIH1cbiAgfSxcbiAgWG1sICgpIHtcbiAgICByZXR1cm4geyB0eXBlOiBUWVBFUy5YbWwgfVxuICB9LFxuICBDaGFyIChsZW5ndGgpIHtcbiAgICByZXR1cm4geyB0eXBlOiBUWVBFUy5DaGFyLCBsZW5ndGggfVxuICB9LFxuICBOQ2hhciAobGVuZ3RoKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogVFlQRVMuTkNoYXIsIGxlbmd0aCB9XG4gIH0sXG4gIE5UZXh0ICgpIHtcbiAgICByZXR1cm4geyB0eXBlOiBUWVBFUy5OVGV4dCB9XG4gIH0sXG4gIFRWUCAodHZwVHlwZSkge1xuICAgIHJldHVybiB7IHR5cGU6IFRZUEVTLlRWUCwgdHZwVHlwZSB9XG4gIH0sXG4gIFVEVCAoKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogVFlQRVMuVURUIH1cbiAgfSxcbiAgR2VvZ3JhcGh5ICgpIHtcbiAgICByZXR1cm4geyB0eXBlOiBUWVBFUy5HZW9ncmFwaHkgfVxuICB9LFxuICBHZW9tZXRyeSAoKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogVFlQRVMuR2VvbWV0cnkgfVxuICB9LFxuICBWYXJpYW50ICgpIHtcbiAgICByZXR1cm4geyB0eXBlOiBUWVBFUy5WYXJpYW50IH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cy5UWVBFUyA9IFRZUEVTXG5tb2R1bGUuZXhwb3J0cy5ERUNMQVJBVElPTlMgPSB7fVxuXG5jb25zdCB6ZXJvID0gZnVuY3Rpb24gKHZhbHVlLCBsZW5ndGgpIHtcbiAgaWYgKGxlbmd0aCA9PSBudWxsKSBsZW5ndGggPSAyXG5cbiAgdmFsdWUgPSBTdHJpbmcodmFsdWUpXG4gIGlmICh2YWx1ZS5sZW5ndGggPCBsZW5ndGgpIHtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBsZW5ndGggLSB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgdmFsdWUgPSBgMCR7dmFsdWV9YFxuICAgIH1cbiAgfVxuICByZXR1cm4gdmFsdWVcbn1cblxuZm9yIChjb25zdCBrZXkgaW4gVFlQRVMpIHtcbiAgaWYgKG9iamVjdEhhc1Byb3BlcnR5KFRZUEVTLCBrZXkpKSB7XG4gICAgY29uc3QgdmFsdWUgPSBUWVBFU1trZXldXG4gICAgdmFsdWUuZGVjbGFyYXRpb24gPSBrZXkudG9Mb3dlckNhc2UoKVxuICAgIG1vZHVsZS5leHBvcnRzLkRFQ0xBUkFUSU9OU1t2YWx1ZS5kZWNsYXJhdGlvbl0gPSB2YWx1ZTtcblxuICAgICgoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgdmFsdWVbaW5zcGVjdF0gPSAoKSA9PiBgW3NxbC4ke2tleX1dYFxuICAgIH0pKGtleSwgdmFsdWUpXG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMuZGVjbGFyZSA9ICh0eXBlLCBvcHRpb25zKSA9PiB7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgVFlQRVMuVmFyQ2hhcjogY2FzZSBUWVBFUy5WYXJCaW5hcnk6XG4gICAgICByZXR1cm4gYCR7dHlwZS5kZWNsYXJhdGlvbn0gKCR7b3B0aW9ucy5sZW5ndGggPiA4MDAwID8gJ01BWCcgOiAob3B0aW9ucy5sZW5ndGggPT0gbnVsbCA/ICdNQVgnIDogb3B0aW9ucy5sZW5ndGgpfSlgXG4gICAgY2FzZSBUWVBFUy5OVmFyQ2hhcjpcbiAgICAgIHJldHVybiBgJHt0eXBlLmRlY2xhcmF0aW9ufSAoJHtvcHRpb25zLmxlbmd0aCA+IDQwMDAgPyAnTUFYJyA6IChvcHRpb25zLmxlbmd0aCA9PSBudWxsID8gJ01BWCcgOiBvcHRpb25zLmxlbmd0aCl9KWBcbiAgICBjYXNlIFRZUEVTLkNoYXI6IGNhc2UgVFlQRVMuTkNoYXI6IGNhc2UgVFlQRVMuQmluYXJ5OlxuICAgICAgcmV0dXJuIGAke3R5cGUuZGVjbGFyYXRpb259ICgke29wdGlvbnMubGVuZ3RoID09IG51bGwgPyAxIDogb3B0aW9ucy5sZW5ndGh9KWBcbiAgICBjYXNlIFRZUEVTLkRlY2ltYWw6IGNhc2UgVFlQRVMuTnVtZXJpYzpcbiAgICAgIHJldHVybiBgJHt0eXBlLmRlY2xhcmF0aW9ufSAoJHtvcHRpb25zLnByZWNpc2lvbiA9PSBudWxsID8gMTggOiBvcHRpb25zLnByZWNpc2lvbn0sICR7b3B0aW9ucy5zY2FsZSA9PSBudWxsID8gMCA6IG9wdGlvbnMuc2NhbGV9KWBcbiAgICBjYXNlIFRZUEVTLlRpbWU6IGNhc2UgVFlQRVMuRGF0ZVRpbWUyOiBjYXNlIFRZUEVTLkRhdGVUaW1lT2Zmc2V0OlxuICAgICAgcmV0dXJuIGAke3R5cGUuZGVjbGFyYXRpb259ICgke29wdGlvbnMuc2NhbGUgPT0gbnVsbCA/IDcgOiBvcHRpb25zLnNjYWxlfSlgXG4gICAgY2FzZSBUWVBFUy5UVlA6XG4gICAgICByZXR1cm4gYCR7b3B0aW9ucy50dnBUeXBlfSByZWFkb25seWBcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHR5cGUuZGVjbGFyYXRpb25cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cy5jYXN0ID0gKHZhbHVlLCB0eXBlLCBvcHRpb25zKSA9PiB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIHJldHVybiBgTicke3ZhbHVlLnJlcGxhY2UoLycvZywgJ1xcJ1xcJycpfSdgXG5cbiAgICBjYXNlICdudW1iZXInOlxuICAgICAgcmV0dXJuIHZhbHVlXG5cbiAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIHJldHVybiB2YWx1ZSA/IDEgOiAwXG5cbiAgICBjYXNlICdvYmplY3QnOlxuICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICBsZXQgbnMgPSB2YWx1ZS5nZXRVVENNaWxsaXNlY29uZHMoKSAvIDEwMDBcbiAgICAgICAgaWYgKHZhbHVlLm5hbm9zZWNvbmREZWx0YSAhPSBudWxsKSB7XG4gICAgICAgICAgbnMgKz0gdmFsdWUubmFub3NlY29uZERlbHRhXG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2NhbGUgPSBvcHRpb25zLnNjYWxlID09IG51bGwgPyA3IDogb3B0aW9ucy5zY2FsZVxuXG4gICAgICAgIGlmIChzY2FsZSA+IDApIHtcbiAgICAgICAgICBucyA9IFN0cmluZyhucykuc3Vic3RyKDEsIHNjYWxlICsgMSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBucyA9ICcnXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYE4nJHt2YWx1ZS5nZXRVVENGdWxsWWVhcigpfS0ke3plcm8odmFsdWUuZ2V0VVRDTW9udGgoKSArIDEpfS0ke3plcm8odmFsdWUuZ2V0VVRDRGF0ZSgpKX0gJHt6ZXJvKHZhbHVlLmdldFVUQ0hvdXJzKCkpfToke3plcm8odmFsdWUuZ2V0VVRDTWludXRlcygpKX06JHt6ZXJvKHZhbHVlLmdldFVUQ1NlY29uZHMoKSl9JHtuc30nYFxuICAgICAgfSBlbHNlIGlmIChCdWZmZXIuaXNCdWZmZXIodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBgMHgke3ZhbHVlLnRvU3RyaW5nKCdoZXgnKX1gXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsXG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIG51bGxcbiAgfVxufVxuIl0sIm5hbWVzIjpbIm9iamVjdEhhc1Byb3BlcnR5IiwicmVxdWlyZSIsImluc3BlY3QiLCJTeW1ib2wiLCJmb3IiLCJUWVBFUyIsIlZhckNoYXIiLCJsZW5ndGgiLCJ0eXBlIiwiTlZhckNoYXIiLCJUZXh0IiwiSW50IiwiQmlnSW50IiwiVGlueUludCIsIlNtYWxsSW50IiwiQml0IiwiRmxvYXQiLCJOdW1lcmljIiwicHJlY2lzaW9uIiwic2NhbGUiLCJEZWNpbWFsIiwiUmVhbCIsIkRhdGUiLCJEYXRlVGltZSIsIkRhdGVUaW1lMiIsIkRhdGVUaW1lT2Zmc2V0IiwiU21hbGxEYXRlVGltZSIsIlRpbWUiLCJVbmlxdWVJZGVudGlmaWVyIiwiU21hbGxNb25leSIsIk1vbmV5IiwiQmluYXJ5IiwiVmFyQmluYXJ5IiwiSW1hZ2UiLCJYbWwiLCJDaGFyIiwiTkNoYXIiLCJOVGV4dCIsIlRWUCIsInR2cFR5cGUiLCJVRFQiLCJHZW9ncmFwaHkiLCJHZW9tZXRyeSIsIlZhcmlhbnQiLCJtb2R1bGUiLCJleHBvcnRzIiwiREVDTEFSQVRJT05TIiwiemVybyIsInZhbHVlIiwiU3RyaW5nIiwiaSIsImtleSIsImRlY2xhcmF0aW9uIiwidG9Mb3dlckNhc2UiLCJkZWNsYXJlIiwib3B0aW9ucyIsImNhc3QiLCJyZXBsYWNlIiwibnMiLCJnZXRVVENNaWxsaXNlY29uZHMiLCJuYW5vc2Vjb25kRGVsdGEiLCJzdWJzdHIiLCJnZXRVVENGdWxsWWVhciIsImdldFVUQ01vbnRoIiwiZ2V0VVRDRGF0ZSIsImdldFVUQ0hvdXJzIiwiZ2V0VVRDTWludXRlcyIsImdldFVUQ1NlY29uZHMiLCJCdWZmZXIiLCJpc0J1ZmZlciIsInRvU3RyaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/mssql/lib/datatypes.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/mssql/lib/error/connection-error.js":
/*!**********************************************************!*\
  !*** ./node_modules/mssql/lib/error/connection-error.js ***!
  \**********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst MSSQLError = __webpack_require__(/*! ./mssql-error */ \"(rsc)/./node_modules/mssql/lib/error/mssql-error.js\");\n/**\n * Class ConnectionError.\n */ class ConnectionError extends MSSQLError {\n    /**\n   * Creates a new ConnectionError.\n   *\n   * @param {String} message Error message.\n   * @param {String} [code] Error code.\n   */ constructor(message, code){\n        super(message, code);\n        this.name = \"ConnectionError\";\n    }\n}\nmodule.exports = ConnectionError;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbXNzcWwvbGliL2Vycm9yL2Nvbm5lY3Rpb24tZXJyb3IuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFFQSxNQUFNQSxhQUFhQyxtQkFBT0EsQ0FBQztBQUUzQjs7Q0FFQyxHQUVELE1BQU1DLHdCQUF3QkY7SUFDNUI7Ozs7O0dBS0MsR0FFREcsWUFBYUMsT0FBTyxFQUFFQyxJQUFJLENBQUU7UUFDMUIsS0FBSyxDQUFDRCxTQUFTQztRQUVmLElBQUksQ0FBQ0MsSUFBSSxHQUFHO0lBQ2Q7QUFDRjtBQUVBQyxPQUFPQyxPQUFPLEdBQUdOIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvc29kaWZ5LWJhY2tlbmQvLi9ub2RlX21vZHVsZXMvbXNzcWwvbGliL2Vycm9yL2Nvbm5lY3Rpb24tZXJyb3IuanM/MzQ3MiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcblxuY29uc3QgTVNTUUxFcnJvciA9IHJlcXVpcmUoJy4vbXNzcWwtZXJyb3InKVxuXG4vKipcbiAqIENsYXNzIENvbm5lY3Rpb25FcnJvci5cbiAqL1xuXG5jbGFzcyBDb25uZWN0aW9uRXJyb3IgZXh0ZW5kcyBNU1NRTEVycm9yIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgQ29ubmVjdGlvbkVycm9yLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZSBFcnJvciBtZXNzYWdlLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvZGVdIEVycm9yIGNvZGUuXG4gICAqL1xuXG4gIGNvbnN0cnVjdG9yIChtZXNzYWdlLCBjb2RlKSB7XG4gICAgc3VwZXIobWVzc2FnZSwgY29kZSlcblxuICAgIHRoaXMubmFtZSA9ICdDb25uZWN0aW9uRXJyb3InXG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBDb25uZWN0aW9uRXJyb3JcbiJdLCJuYW1lcyI6WyJNU1NRTEVycm9yIiwicmVxdWlyZSIsIkNvbm5lY3Rpb25FcnJvciIsImNvbnN0cnVjdG9yIiwibWVzc2FnZSIsImNvZGUiLCJuYW1lIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/mssql/lib/error/connection-error.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/mssql/lib/error/index.js":
/*!***********************************************!*\
  !*** ./node_modules/mssql/lib/error/index.js ***!
  \***********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst ConnectionError = __webpack_require__(/*! ./connection-error */ \"(rsc)/./node_modules/mssql/lib/error/connection-error.js\");\nconst MSSQLError = __webpack_require__(/*! ./mssql-error */ \"(rsc)/./node_modules/mssql/lib/error/mssql-error.js\");\nconst PreparedStatementError = __webpack_require__(/*! ./prepared-statement-error */ \"(rsc)/./node_modules/mssql/lib/error/prepared-statement-error.js\");\nconst RequestError = __webpack_require__(/*! ./request-error */ \"(rsc)/./node_modules/mssql/lib/error/request-error.js\");\nconst TransactionError = __webpack_require__(/*! ./transaction-error */ \"(rsc)/./node_modules/mssql/lib/error/transaction-error.js\");\nmodule.exports = {\n    ConnectionError,\n    MSSQLError,\n    PreparedStatementError,\n    RequestError,\n    TransactionError\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbXNzcWwvbGliL2Vycm9yL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBRUEsTUFBTUEsa0JBQWtCQyxtQkFBT0EsQ0FBQztBQUNoQyxNQUFNQyxhQUFhRCxtQkFBT0EsQ0FBQztBQUMzQixNQUFNRSx5QkFBeUJGLG1CQUFPQSxDQUFDO0FBQ3ZDLE1BQU1HLGVBQWVILG1CQUFPQSxDQUFDO0FBQzdCLE1BQU1JLG1CQUFtQkosbUJBQU9BLENBQUM7QUFFakNLLE9BQU9DLE9BQU8sR0FBRztJQUNmUDtJQUNBRTtJQUNBQztJQUNBQztJQUNBQztBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvc29kaWZ5LWJhY2tlbmQvLi9ub2RlX21vZHVsZXMvbXNzcWwvbGliL2Vycm9yL2luZGV4LmpzPzNlYzAiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IENvbm5lY3Rpb25FcnJvciA9IHJlcXVpcmUoJy4vY29ubmVjdGlvbi1lcnJvcicpXG5jb25zdCBNU1NRTEVycm9yID0gcmVxdWlyZSgnLi9tc3NxbC1lcnJvcicpXG5jb25zdCBQcmVwYXJlZFN0YXRlbWVudEVycm9yID0gcmVxdWlyZSgnLi9wcmVwYXJlZC1zdGF0ZW1lbnQtZXJyb3InKVxuY29uc3QgUmVxdWVzdEVycm9yID0gcmVxdWlyZSgnLi9yZXF1ZXN0LWVycm9yJylcbmNvbnN0IFRyYW5zYWN0aW9uRXJyb3IgPSByZXF1aXJlKCcuL3RyYW5zYWN0aW9uLWVycm9yJylcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIENvbm5lY3Rpb25FcnJvcixcbiAgTVNTUUxFcnJvcixcbiAgUHJlcGFyZWRTdGF0ZW1lbnRFcnJvcixcbiAgUmVxdWVzdEVycm9yLFxuICBUcmFuc2FjdGlvbkVycm9yXG59XG4iXSwibmFtZXMiOlsiQ29ubmVjdGlvbkVycm9yIiwicmVxdWlyZSIsIk1TU1FMRXJyb3IiLCJQcmVwYXJlZFN0YXRlbWVudEVycm9yIiwiUmVxdWVzdEVycm9yIiwiVHJhbnNhY3Rpb25FcnJvciIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/mssql/lib/error/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/mssql/lib/error/mssql-error.js":
/*!*****************************************************!*\
  !*** ./node_modules/mssql/lib/error/mssql-error.js ***!
  \*****************************************************/
/***/ ((module) => {

eval("\nclass MSSQLError extends Error {\n    /**\n   * Creates a new ConnectionError.\n   *\n   * @param {String} message Error message.\n   * @param {String} [code] Error code.\n   */ constructor(message, code){\n        if (message instanceof Error) {\n            super(message.message);\n            this.code = message.code || code;\n            Error.captureStackTrace(this, this.constructor);\n            Object.defineProperty(this, \"originalError\", {\n                enumerable: true,\n                value: message\n            });\n        } else {\n            super(message);\n            this.code = code;\n        }\n        this.name = \"MSSQLError\";\n    }\n}\nmodule.exports = MSSQLError;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbXNzcWwvbGliL2Vycm9yL21zc3FsLWVycm9yLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBRUEsTUFBTUEsbUJBQW1CQztJQUN2Qjs7Ozs7R0FLQyxHQUVEQyxZQUFhQyxPQUFPLEVBQUVDLElBQUksQ0FBRTtRQUMxQixJQUFJRCxtQkFBbUJGLE9BQU87WUFDNUIsS0FBSyxDQUFDRSxRQUFRQSxPQUFPO1lBQ3JCLElBQUksQ0FBQ0MsSUFBSSxHQUFHRCxRQUFRQyxJQUFJLElBQUlBO1lBRTVCSCxNQUFNSSxpQkFBaUIsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDSCxXQUFXO1lBQzlDSSxPQUFPQyxjQUFjLENBQUMsSUFBSSxFQUFFLGlCQUFpQjtnQkFBRUMsWUFBWTtnQkFBTUMsT0FBT047WUFBUTtRQUNsRixPQUFPO1lBQ0wsS0FBSyxDQUFDQTtZQUNOLElBQUksQ0FBQ0MsSUFBSSxHQUFHQTtRQUNkO1FBRUEsSUFBSSxDQUFDTSxJQUFJLEdBQUc7SUFDZDtBQUNGO0FBRUFDLE9BQU9DLE9BQU8sR0FBR1oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9zb2RpZnktYmFja2VuZC8uL25vZGVfbW9kdWxlcy9tc3NxbC9saWIvZXJyb3IvbXNzcWwtZXJyb3IuanM/NDY5YyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcblxuY2xhc3MgTVNTUUxFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgQ29ubmVjdGlvbkVycm9yLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZSBFcnJvciBtZXNzYWdlLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvZGVdIEVycm9yIGNvZGUuXG4gICAqL1xuXG4gIGNvbnN0cnVjdG9yIChtZXNzYWdlLCBjb2RlKSB7XG4gICAgaWYgKG1lc3NhZ2UgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgc3VwZXIobWVzc2FnZS5tZXNzYWdlKVxuICAgICAgdGhpcy5jb2RlID0gbWVzc2FnZS5jb2RlIHx8IGNvZGVcblxuICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5jb25zdHJ1Y3RvcilcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnb3JpZ2luYWxFcnJvcicsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IG1lc3NhZ2UgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgc3VwZXIobWVzc2FnZSlcbiAgICAgIHRoaXMuY29kZSA9IGNvZGVcbiAgICB9XG5cbiAgICB0aGlzLm5hbWUgPSAnTVNTUUxFcnJvcidcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IE1TU1FMRXJyb3JcbiJdLCJuYW1lcyI6WyJNU1NRTEVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJjb2RlIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJ2YWx1ZSIsIm5hbWUiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/mssql/lib/error/mssql-error.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/mssql/lib/error/prepared-statement-error.js":
/*!******************************************************************!*\
  !*** ./node_modules/mssql/lib/error/prepared-statement-error.js ***!
  \******************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst MSSQLError = __webpack_require__(/*! ./mssql-error */ \"(rsc)/./node_modules/mssql/lib/error/mssql-error.js\");\n/**\n * Class PreparedStatementError.\n */ class PreparedStatementError extends MSSQLError {\n    /**\n   * Creates a new PreparedStatementError.\n   *\n   * @param {String} message Error message.\n   * @param {String} [code] Error code.\n   */ constructor(message, code){\n        super(message, code);\n        this.name = \"PreparedStatementError\";\n    }\n}\nmodule.exports = PreparedStatementError;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbXNzcWwvbGliL2Vycm9yL3ByZXBhcmVkLXN0YXRlbWVudC1lcnJvci5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUVBLE1BQU1BLGFBQWFDLG1CQUFPQSxDQUFDO0FBRTNCOztDQUVDLEdBRUQsTUFBTUMsK0JBQStCRjtJQUNuQzs7Ozs7R0FLQyxHQUVERyxZQUFhQyxPQUFPLEVBQUVDLElBQUksQ0FBRTtRQUMxQixLQUFLLENBQUNELFNBQVNDO1FBRWYsSUFBSSxDQUFDQyxJQUFJLEdBQUc7SUFDZDtBQUNGO0FBRUFDLE9BQU9DLE9BQU8sR0FBR04iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9zb2RpZnktYmFja2VuZC8uL25vZGVfbW9kdWxlcy9tc3NxbC9saWIvZXJyb3IvcHJlcGFyZWQtc3RhdGVtZW50LWVycm9yLmpzP2I4YWUiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IE1TU1FMRXJyb3IgPSByZXF1aXJlKCcuL21zc3FsLWVycm9yJylcblxuLyoqXG4gKiBDbGFzcyBQcmVwYXJlZFN0YXRlbWVudEVycm9yLlxuICovXG5cbmNsYXNzIFByZXBhcmVkU3RhdGVtZW50RXJyb3IgZXh0ZW5kcyBNU1NRTEVycm9yIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgUHJlcGFyZWRTdGF0ZW1lbnRFcnJvci5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgRXJyb3IgbWVzc2FnZS5cbiAgICogQHBhcmFtIHtTdHJpbmd9IFtjb2RlXSBFcnJvciBjb2RlLlxuICAgKi9cblxuICBjb25zdHJ1Y3RvciAobWVzc2FnZSwgY29kZSkge1xuICAgIHN1cGVyKG1lc3NhZ2UsIGNvZGUpXG5cbiAgICB0aGlzLm5hbWUgPSAnUHJlcGFyZWRTdGF0ZW1lbnRFcnJvcidcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFByZXBhcmVkU3RhdGVtZW50RXJyb3JcbiJdLCJuYW1lcyI6WyJNU1NRTEVycm9yIiwicmVxdWlyZSIsIlByZXBhcmVkU3RhdGVtZW50RXJyb3IiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJjb2RlIiwibmFtZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/mssql/lib/error/prepared-statement-error.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/mssql/lib/error/request-error.js":
/*!*******************************************************!*\
  !*** ./node_modules/mssql/lib/error/request-error.js ***!
  \*******************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst MSSQLError = __webpack_require__(/*! ./mssql-error */ \"(rsc)/./node_modules/mssql/lib/error/mssql-error.js\");\n/**\n * Class RequestError.\n *\n * @property {String} number Error number.\n * @property {Number} lineNumber Line number.\n * @property {String} state Error state.\n * @property {String} class Error class.\n * @property {String} serverName Server name.\n * @property {String} procName Procedure name.\n */ class RequestError extends MSSQLError {\n    /**\n   * Creates a new RequestError.\n   *\n   * @param {String} message Error message.\n   * @param {String} [code] Error code.\n   */ constructor(message, code){\n        super(message, code);\n        if (message instanceof Error) {\n            if (message.info) {\n                this.number = message.info.number || message.code // err.code is returned by msnodesql driver\n                ;\n                this.lineNumber = message.info.lineNumber;\n                this.state = message.info.state || message.sqlstate // err.sqlstate is returned by msnodesql driver\n                ;\n                this.class = message.info.class;\n                this.serverName = message.info.serverName;\n                this.procName = message.info.procName;\n            } else {\n                // Use err attributes returned by msnodesql driver\n                this.number = message.code;\n                this.lineNumber = message.lineNumber;\n                this.state = message.sqlstate;\n                this.class = message.severity;\n                this.serverName = message.serverName;\n                this.procName = message.procName;\n            }\n        }\n        this.name = \"RequestError\";\n        const parsedMessage = /^\\[Microsoft\\]\\[SQL Server Native Client 11\\.0\\](?:\\[SQL Server\\])?([\\s\\S]*)$/.exec(this.message);\n        if (parsedMessage) {\n            this.message = parsedMessage[1];\n        }\n    }\n}\nmodule.exports = RequestError;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbXNzcWwvbGliL2Vycm9yL3JlcXVlc3QtZXJyb3IuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFFQSxNQUFNQSxhQUFhQyxtQkFBT0EsQ0FBQztBQUUzQjs7Ozs7Ozs7O0NBU0MsR0FFRCxNQUFNQyxxQkFBcUJGO0lBQ3pCOzs7OztHQUtDLEdBRURHLFlBQWFDLE9BQU8sRUFBRUMsSUFBSSxDQUFFO1FBQzFCLEtBQUssQ0FBQ0QsU0FBU0M7UUFDZixJQUFJRCxtQkFBbUJFLE9BQU87WUFDNUIsSUFBSUYsUUFBUUcsSUFBSSxFQUFFO2dCQUNoQixJQUFJLENBQUNDLE1BQU0sR0FBR0osUUFBUUcsSUFBSSxDQUFDQyxNQUFNLElBQUlKLFFBQVFDLElBQUksQ0FBQywyQ0FBMkM7O2dCQUM3RixJQUFJLENBQUNJLFVBQVUsR0FBR0wsUUFBUUcsSUFBSSxDQUFDRSxVQUFVO2dCQUN6QyxJQUFJLENBQUNDLEtBQUssR0FBR04sUUFBUUcsSUFBSSxDQUFDRyxLQUFLLElBQUlOLFFBQVFPLFFBQVEsQ0FBQywrQ0FBK0M7O2dCQUNuRyxJQUFJLENBQUNDLEtBQUssR0FBR1IsUUFBUUcsSUFBSSxDQUFDSyxLQUFLO2dCQUMvQixJQUFJLENBQUNDLFVBQVUsR0FBR1QsUUFBUUcsSUFBSSxDQUFDTSxVQUFVO2dCQUN6QyxJQUFJLENBQUNDLFFBQVEsR0FBR1YsUUFBUUcsSUFBSSxDQUFDTyxRQUFRO1lBQ3ZDLE9BQU87Z0JBQ0wsa0RBQWtEO2dCQUNsRCxJQUFJLENBQUNOLE1BQU0sR0FBR0osUUFBUUMsSUFBSTtnQkFDMUIsSUFBSSxDQUFDSSxVQUFVLEdBQUdMLFFBQVFLLFVBQVU7Z0JBQ3BDLElBQUksQ0FBQ0MsS0FBSyxHQUFHTixRQUFRTyxRQUFRO2dCQUM3QixJQUFJLENBQUNDLEtBQUssR0FBR1IsUUFBUVcsUUFBUTtnQkFDN0IsSUFBSSxDQUFDRixVQUFVLEdBQUdULFFBQVFTLFVBQVU7Z0JBQ3BDLElBQUksQ0FBQ0MsUUFBUSxHQUFHVixRQUFRVSxRQUFRO1lBQ2xDO1FBQ0Y7UUFFQSxJQUFJLENBQUNFLElBQUksR0FBRztRQUNaLE1BQU1DLGdCQUFnQixnRkFBa0ZDLElBQUksQ0FBQyxJQUFJLENBQUNkLE9BQU87UUFDekgsSUFBSWEsZUFBZTtZQUNqQixJQUFJLENBQUNiLE9BQU8sR0FBR2EsYUFBYSxDQUFDLEVBQUU7UUFDakM7SUFDRjtBQUNGO0FBRUFFLE9BQU9DLE9BQU8sR0FBR2xCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvc29kaWZ5LWJhY2tlbmQvLi9ub2RlX21vZHVsZXMvbXNzcWwvbGliL2Vycm9yL3JlcXVlc3QtZXJyb3IuanM/YjYwOCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcblxuY29uc3QgTVNTUUxFcnJvciA9IHJlcXVpcmUoJy4vbXNzcWwtZXJyb3InKVxuXG4vKipcbiAqIENsYXNzIFJlcXVlc3RFcnJvci5cbiAqXG4gKiBAcHJvcGVydHkge1N0cmluZ30gbnVtYmVyIEVycm9yIG51bWJlci5cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBsaW5lTnVtYmVyIExpbmUgbnVtYmVyLlxuICogQHByb3BlcnR5IHtTdHJpbmd9IHN0YXRlIEVycm9yIHN0YXRlLlxuICogQHByb3BlcnR5IHtTdHJpbmd9IGNsYXNzIEVycm9yIGNsYXNzLlxuICogQHByb3BlcnR5IHtTdHJpbmd9IHNlcnZlck5hbWUgU2VydmVyIG5hbWUuXG4gKiBAcHJvcGVydHkge1N0cmluZ30gcHJvY05hbWUgUHJvY2VkdXJlIG5hbWUuXG4gKi9cblxuY2xhc3MgUmVxdWVzdEVycm9yIGV4dGVuZHMgTVNTUUxFcnJvciB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IFJlcXVlc3RFcnJvci5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgRXJyb3IgbWVzc2FnZS5cbiAgICogQHBhcmFtIHtTdHJpbmd9IFtjb2RlXSBFcnJvciBjb2RlLlxuICAgKi9cblxuICBjb25zdHJ1Y3RvciAobWVzc2FnZSwgY29kZSkge1xuICAgIHN1cGVyKG1lc3NhZ2UsIGNvZGUpXG4gICAgaWYgKG1lc3NhZ2UgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgaWYgKG1lc3NhZ2UuaW5mbykge1xuICAgICAgICB0aGlzLm51bWJlciA9IG1lc3NhZ2UuaW5mby5udW1iZXIgfHwgbWVzc2FnZS5jb2RlIC8vIGVyci5jb2RlIGlzIHJldHVybmVkIGJ5IG1zbm9kZXNxbCBkcml2ZXJcbiAgICAgICAgdGhpcy5saW5lTnVtYmVyID0gbWVzc2FnZS5pbmZvLmxpbmVOdW1iZXJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IG1lc3NhZ2UuaW5mby5zdGF0ZSB8fCBtZXNzYWdlLnNxbHN0YXRlIC8vIGVyci5zcWxzdGF0ZSBpcyByZXR1cm5lZCBieSBtc25vZGVzcWwgZHJpdmVyXG4gICAgICAgIHRoaXMuY2xhc3MgPSBtZXNzYWdlLmluZm8uY2xhc3NcbiAgICAgICAgdGhpcy5zZXJ2ZXJOYW1lID0gbWVzc2FnZS5pbmZvLnNlcnZlck5hbWVcbiAgICAgICAgdGhpcy5wcm9jTmFtZSA9IG1lc3NhZ2UuaW5mby5wcm9jTmFtZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVXNlIGVyciBhdHRyaWJ1dGVzIHJldHVybmVkIGJ5IG1zbm9kZXNxbCBkcml2ZXJcbiAgICAgICAgdGhpcy5udW1iZXIgPSBtZXNzYWdlLmNvZGVcbiAgICAgICAgdGhpcy5saW5lTnVtYmVyID0gbWVzc2FnZS5saW5lTnVtYmVyXG4gICAgICAgIHRoaXMuc3RhdGUgPSBtZXNzYWdlLnNxbHN0YXRlXG4gICAgICAgIHRoaXMuY2xhc3MgPSBtZXNzYWdlLnNldmVyaXR5XG4gICAgICAgIHRoaXMuc2VydmVyTmFtZSA9IG1lc3NhZ2Uuc2VydmVyTmFtZVxuICAgICAgICB0aGlzLnByb2NOYW1lID0gbWVzc2FnZS5wcm9jTmFtZVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMubmFtZSA9ICdSZXF1ZXN0RXJyb3InXG4gICAgY29uc3QgcGFyc2VkTWVzc2FnZSA9ICgvXlxcW01pY3Jvc29mdFxcXVxcW1NRTCBTZXJ2ZXIgTmF0aXZlIENsaWVudCAxMVxcLjBcXF0oPzpcXFtTUUwgU2VydmVyXFxdKT8oW1xcc1xcU10qKSQvKS5leGVjKHRoaXMubWVzc2FnZSlcbiAgICBpZiAocGFyc2VkTWVzc2FnZSkge1xuICAgICAgdGhpcy5tZXNzYWdlID0gcGFyc2VkTWVzc2FnZVsxXVxuICAgIH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlcXVlc3RFcnJvclxuIl0sIm5hbWVzIjpbIk1TU1FMRXJyb3IiLCJyZXF1aXJlIiwiUmVxdWVzdEVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwiY29kZSIsIkVycm9yIiwiaW5mbyIsIm51bWJlciIsImxpbmVOdW1iZXIiLCJzdGF0ZSIsInNxbHN0YXRlIiwiY2xhc3MiLCJzZXJ2ZXJOYW1lIiwicHJvY05hbWUiLCJzZXZlcml0eSIsIm5hbWUiLCJwYXJzZWRNZXNzYWdlIiwiZXhlYyIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/mssql/lib/error/request-error.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/mssql/lib/error/transaction-error.js":
/*!***********************************************************!*\
  !*** ./node_modules/mssql/lib/error/transaction-error.js ***!
  \***********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst MSSQLError = __webpack_require__(/*! ./mssql-error */ \"(rsc)/./node_modules/mssql/lib/error/mssql-error.js\");\n/**\n * Class TransactionError.\n */ class TransactionError extends MSSQLError {\n    /**\n   * Creates a new TransactionError.\n   *\n   * @param {String} message Error message.\n   * @param {String} [code] Error code.\n   */ constructor(message, code){\n        super(message, code);\n        this.name = \"TransactionError\";\n    }\n}\nmodule.exports = TransactionError;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbXNzcWwvbGliL2Vycm9yL3RyYW5zYWN0aW9uLWVycm9yLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBRUEsTUFBTUEsYUFBYUMsbUJBQU9BLENBQUM7QUFFM0I7O0NBRUMsR0FFRCxNQUFNQyx5QkFBeUJGO0lBQzdCOzs7OztHQUtDLEdBRURHLFlBQWFDLE9BQU8sRUFBRUMsSUFBSSxDQUFFO1FBQzFCLEtBQUssQ0FBQ0QsU0FBU0M7UUFFZixJQUFJLENBQUNDLElBQUksR0FBRztJQUNkO0FBQ0Y7QUFFQUMsT0FBT0MsT0FBTyxHQUFHTiIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb3NvZGlmeS1iYWNrZW5kLy4vbm9kZV9tb2R1bGVzL21zc3FsL2xpYi9lcnJvci90cmFuc2FjdGlvbi1lcnJvci5qcz9lYzFkIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBNU1NRTEVycm9yID0gcmVxdWlyZSgnLi9tc3NxbC1lcnJvcicpXG5cbi8qKlxuICogQ2xhc3MgVHJhbnNhY3Rpb25FcnJvci5cbiAqL1xuXG5jbGFzcyBUcmFuc2FjdGlvbkVycm9yIGV4dGVuZHMgTVNTUUxFcnJvciB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IFRyYW5zYWN0aW9uRXJyb3IuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIEVycm9yIG1lc3NhZ2UuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbY29kZV0gRXJyb3IgY29kZS5cbiAgICovXG5cbiAgY29uc3RydWN0b3IgKG1lc3NhZ2UsIGNvZGUpIHtcbiAgICBzdXBlcihtZXNzYWdlLCBjb2RlKVxuXG4gICAgdGhpcy5uYW1lID0gJ1RyYW5zYWN0aW9uRXJyb3InXG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBUcmFuc2FjdGlvbkVycm9yXG4iXSwibmFtZXMiOlsiTVNTUUxFcnJvciIsInJlcXVpcmUiLCJUcmFuc2FjdGlvbkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwiY29kZSIsIm5hbWUiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/mssql/lib/error/transaction-error.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/mssql/lib/global-connection.js":
/*!*****************************************************!*\
  !*** ./node_modules/mssql/lib/global-connection.js ***!
  \*****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst shared = __webpack_require__(/*! ./shared */ \"(rsc)/./node_modules/mssql/lib/shared.js\");\nlet globalConnection = null;\nconst globalConnectionHandlers = {};\n/**\n * Open global connection pool.\n *\n * @param {Object|String} config Connection configuration object or connection string.\n * @param {basicCallback} [callback] A callback which is called after connection has established, or an error has occurred. If omited, method returns Promise.\n * @return {Promise.<ConnectionPool>}\n */ function connect(config, callback) {\n    if (!globalConnection) {\n        globalConnection = new shared.driver.ConnectionPool(config);\n        for(const event in globalConnectionHandlers){\n            for(let i = 0, l = globalConnectionHandlers[event].length; i < l; i++){\n                globalConnection.on(event, globalConnectionHandlers[event][i]);\n            }\n        }\n        const ogClose = globalConnection.close;\n        const globalClose = function(callback) {\n            // remove event handlers from the global connection\n            for(const event in globalConnectionHandlers){\n                for(let i = 0, l = globalConnectionHandlers[event].length; i < l; i++){\n                    this.removeListener(event, globalConnectionHandlers[event][i]);\n                }\n            }\n            // attach error handler to prevent process crash in case of error\n            this.on(\"error\", (err)=>{\n                if (globalConnectionHandlers.error) {\n                    for(let i = 0, l = globalConnectionHandlers.error.length; i < l; i++){\n                        globalConnectionHandlers.error[i].call(this, err);\n                    }\n                }\n            });\n            globalConnection = null;\n            return ogClose.call(this, callback);\n        };\n        globalConnection.close = globalClose.bind(globalConnection);\n    }\n    if (typeof callback === \"function\") {\n        return globalConnection.connect((err, connection)=>{\n            if (err) {\n                globalConnection = null;\n            }\n            callback(err, connection);\n        });\n    }\n    return globalConnection.connect().catch((err)=>{\n        globalConnection = null;\n        return shared.Promise.reject(err);\n    });\n}\n/**\n * Close all active connections in the global pool.\n *\n * @param {basicCallback} [callback] A callback which is called after connection has closed, or an error has occurred. If omited, method returns Promise.\n * @return {ConnectionPool|Promise}\n */ function close(callback) {\n    if (globalConnection) {\n        const gc = globalConnection;\n        globalConnection = null;\n        return gc.close(callback);\n    }\n    if (typeof callback === \"function\") {\n        setImmediate(callback);\n        return null;\n    }\n    return new shared.Promise((resolve)=>{\n        resolve(globalConnection);\n    });\n}\n/**\n * Attach event handler to global connection pool.\n *\n * @param {String} event Event name.\n * @param {Function} handler Event handler.\n * @return {ConnectionPool}\n */ function on(event, handler) {\n    if (!globalConnectionHandlers[event]) globalConnectionHandlers[event] = [];\n    globalConnectionHandlers[event].push(handler);\n    if (globalConnection) globalConnection.on(event, handler);\n    return globalConnection;\n}\n/**\n * Detach event handler from global connection.\n *\n * @param {String} event Event name.\n * @param {Function} handler Event handler.\n * @return {ConnectionPool}\n */ function removeListener(event, handler) {\n    if (!globalConnectionHandlers[event]) return globalConnection;\n    const index = globalConnectionHandlers[event].indexOf(handler);\n    if (index === -1) return globalConnection;\n    globalConnectionHandlers[event].splice(index, 1);\n    if (globalConnectionHandlers[event].length === 0) globalConnectionHandlers[event] = undefined;\n    if (globalConnection) globalConnection.removeListener(event, handler);\n    return globalConnection;\n}\n/**\n * Creates a new query using global connection from a tagged template string.\n *\n * @variation 1\n * @param {Array|String} strings Array of string literals or sql command.\n * @param {...*} keys Values.\n * @return {Request}\n */ /**\n * Execute the SQL command.\n *\n * @variation 2\n * @param {String} command T-SQL command to be executed.\n * @param {Request~requestCallback} [callback] A callback which is called after execution has completed, or an error has occurred. If omited, method returns Promise.\n * @return {Request|Promise}\n */ function query() {\n    if (typeof arguments[0] === \"string\") {\n        return new shared.driver.Request().query(arguments[0], arguments[1]);\n    }\n    const values = Array.prototype.slice.call(arguments);\n    const strings = values.shift();\n    return new shared.driver.Request()._template(strings, values, \"query\");\n}\n/**\n * Creates a new batch using global connection from a tagged template string.\n *\n * @variation 1\n * @param {Array} strings Array of string literals.\n * @param {...*} keys Values.\n * @return {Request}\n */ /**\n * Execute the SQL command.\n *\n * @variation 2\n * @param {String} command T-SQL command to be executed.\n * @param {Request~requestCallback} [callback] A callback which is called after execution has completed, or an error has occurred. If omited, method returns Promise.\n * @return {Request|Promise}\n */ function batch() {\n    if (typeof arguments[0] === \"string\") {\n        return new shared.driver.Request().batch(arguments[0], arguments[1]);\n    }\n    const values = Array.prototype.slice.call(arguments);\n    const strings = values.shift();\n    return new shared.driver.Request()._template(strings, values, \"batch\");\n}\nmodule.exports = {\n    batch,\n    close,\n    connect,\n    off: removeListener,\n    on,\n    query,\n    removeListener\n};\nObject.defineProperty(module.exports, \"pool\", ({\n    get: ()=>{\n        return globalConnection;\n    },\n    set: ()=>{}\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbXNzcWwvbGliL2dsb2JhbC1jb25uZWN0aW9uLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBRUEsTUFBTUEsU0FBU0MsbUJBQU9BLENBQUM7QUFFdkIsSUFBSUMsbUJBQW1CO0FBQ3ZCLE1BQU1DLDJCQUEyQixDQUFDO0FBRWxDOzs7Ozs7Q0FNQyxHQUVELFNBQVNDLFFBQVNDLE1BQU0sRUFBRUMsUUFBUTtJQUNoQyxJQUFJLENBQUNKLGtCQUFrQjtRQUNyQkEsbUJBQW1CLElBQUlGLE9BQU9PLE1BQU0sQ0FBQ0MsY0FBYyxDQUFDSDtRQUVwRCxJQUFLLE1BQU1JLFNBQVNOLHlCQUEwQjtZQUM1QyxJQUFLLElBQUlPLElBQUksR0FBR0MsSUFBSVIsd0JBQXdCLENBQUNNLE1BQU0sQ0FBQ0csTUFBTSxFQUFFRixJQUFJQyxHQUFHRCxJQUFLO2dCQUN0RVIsaUJBQWlCVyxFQUFFLENBQUNKLE9BQU9OLHdCQUF3QixDQUFDTSxNQUFNLENBQUNDLEVBQUU7WUFDL0Q7UUFDRjtRQUVBLE1BQU1JLFVBQVVaLGlCQUFpQmEsS0FBSztRQUV0QyxNQUFNQyxjQUFjLFNBQVVWLFFBQVE7WUFDcEMsbURBQW1EO1lBQ25ELElBQUssTUFBTUcsU0FBU04seUJBQTBCO2dCQUM1QyxJQUFLLElBQUlPLElBQUksR0FBR0MsSUFBSVIsd0JBQXdCLENBQUNNLE1BQU0sQ0FBQ0csTUFBTSxFQUFFRixJQUFJQyxHQUFHRCxJQUFLO29CQUN0RSxJQUFJLENBQUNPLGNBQWMsQ0FBQ1IsT0FBT04sd0JBQXdCLENBQUNNLE1BQU0sQ0FBQ0MsRUFBRTtnQkFDL0Q7WUFDRjtZQUVBLGlFQUFpRTtZQUNqRSxJQUFJLENBQUNHLEVBQUUsQ0FBQyxTQUFTSyxDQUFBQTtnQkFDZixJQUFJZix5QkFBeUJnQixLQUFLLEVBQUU7b0JBQ2xDLElBQUssSUFBSVQsSUFBSSxHQUFHQyxJQUFJUix5QkFBeUJnQixLQUFLLENBQUNQLE1BQU0sRUFBRUYsSUFBSUMsR0FBR0QsSUFB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QUFDLEVBQUU7SUFBRTtJQUU3RyxNQUFNRSxTQUFTQyxNQUFNQyxTQUFTLENBQUNDLEtBQUssQ0FBQ3JCLElBQUksQ0FBQ2dCO0lBQzFDLE1BQU1NLFVBQVVKLE9BQU9LLEtBQUs7SUFFNUIsT0FBTyxJQUFJM0MsT0FBT08sTUFBTSxDQUFDOEIsT0FBTyxHQUFHTyxTQUFTLENBQUNGLFNBQVNKLFFBQVE7QUFDaEU7QUFFQVEsT0FBT0MsT0FBTyxHQUFHO0lBQ2ZGO0lBQ0E5QjtJQUNBWDtJQUNBNEMsS0FBSy9CO0lBQ0xKO0lBQ0FzQjtJQUNBbEI7QUFDRjtBQUVBZ0MsK0NBQThDO0lBQzVDRSxLQUFLO1FBQ0gsT0FBT2pEO0lBQ1Q7SUFDQWtELEtBQUssS0FBTztBQUNkLENBQUMsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb3NvZGlmeS1iYWNrZW5kLy4vbm9kZV9tb2R1bGVzL21zc3FsL2xpYi9nbG9iYWwtY29ubmVjdGlvbi5qcz81Y2E2Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBzaGFyZWQgPSByZXF1aXJlKCcuL3NoYXJlZCcpXG5cbmxldCBnbG9iYWxDb25uZWN0aW9uID0gbnVsbFxuY29uc3QgZ2xvYmFsQ29ubmVjdGlvbkhhbmRsZXJzID0ge31cblxuLyoqXG4gKiBPcGVuIGdsb2JhbCBjb25uZWN0aW9uIHBvb2wuXG4gKlxuICogQHBhcmFtIHtPYmplY3R8U3RyaW5nfSBjb25maWcgQ29ubmVjdGlvbiBjb25maWd1cmF0aW9uIG9iamVjdCBvciBjb25uZWN0aW9uIHN0cmluZy5cbiAqIEBwYXJhbSB7YmFzaWNDYWxsYmFja30gW2NhbGxiYWNrXSBBIGNhbGxiYWNrIHdoaWNoIGlzIGNhbGxlZCBhZnRlciBjb25uZWN0aW9uIGhhcyBlc3RhYmxpc2hlZCwgb3IgYW4gZXJyb3IgaGFzIG9jY3VycmVkLiBJZiBvbWl0ZWQsIG1ldGhvZCByZXR1cm5zIFByb21pc2UuXG4gKiBAcmV0dXJuIHtQcm9taXNlLjxDb25uZWN0aW9uUG9vbD59XG4gKi9cblxuZnVuY3Rpb24gY29ubmVjdCAoY29uZmlnLCBjYWxsYmFjaykge1xuICBpZiAoIWdsb2JhbENvbm5lY3Rpb24pIHtcbiAgICBnbG9iYWxDb25uZWN0aW9uID0gbmV3IHNoYXJlZC5kcml2ZXIuQ29ubmVjdGlvblBvb2woY29uZmlnKVxuXG4gICAgZm9yIChjb25zdCBldmVudCBpbiBnbG9iYWxDb25uZWN0aW9uSGFuZGxlcnMpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gZ2xvYmFsQ29ubmVjdGlvbkhhbmRsZXJzW2V2ZW50XS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgZ2xvYmFsQ29ubmVjdGlvbi5vbihldmVudCwgZ2xvYmFsQ29ubmVjdGlvbkhhbmRsZXJzW2V2ZW50XVtpXSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBvZ0Nsb3NlID0gZ2xvYmFsQ29ubmVjdGlvbi5jbG9zZVxuXG4gICAgY29uc3QgZ2xvYmFsQ2xvc2UgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgIC8vIHJlbW92ZSBldmVudCBoYW5kbGVycyBmcm9tIHRoZSBnbG9iYWwgY29ubmVjdGlvblxuICAgICAgZm9yIChjb25zdCBldmVudCBpbiBnbG9iYWxDb25uZWN0aW9uSGFuZGxlcnMpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBnbG9iYWxDb25uZWN0aW9uSGFuZGxlcnNbZXZlbnRdLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGdsb2JhbENvbm5lY3Rpb25IYW5kbGVyc1tldmVudF1baV0pXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gYXR0YWNoIGVycm9yIGhhbmRsZXIgdG8gcHJldmVudCBwcm9jZXNzIGNyYXNoIGluIGNhc2Ugb2YgZXJyb3JcbiAgICAgIHRoaXMub24oJ2Vycm9yJywgZXJyID0+IHtcbiAgICAgICAgaWYgKGdsb2JhbENvbm5lY3Rpb25IYW5kbGVycy5lcnJvcikge1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gZ2xvYmFsQ29ubmVjdGlvbkhhbmRsZXJzLmVycm9yLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgZ2xvYmFsQ29ubmVjdGlvbkhhbmRsZXJzLmVycm9yW2ldLmNhbGwodGhpcywgZXJyKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgZ2xvYmFsQ29ubmVjdGlvbiA9IG51bGxcbiAgICAgIHJldHVybiBvZ0Nsb3NlLmNhbGwodGhpcywgY2FsbGJhY2spXG4gICAgfVxuXG4gICAgZ2xvYmFsQ29ubmVjdGlvbi5jbG9zZSA9IGdsb2JhbENsb3NlLmJpbmQoZ2xvYmFsQ29ubmVjdGlvbilcbiAgfVxuICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGdsb2JhbENvbm5lY3Rpb24uY29ubmVjdCgoZXJyLCBjb25uZWN0aW9uKSA9PiB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIGdsb2JhbENvbm5lY3Rpb24gPSBudWxsXG4gICAgICB9XG4gICAgICBjYWxsYmFjayhlcnIsIGNvbm5lY3Rpb24pXG4gICAgfSlcbiAgfVxuICByZXR1cm4gZ2xvYmFsQ29ubmVjdGlvbi5jb25uZWN0KCkuY2F0Y2goKGVycikgPT4ge1xuICAgIGdsb2JhbENvbm5lY3Rpb24gPSBudWxsXG4gICAgcmV0dXJuIHNoYXJlZC5Qcm9taXNlLnJlamVjdChlcnIpXG4gIH0pXG59XG5cbi8qKlxuICogQ2xvc2UgYWxsIGFjdGl2ZSBjb25uZWN0aW9ucyBpbiB0aGUgZ2xvYmFsIHBvb2wuXG4gKlxuICogQHBhcmFtIHtiYXNpY0NhbGxiYWNrfSBbY2FsbGJhY2tdIEEgY2FsbGJhY2sgd2hpY2ggaXMgY2FsbGVkIGFmdGVyIGNvbm5lY3Rpb24gaGFzIGNsb3NlZCwgb3IgYW4gZXJyb3IgaGFzIG9jY3VycmVkLiBJZiBvbWl0ZWQsIG1ldGhvZCByZXR1cm5zIFByb21pc2UuXG4gKiBAcmV0dXJuIHtDb25uZWN0aW9uUG9vbHxQcm9taXNlfVxuICovXG5cbmZ1bmN0aW9uIGNsb3NlIChjYWxsYmFjaykge1xuICBpZiAoZ2xvYmFsQ29ubmVjdGlvbikge1xuICAgIGNvbnN0IGdjID0gZ2xvYmFsQ29ubmVjdGlvblxuICAgIGdsb2JhbENvbm5lY3Rpb24gPSBudWxsXG4gICAgcmV0dXJuIGdjLmNsb3NlKGNhbGxiYWNrKVxuICB9XG5cbiAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHNldEltbWVkaWF0ZShjYWxsYmFjaylcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgcmV0dXJuIG5ldyBzaGFyZWQuUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIHJlc29sdmUoZ2xvYmFsQ29ubmVjdGlvbilcbiAgfSlcbn1cblxuLyoqXG4gKiBBdHRhY2ggZXZlbnQgaGFuZGxlciB0byBnbG9iYWwgY29ubmVjdGlvbiBwb29sLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudCBFdmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlciBFdmVudCBoYW5kbGVyLlxuICogQHJldHVybiB7Q29ubmVjdGlvblBvb2x9XG4gKi9cblxuZnVuY3Rpb24gb24gKGV2ZW50LCBoYW5kbGVyKSB7XG4gIGlmICghZ2xvYmFsQ29ubmVjdGlvbkhhbmRsZXJzW2V2ZW50XSkgZ2xvYmFsQ29ubmVjdGlvbkhhbmRsZXJzW2V2ZW50XSA9IFtdXG4gIGdsb2JhbENvbm5lY3Rpb25IYW5kbGVyc1tldmVudF0ucHVzaChoYW5kbGVyKVxuXG4gIGlmIChnbG9iYWxDb25uZWN0aW9uKSBnbG9iYWxDb25uZWN0aW9uLm9uKGV2ZW50LCBoYW5kbGVyKVxuICByZXR1cm4gZ2xvYmFsQ29ubmVjdGlvblxufVxuXG4vKipcbiAqIERldGFjaCBldmVudCBoYW5kbGVyIGZyb20gZ2xvYmFsIGNvbm5lY3Rpb24uXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50IEV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyIEV2ZW50IGhhbmRsZXIuXG4gKiBAcmV0dXJuIHtDb25uZWN0aW9uUG9vbH1cbiAqL1xuXG5mdW5jdGlvbiByZW1vdmVMaXN0ZW5lciAoZXZlbnQsIGhhbmRsZXIpIHtcbiAgaWYgKCFnbG9iYWxDb25uZWN0aW9uSGFuZGxlcnNbZXZlbnRdKSByZXR1cm4gZ2xvYmFsQ29ubmVjdGlvblxuICBjb25zdCBpbmRleCA9IGdsb2JhbENvbm5lY3Rpb25IYW5kbGVyc1tldmVudF0uaW5kZXhPZihoYW5kbGVyKVxuICBpZiAoaW5kZXggPT09IC0xKSByZXR1cm4gZ2xvYmFsQ29ubmVjdGlvblxuICBnbG9iYWxDb25uZWN0aW9uSGFuZGxlcnNbZXZlbnRdLnNwbGljZShpbmRleCwgMSlcbiAgaWYgKGdsb2JhbENvbm5lY3Rpb25IYW5kbGVyc1tldmVudF0ubGVuZ3RoID09PSAwKSBnbG9iYWxDb25uZWN0aW9uSGFuZGxlcnNbZXZlbnRdID0gdW5kZWZpbmVkXG5cbiAgaWYgKGdsb2JhbENvbm5lY3Rpb24pIGdsb2JhbENvbm5lY3Rpb24ucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIpXG4gIHJldHVybiBnbG9iYWxDb25uZWN0aW9uXG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBxdWVyeSB1c2luZyBnbG9iYWwgY29ubmVjdGlvbiBmcm9tIGEgdGFnZ2VkIHRlbXBsYXRlIHN0cmluZy5cbiAqXG4gKiBAdmFyaWF0aW9uIDFcbiAqIEBwYXJhbSB7QXJyYXl8U3RyaW5nfSBzdHJpbmdzIEFycmF5IG9mIHN0cmluZyBsaXRlcmFscyBvciBzcWwgY29tbWFuZC5cbiAqIEBwYXJhbSB7Li4uKn0ga2V5cyBWYWx1ZXMuXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fVxuICovXG5cbi8qKlxuICogRXhlY3V0ZSB0aGUgU1FMIGNvbW1hbmQuXG4gKlxuICogQHZhcmlhdGlvbiAyXG4gKiBAcGFyYW0ge1N0cmluZ30gY29tbWFuZCBULVNRTCBjb21tYW5kIHRvIGJlIGV4ZWN1dGVkLlxuICogQHBhcmFtIHtSZXF1ZXN0fnJlcXVlc3RDYWxsYmFja30gW2NhbGxiYWNrXSBBIGNhbGxiYWNrIHdoaWNoIGlzIGNhbGxlZCBhZnRlciBleGVjdXRpb24gaGFzIGNvbXBsZXRlZCwgb3IgYW4gZXJyb3IgaGFzIG9jY3VycmVkLiBJZiBvbWl0ZWQsIG1ldGhvZCByZXR1cm5zIFByb21pc2UuXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fFByb21pc2V9XG4gKi9cblxuZnVuY3Rpb24gcXVlcnkgKCkge1xuICBpZiAodHlwZW9mIGFyZ3VtZW50c1swXSA9PT0gJ3N0cmluZycpIHsgcmV0dXJuIG5ldyBzaGFyZWQuZHJpdmVyLlJlcXVlc3QoKS5xdWVyeShhcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSkgfVxuXG4gIGNvbnN0IHZhbHVlcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cylcbiAgY29uc3Qgc3RyaW5ncyA9IHZhbHVlcy5zaGlmdCgpXG5cbiAgcmV0dXJuIG5ldyBzaGFyZWQuZHJpdmVyLlJlcXVlc3QoKS5fdGVtcGxhdGUoc3RyaW5ncywgdmFsdWVzLCAncXVlcnknKVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgYmF0Y2ggdXNpbmcgZ2xvYmFsIGNvbm5lY3Rpb24gZnJvbSBhIHRhZ2dlZCB0ZW1wbGF0ZSBzdHJpbmcuXG4gKlxuICogQHZhcmlhdGlvbiAxXG4gKiBAcGFyYW0ge0FycmF5fSBzdHJpbmdzIEFycmF5IG9mIHN0cmluZyBsaXRlcmFscy5cbiAqIEBwYXJhbSB7Li4uKn0ga2V5cyBWYWx1ZXMuXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fVxuICovXG5cbi8qKlxuICogRXhlY3V0ZSB0aGUgU1FMIGNvbW1hbmQuXG4gKlxuICogQHZhcmlhdGlvbiAyXG4gKiBAcGFyYW0ge1N0cmluZ30gY29tbWFuZCBULVNRTCBjb21tYW5kIHRvIGJlIGV4ZWN1dGVkLlxuICogQHBhcmFtIHtSZXF1ZXN0fnJlcXVlc3RDYWxsYmFja30gW2NhbGxiYWNrXSBBIGNhbGxiYWNrIHdoaWNoIGlzIGNhbGxlZCBhZnRlciBleGVjdXRpb24gaGFzIGNvbXBsZXRlZCwgb3IgYW4gZXJyb3IgaGFzIG9jY3VycmVkLiBJZiBvbWl0ZWQsIG1ldGhvZCByZXR1cm5zIFByb21pc2UuXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fFByb21pc2V9XG4gKi9cblxuZnVuY3Rpb24gYmF0Y2ggKCkge1xuICBpZiAodHlwZW9mIGFyZ3VtZW50c1swXSA9PT0gJ3N0cmluZycpIHsgcmV0dXJuIG5ldyBzaGFyZWQuZHJpdmVyLlJlcXVlc3QoKS5iYXRjaChhcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSkgfVxuXG4gIGNvbnN0IHZhbHVlcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cylcbiAgY29uc3Qgc3RyaW5ncyA9IHZhbHVlcy5zaGlmdCgpXG5cbiAgcmV0dXJuIG5ldyBzaGFyZWQuZHJpdmVyLlJlcXVlc3QoKS5fdGVtcGxhdGUoc3RyaW5ncywgdmFsdWVzLCAnYmF0Y2gnKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgYmF0Y2gsXG4gIGNsb3NlLFxuICBjb25uZWN0LFxuICBvZmY6IHJlbW92ZUxpc3RlbmVyLFxuICBvbixcbiAgcXVlcnksXG4gIHJlbW92ZUxpc3RlbmVyXG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUuZXhwb3J0cywgJ3Bvb2wnLCB7XG4gIGdldDogKCkgPT4ge1xuICAgIHJldHVybiBnbG9iYWxDb25uZWN0aW9uXG4gIH0sXG4gIHNldDogKCkgPT4ge31cbn0pXG4iXSwibmFtZXMiOlsic2hhcmVkIiwicmVxdWlyZSIsImdsb2JhbENvbm5lY3Rpb24iLCJnbG9iYWxDb25uZWN0aW9uSGFuZGxlcnMiLCJjb25uZWN0IiwiY29uZmlnIiwiY2FsbGJhY2siLCJkcml2ZXIiLCJDb25uZWN0aW9uUG9vbCIsImV2ZW50IiwiaSIsImwiLCJsZW5ndGgiLCJvbiIsIm9nQ2xvc2UiLCJjbG9zZSIsImdsb2JhbENsb3NlIiwicmVtb3ZlTGlzdGVuZXIiLCJlcnIiLCJlcnJvciIsImNhbGwiLCJiaW5kIiwiY29ubmVjdGlvbiIsImNhdGNoIiwiUHJvbWlzZSIsInJlamVjdCIsImdjIiwic2V0SW1tZWRpYXRlIiwicmVzb2x2ZSIsImhhbmRsZXIiLCJwdXNoIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwidW5kZWZpbmVkIiwicXVlcnkiLCJhcmd1bWVudHMiLCJSZXF1ZXN0IiwidmFsdWVzIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJzbGljZSIsInN0cmluZ3MiLCJzaGlmdCIsIl90ZW1wbGF0ZSIsImJhdGNoIiwibW9kdWxlIiwiZXhwb3J0cyIsIm9mZiIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0Iiwic2V0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/mssql/lib/global-connection.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/mssql/lib/isolationlevel.js":
/*!**************************************************!*\
  !*** ./node_modules/mssql/lib/isolationlevel.js ***!
  \**************************************************/
/***/ ((module) => {

eval("\nmodule.exports = {\n    READ_UNCOMMITTED: 0x01,\n    READ_COMMITTED: 0x02,\n    REPEATABLE_READ: 0x03,\n    SERIALIZABLE: 0x04,\n    SNAPSHOT: 0x05\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbXNzcWwvbGliL2lzb2xhdGlvbmxldmVsLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBRUFBLE9BQU9DLE9BQU8sR0FBRztJQUNmQyxrQkFBa0I7SUFDbEJDLGdCQUFnQjtJQUNoQkMsaUJBQWlCO0lBQ2pCQyxjQUFjO0lBQ2RDLFVBQVU7QUFDWiIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb3NvZGlmeS1iYWNrZW5kLy4vbm9kZV9tb2R1bGVzL21zc3FsL2xpYi9pc29sYXRpb25sZXZlbC5qcz9iNTlhIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0J1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgUkVBRF9VTkNPTU1JVFRFRDogMHgwMSxcbiAgUkVBRF9DT01NSVRURUQ6IDB4MDIsXG4gIFJFUEVBVEFCTEVfUkVBRDogMHgwMyxcbiAgU0VSSUFMSVpBQkxFOiAweDA0LFxuICBTTkFQU0hPVDogMHgwNVxufVxuIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJSRUFEX1VOQ09NTUlUVEVEIiwiUkVBRF9DT01NSVRURUQiLCJSRVBFQVRBQkxFX1JFQUQiLCJTRVJJQUxJWkFCTEUiLCJTTkFQU0hPVCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/mssql/lib/isolationlevel.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/mssql/lib/shared.js":
/*!******************************************!*\
  !*** ./node_modules/mssql/lib/shared.js ***!
  \******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst TYPES = (__webpack_require__(/*! ./datatypes */ \"(rsc)/./node_modules/mssql/lib/datatypes.js\").TYPES);\nconst Table = __webpack_require__(/*! ./table */ \"(rsc)/./node_modules/mssql/lib/table.js\");\nlet PromiseLibrary = Promise;\nconst driver = {};\nconst map = [];\n/**\n * Register you own type map.\n *\n * @path module.exports.map\n * @param {*} jstype JS data type.\n * @param {*} sqltype SQL data type.\n */ map.register = function(jstype, sqltype) {\n    for(let index = 0; index < this.length; index++){\n        const item = this[index];\n        if (item.js === jstype) {\n            this.splice(index, 1);\n            break;\n        }\n    }\n    this.push({\n        js: jstype,\n        sql: sqltype\n    });\n    return null;\n};\nmap.register(String, TYPES.NVarChar);\nmap.register(Number, TYPES.Int);\nmap.register(Boolean, TYPES.Bit);\nmap.register(Date, TYPES.DateTime);\nmap.register(Buffer, TYPES.VarBinary);\nmap.register(Table, TYPES.TVP);\n/**\n * @ignore\n */ const getTypeByValue = function(value) {\n    if (value === null || value === undefined) {\n        return TYPES.NVarChar;\n    }\n    switch(typeof value){\n        case \"string\":\n            for (const item of Array.from(map)){\n                if (item.js === String) {\n                    return item.sql;\n                }\n            }\n            return TYPES.NVarChar;\n        case \"number\":\n        case \"bigint\":\n            if (value % 1 === 0) {\n                if (value < -2147483648 || value > 2147483647) {\n                    return TYPES.BigInt;\n                } else {\n                    return TYPES.Int;\n                }\n            } else {\n                return TYPES.Float;\n            }\n        case \"boolean\":\n            for (const item of Array.from(map)){\n                if (item.js === Boolean) {\n                    return item.sql;\n                }\n            }\n            return TYPES.Bit;\n        case \"object\":\n            for (const item of Array.from(map)){\n                if (value instanceof item.js) {\n                    return item.sql;\n                }\n            }\n            return TYPES.NVarChar;\n        default:\n            return TYPES.NVarChar;\n    }\n};\nmodule.exports = {\n    driver,\n    getTypeByValue,\n    map\n};\nObject.defineProperty(module.exports, \"Promise\", ({\n    get: ()=>{\n        return PromiseLibrary;\n    },\n    set: (value)=>{\n        PromiseLibrary = value;\n    }\n}));\nObject.defineProperty(module.exports, \"valueHandler\", ({\n    enumerable: true,\n    value: new Map(),\n    writable: false,\n    configurable: false\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbXNzcWwvbGliL3NoYXJlZC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUVBLE1BQU1BLFFBQVFDLDZGQUE0QjtBQUMxQyxNQUFNQyxRQUFRRCxtQkFBT0EsQ0FBQztBQUV0QixJQUFJRSxpQkFBaUJDO0FBQ3JCLE1BQU1DLFNBQVMsQ0FBQztBQUNoQixNQUFNQyxNQUFNLEVBQUU7QUFFZDs7Ozs7O0NBTUMsR0FFREEsSUFBSUMsUUFBUSxHQUFHLFNBQVVDLE1BQU0sRUFBRUMsT0FBTztJQUN0QyxJQUFLLElBQUlDLFFBQVEsR0FBR0EsUUFBUSxJQUFJLENBQUNDLE1BQU0sRUFBRUQsUUFBUztRQUNoRCxNQUFNRSxPQUFPLElBQUksQ0FBQ0YsTUFBTTtRQUN4QixJQUFJRSxLQUFLQyxFQUFFLEtBQUtMLFFBQVE7WUFDdEIsSUFBSSxDQUFDTSxNQUFNLENBQUNKLE9BQU87WUFDbkI7UUFDRjtJQUNGO0lBRUEsSUFBSSxDQUFDSyxJQUFJLENBQUM7UUFDUkYsSUFBSUw7UUFDSlEsS0FBS1A7SUFDUDtJQUVBLE9BQU87QUFDVDtBQUVBSCxJQUFJQyxRQUFRLENBQUNVLFFBQVFqQixNQUFNa0IsUUFBUTtBQUNuQ1osSUFBSUMsUUFBUSxDQUFDWSxRQUFRbkIsTUFBTW9CLEdBQUc7QUFDOUJkLElBQUlDLFFBQVEsQ0FBQ2MsU0FBU3JCLE1BQU1zQixHQUFHO0FBQy9CaEIsSUFBSUMsUUFBUSxDQUFDZ0IsTUFBTXZCLE1BQU13QixRQUFRO0FBQ2pDbEIsSUFBSUMsUUFBUSxDQUFDa0IsUUFBUXpCLE1BQU0wQixTQUFTO0FBQ3BDcEIsSUFBSUMsUUFBUSxDQUFDTCxPQUFPRixNQUFNMkIsR0FBRztBQUU3Qjs7Q0FFQyxHQUVELE1BQU1DLGlCQUFpQixTQUFVQyxLQUFLO0lBQ3BDLElBQUksVUFBVyxRQUFVQSxVQUFVQyxXQUFZO1FBQUUsT0FBTzlCLE1BQU1rQixRQUFRO0lBQUM7SUFFdkUsT0FBUSxPQUFPVztRQUNiLEtBQUs7WUFDSCxLQUFLLE1BQU1qQixRQUFRbUIsTUFBTUMsSUFBSSxDQUFDMUIsS0FBTTtnQkFDbEMsSUFBSU0sS0FBS0MsRUFBRSxLQUFLSSxRQUFRO29CQUN0QixPQUFPTCxLQUFLSSxHQUFHO2dCQUNqQjtZQUNGO1lBRUEsT0FBT2hCLE1BQU1rQixRQUFRO1FBRXZCLEtBQUs7UUFDTCxLQUFLO1lBQ0gsSUFBSVcsUUFBUSxNQUFNLEdBQUc7Z0JBQ25CLElBQUlBLFFBQVEsQ0FBQyxjQUFjQSxRQUFRLFlBQVk7b0JBQzdDLE9BQU83QixNQUFNaUMsTUFBTTtnQkFDckIsT0FBTztvQkFDTCxPQUFPakMsTUFBTW9CLEdBQUc7Z0JBQ2xCO1lBQ0YsT0FBTztnQkFDTCxPQUFPcEIsTUFBTWtDLEtBQUs7WUFDcEI7UUFFRixLQUFLO1lBQ0gsS0FBSyxNQUFNdEIsUUFBUW1CLE1BQU1DLElBQUksQ0FBQzFCLEtBQU07Z0JBQ2xDLElBQUlNLEtBQUtDLEVBQUUsS0FBS1EsU0FBUztvQkFDdkIsT0FBT1QsS0FBS0ksR0FBRztnQkFDakI7WUFDRjtZQUVBLE9BQU9oQixNQUFNc0IsR0FBRztRQUVsQixLQUFLO1lBQ0gsS0FBSyxNQUFNVixRQUFRbUIsTUFBTUMsSUFBSSxDQUFDMUIsS0FBTTtnQkFDbEMsSUFBSXVCLGlCQUFpQmpCLEtBQUtDLEVBQUUsRUFBRTtvQkFDNUIsT0FBT0QsS0FBS0ksR0FBRztnQkFDakI7WUFDRjtZQUVBLE9BQU9oQixNQUFNa0IsUUFBUTtRQUV2QjtZQUNFLE9BQU9sQixNQUFNa0IsUUFBUTtJQUN6QjtBQUNGO0FBRUFpQixPQUFPQyxPQUFPLEdBQUc7SUFDZi9CO0lBQ0F1QjtJQUNBdEI7QUFDRjtBQUVBK0Isa0RBQWlEO0lBQy9DRSxLQUFLO1FBQ0gsT0FBT3BDO0lBQ1Q7SUFDQXFDLEtBQUssQ0FBQ1g7UUFDSjFCLGlCQUFpQjBCO0lBQ25CO0FBQ0YsQ0FBQyxFQUFDO0FBRUZRLHVEQUFzRDtJQUNwREksWUFBWTtJQUNaWixPQUFPLElBQUlhO0lBQ1hDLFVBQVU7SUFDVkMsY0FBYztBQUNoQixDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9zb2RpZnktYmFja2VuZC8uL25vZGVfbW9kdWxlcy9tc3NxbC9saWIvc2hhcmVkLmpzP2Q2YjciXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IFRZUEVTID0gcmVxdWlyZSgnLi9kYXRhdHlwZXMnKS5UWVBFU1xuY29uc3QgVGFibGUgPSByZXF1aXJlKCcuL3RhYmxlJylcblxubGV0IFByb21pc2VMaWJyYXJ5ID0gUHJvbWlzZVxuY29uc3QgZHJpdmVyID0ge31cbmNvbnN0IG1hcCA9IFtdXG5cbi8qKlxuICogUmVnaXN0ZXIgeW91IG93biB0eXBlIG1hcC5cbiAqXG4gKiBAcGF0aCBtb2R1bGUuZXhwb3J0cy5tYXBcbiAqIEBwYXJhbSB7Kn0ganN0eXBlIEpTIGRhdGEgdHlwZS5cbiAqIEBwYXJhbSB7Kn0gc3FsdHlwZSBTUUwgZGF0YSB0eXBlLlxuICovXG5cbm1hcC5yZWdpc3RlciA9IGZ1bmN0aW9uIChqc3R5cGUsIHNxbHR5cGUpIHtcbiAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgY29uc3QgaXRlbSA9IHRoaXNbaW5kZXhdXG4gICAgaWYgKGl0ZW0uanMgPT09IGpzdHlwZSkge1xuICAgICAgdGhpcy5zcGxpY2UoaW5kZXgsIDEpXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIHRoaXMucHVzaCh7XG4gICAganM6IGpzdHlwZSxcbiAgICBzcWw6IHNxbHR5cGVcbiAgfSlcblxuICByZXR1cm4gbnVsbFxufVxuXG5tYXAucmVnaXN0ZXIoU3RyaW5nLCBUWVBFUy5OVmFyQ2hhcilcbm1hcC5yZWdpc3RlcihOdW1iZXIsIFRZUEVTLkludClcbm1hcC5yZWdpc3RlcihCb29sZWFuLCBUWVBFUy5CaXQpXG5tYXAucmVnaXN0ZXIoRGF0ZSwgVFlQRVMuRGF0ZVRpbWUpXG5tYXAucmVnaXN0ZXIoQnVmZmVyLCBUWVBFUy5WYXJCaW5hcnkpXG5tYXAucmVnaXN0ZXIoVGFibGUsIFRZUEVTLlRWUClcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cblxuY29uc3QgZ2V0VHlwZUJ5VmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgaWYgKCh2YWx1ZSA9PT0gbnVsbCkgfHwgKHZhbHVlID09PSB1bmRlZmluZWQpKSB7IHJldHVybiBUWVBFUy5OVmFyQ2hhciB9XG5cbiAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgZm9yIChjb25zdCBpdGVtIG9mIEFycmF5LmZyb20obWFwKSkge1xuICAgICAgICBpZiAoaXRlbS5qcyA9PT0gU3RyaW5nKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZW0uc3FsXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFRZUEVTLk5WYXJDaGFyXG5cbiAgICBjYXNlICdudW1iZXInOlxuICAgIGNhc2UgJ2JpZ2ludCc6XG4gICAgICBpZiAodmFsdWUgJSAxID09PSAwKSB7XG4gICAgICAgIGlmICh2YWx1ZSA8IC0yMTQ3NDgzNjQ4IHx8IHZhbHVlID4gMjE0NzQ4MzY0Nykge1xuICAgICAgICAgIHJldHVybiBUWVBFUy5CaWdJbnRcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gVFlQRVMuSW50XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBUWVBFUy5GbG9hdFxuICAgICAgfVxuXG4gICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgQXJyYXkuZnJvbShtYXApKSB7XG4gICAgICAgIGlmIChpdGVtLmpzID09PSBCb29sZWFuKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZW0uc3FsXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFRZUEVTLkJpdFxuXG4gICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBBcnJheS5mcm9tKG1hcCkpIHtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgaXRlbS5qcykge1xuICAgICAgICAgIHJldHVybiBpdGVtLnNxbFxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBUWVBFUy5OVmFyQ2hhclxuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBUWVBFUy5OVmFyQ2hhclxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBkcml2ZXIsXG4gIGdldFR5cGVCeVZhbHVlLFxuICBtYXBcbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZS5leHBvcnRzLCAnUHJvbWlzZScsIHtcbiAgZ2V0OiAoKSA9PiB7XG4gICAgcmV0dXJuIFByb21pc2VMaWJyYXJ5XG4gIH0sXG4gIHNldDogKHZhbHVlKSA9PiB7XG4gICAgUHJvbWlzZUxpYnJhcnkgPSB2YWx1ZVxuICB9XG59KVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLmV4cG9ydHMsICd2YWx1ZUhhbmRsZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHZhbHVlOiBuZXcgTWFwKCksXG4gIHdyaXRhYmxlOiBmYWxzZSxcbiAgY29uZmlndXJhYmxlOiBmYWxzZVxufSlcbiJdLCJuYW1lcyI6WyJUWVBFUyIsInJlcXVpcmUiLCJUYWJsZSIsIlByb21pc2VMaWJyYXJ5IiwiUHJvbWlzZSIsImRyaXZlciIsIm1hcCIsInJlZ2lzdGVyIiwianN0eXBlIiwic3FsdHlwZSIsImluZGV4IiwibGVuZ3RoIiwiaXRlbSIsImpzIiwic3BsaWNlIiwicHVzaCIsInNxbCIsIlN0cmluZyIsIk5WYXJDaGFyIiwiTnVtYmVyIiwiSW50IiwiQm9vbGVhbiIsIkJpdCIsIkRhdGUiLCJEYXRlVGltZSIsIkJ1ZmZlciIsIlZhckJpbmFyeSIsIlRWUCIsImdldFR5cGVCeVZhbHVlIiwidmFsdWUiLCJ1bmRlZmluZWQiLCJBcnJheSIsImZyb20iLCJCaWdJbnQiLCJGbG9hdCIsIm1vZHVsZSIsImV4cG9ydHMiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldCIsInNldCIsImVudW1lcmFibGUiLCJNYXAiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/mssql/lib/shared.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/mssql/lib/table.js":
/*!*****************************************!*\
  !*** ./node_modules/mssql/lib/table.js ***!
  \*****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst TYPES = (__webpack_require__(/*! ./datatypes */ \"(rsc)/./node_modules/mssql/lib/datatypes.js\").TYPES);\nconst declareType = (__webpack_require__(/*! ./datatypes */ \"(rsc)/./node_modules/mssql/lib/datatypes.js\").declare);\nconst objectHasProperty = (__webpack_require__(/*! ./utils */ \"(rsc)/./node_modules/mssql/lib/utils.js\").objectHasProperty);\nconst MAX = 65535 // (1 << 16) - 1\n;\nconst JSON_COLUMN_ID = \"JSON_F52E2B61-18A1-11d1-B105-00805F49916B\";\nfunction Table(name) {\n    if (name) {\n        const parsed = Table.parseName(name);\n        this.name = parsed.name;\n        this.schema = parsed.schema;\n        this.database = parsed.database;\n        this.path = (this.database ? `[${this.database}].` : \"\") + (this.schema ? `[${this.schema}].` : \"\") + `[${this.name}]`;\n        this.temporary = this.name.charAt(0) === \"#\";\n    }\n    this.columns = [];\n    this.rows = [];\n    Object.defineProperty(this.columns, \"add\", {\n        value (name, column, options) {\n            if (column == null) {\n                throw new Error(\"Column data type is not defined.\");\n            }\n            if (column instanceof Function) {\n                column = column();\n            }\n            options = options || {};\n            column.name = name;\n            [\n                \"nullable\",\n                \"primary\",\n                \"identity\",\n                \"readOnly\",\n                \"length\"\n            ].forEach((prop)=>{\n                if (objectHasProperty(options, prop)) {\n                    column[prop] = options[prop];\n                }\n            });\n            return this.push(column);\n        }\n    });\n    Object.defineProperty(this.rows, \"add\", {\n        value () {\n            return this.push(Array.prototype.slice.call(arguments));\n        }\n    });\n    Object.defineProperty(this.rows, \"clear\", {\n        value () {\n            return this.splice(0, this.length);\n        }\n    });\n}\n/*\n@private\n*/ Table.prototype._makeBulk = function _makeBulk() {\n    for(let i = 0; i < this.columns.length; i++){\n        const col = this.columns[i];\n        switch(col.type){\n            case TYPES.Date:\n            case TYPES.DateTime:\n            case TYPES.DateTime2:\n                for(let j = 0; j < this.rows.length; j++){\n                    const dateValue = this.rows[j][i];\n                    if (typeof dateValue === \"string\" || typeof dateValue === \"number\") {\n                        const date = new Date(dateValue);\n                        if (isNaN(date.getDate())) {\n                            throw new TypeError(\"Invalid date value passed to bulk rows\");\n                        }\n                        this.rows[j][i] = date;\n                    }\n                }\n                break;\n            case TYPES.Xml:\n                col.type = TYPES.NVarChar(MAX).type;\n                break;\n            case TYPES.UDT:\n            case TYPES.Geography:\n            case TYPES.Geometry:\n                col.type = TYPES.VarBinary(MAX).type;\n                break;\n            default:\n                break;\n        }\n    }\n    return this;\n};\nTable.prototype.declare = function declare() {\n    const pkey = this.columns.filter((col)=>col.primary === true).map((col)=>`[${col.name}]`);\n    const cols = this.columns.map((col)=>{\n        const def = [\n            `[${col.name}] ${declareType(col.type, col)}`\n        ];\n        if (col.nullable === true) {\n            def.push(\"null\");\n        } else if (col.nullable === false) {\n            def.push(\"not null\");\n        }\n        if (col.primary === true && pkey.length === 1) {\n            def.push(\"primary key\");\n        }\n        return def.join(\" \");\n    });\n    const constraint = pkey.length > 1 ? `, constraint [PK_${this.temporary ? this.name.substr(1) : this.name}] primary key (${pkey.join(\", \")})` : \"\";\n    return `create table ${this.path} (${cols.join(\", \")}${constraint})`;\n};\nTable.fromRecordset = function fromRecordset(recordset, name) {\n    const t = new this(name);\n    for(const colName in recordset.columns){\n        if (objectHasProperty(recordset.columns, colName)) {\n            const col = recordset.columns[colName];\n            t.columns.add(colName, {\n                type: col.type,\n                length: col.length,\n                scale: col.scale,\n                precision: col.precision\n            }, {\n                nullable: col.nullable,\n                identity: col.identity,\n                readOnly: col.readOnly\n            });\n        }\n    }\n    if (t.columns.length === 1 && t.columns[0].name === JSON_COLUMN_ID) {\n        for(let i = 0; i < recordset.length; i++){\n            t.rows.add(JSON.stringify(recordset[i]));\n        }\n    } else {\n        for(let i = 0; i < recordset.length; i++){\n            t.rows.add.apply(t.rows, t.columns.map((col)=>recordset[i][col.name]));\n        }\n    }\n    return t;\n};\nTable.parseName = function parseName(name) {\n    const length = name.length;\n    let cursor = -1;\n    let buffer = \"\";\n    let escaped = false;\n    const path = [];\n    while(++cursor < length){\n        const char = name.charAt(cursor);\n        if (char === \"[\") {\n            if (escaped) {\n                buffer += char;\n            } else {\n                escaped = true;\n            }\n        } else if (char === \"]\") {\n            if (escaped) {\n                escaped = false;\n            } else {\n                throw new Error(\"Invalid table name.\");\n            }\n        } else if (char === \".\") {\n            if (escaped) {\n                buffer += char;\n            } else {\n                path.push(buffer);\n                buffer = \"\";\n            }\n        } else {\n            buffer += char;\n        }\n    }\n    if (buffer) {\n        path.push(buffer);\n    }\n    switch(path.length){\n        case 1:\n            return {\n                name: path[0],\n                schema: null,\n                database: null\n            };\n        case 2:\n            return {\n                name: path[1],\n                schema: path[0],\n                database: null\n            };\n        case 3:\n            return {\n                name: path[2],\n                schema: path[1],\n                database: path[0]\n            };\n        default:\n            throw new Error(\"Invalid table name.\");\n    }\n};\nmodule.exports = Table;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbXNzcWwvbGliL3RhYmxlLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBRUEsTUFBTUEsUUFBUUMsNkZBQTRCO0FBQzFDLE1BQU1DLGNBQWNELCtGQUE4QjtBQUNsRCxNQUFNRyxvQkFBb0JILGlHQUFvQztBQUU5RCxNQUFNSSxNQUFNLE1BQU0sZ0JBQWdCOztBQUNsQyxNQUFNQyxpQkFBaUI7QUFFdkIsU0FBU0MsTUFBT0MsSUFBSTtJQUNsQixJQUFJQSxNQUFNO1FBQ1IsTUFBTUMsU0FBU0YsTUFBTUcsU0FBUyxDQUFDRjtRQUMvQixJQUFJLENBQUNBLElBQUksR0FBR0MsT0FBT0QsSUFBSTtRQUN2QixJQUFJLENBQUNHLE1BQU0sR0FBR0YsT0FBT0UsTUFBTTtRQUMzQixJQUFJLENBQUNDLFFBQVEsR0FBR0gsT0FBT0csUUFBUTtRQUMvQixJQUFJLENBQUNDLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQ0QsUUFBUSxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQ0EsUUFBUSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUMsSUFBTSxLQUFJLENBQUNELE1BQU0sR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUNBLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFDLElBQUssQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDSCxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ3RILElBQUksQ0FBQ00sU0FBUyxHQUFHLElBQUksQ0FBQ04sSUFBSSxDQUFDTyxNQUFNLENBQUMsT0FBTztJQUMzQztJQUVBLElBQUksQ0FBQ0MsT0FBTyxHQUFHLEVBQUU7SUFDakIsSUFBSSxDQUFDQyxJQUFJLEdBQUcsRUFBRTtJQUVkQyxPQUFPQyxjQUFjLENBQUMsSUFBSSxDQUFDSCxPQUFPLEVBQUUsT0FBTztRQUN6Q0ksT0FBT1osSUFBSSxFQUFFYSxNQUFNLEVBQUVDLE9BQU87WUFDMUIsSUFBSUQsVUFBVSxNQUFNO2dCQUNsQixNQUFNLElBQUlFLE1B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QUFLO1lBQ3ZCLElBQUlELFNBQVM7Z0JBQ1hBLFVBQVU7WUFDWixPQUFPO2dCQUNMLE1BQU0sSUFBSXZELE1BQU07WUFDbEI7UUFDRixPQUFPLElBQUl3RCxTQUFTLEtBQUs7WUFDdkIsSUFBSUQsU0FBUztnQkFDWEQsVUFBVUU7WUFDWixPQUFPO2dCQUNMbEUsS0FBS2MsSUFBSSxDQUFDa0Q7Z0JBQ1ZBLFNBQVM7WUFDWDtRQUNGLE9BQU87WUFDTEEsVUFBVUU7UUFDWjtJQUNGO0lBRUEsSUFBSUYsUUFBUTtRQUNWaEUsS0FBS2MsSUFBSSxDQUFDa0Q7SUFDWjtJQUVBLE9BQVFoRSxLQUFLcUIsTUFBTTtRQUNqQixLQUFLO1lBQ0gsT0FBTztnQkFDTDFCLE1BQU1LLElBQUksQ0FBQyxFQUFFO2dCQUNiRixRQUFRO2dCQUNSQyxVQUFVO1lBQ1o7UUFFRixLQUFLO1lBQ0gsT0FBTztnQkFDTEosTUFBTUssSUFBSSxDQUFDLEVBQUU7Z0JBQ2JGLFFBQVFFLElBQUksQ0FBQyxFQUFFO2dCQUNmRCxVQUFVO1lBQ1o7UUFFRixLQUFLO1lBQ0gsT0FBTztnQkFDTEosTUFBTUssSUFBSSxDQUFDLEVBQUU7Z0JBQ2JGLFFBQVFFLElBQUksQ0FBQyxFQUFFO2dCQUNmRCxVQUFVQyxJQUFJLENBQUMsRUFBRTtZQUNuQjtRQUVGO1lBQ0UsTUFBTSxJQUFJVSxNQUFNO0lBQ3BCO0FBQ0Y7QUFFQXlELE9BQU9DLE9BQU8sR0FBRzFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvc29kaWZ5LWJhY2tlbmQvLi9ub2RlX21vZHVsZXMvbXNzcWwvbGliL3RhYmxlLmpzPzJkZWYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IFRZUEVTID0gcmVxdWlyZSgnLi9kYXRhdHlwZXMnKS5UWVBFU1xuY29uc3QgZGVjbGFyZVR5cGUgPSByZXF1aXJlKCcuL2RhdGF0eXBlcycpLmRlY2xhcmVcbmNvbnN0IG9iamVjdEhhc1Byb3BlcnR5ID0gcmVxdWlyZSgnLi91dGlscycpLm9iamVjdEhhc1Byb3BlcnR5XG5cbmNvbnN0IE1BWCA9IDY1NTM1IC8vICgxIDw8IDE2KSAtIDFcbmNvbnN0IEpTT05fQ09MVU1OX0lEID0gJ0pTT05fRjUyRTJCNjEtMThBMS0xMWQxLUIxMDUtMDA4MDVGNDk5MTZCJ1xuXG5mdW5jdGlvbiBUYWJsZSAobmFtZSkge1xuICBpZiAobmFtZSkge1xuICAgIGNvbnN0IHBhcnNlZCA9IFRhYmxlLnBhcnNlTmFtZShuYW1lKVxuICAgIHRoaXMubmFtZSA9IHBhcnNlZC5uYW1lXG4gICAgdGhpcy5zY2hlbWEgPSBwYXJzZWQuc2NoZW1hXG4gICAgdGhpcy5kYXRhYmFzZSA9IHBhcnNlZC5kYXRhYmFzZVxuICAgIHRoaXMucGF0aCA9ICh0aGlzLmRhdGFiYXNlID8gYFske3RoaXMuZGF0YWJhc2V9XS5gIDogJycpICsgKHRoaXMuc2NoZW1hID8gYFske3RoaXMuc2NoZW1hfV0uYCA6ICcnKSArIGBbJHt0aGlzLm5hbWV9XWBcbiAgICB0aGlzLnRlbXBvcmFyeSA9IHRoaXMubmFtZS5jaGFyQXQoMCkgPT09ICcjJ1xuICB9XG5cbiAgdGhpcy5jb2x1bW5zID0gW11cbiAgdGhpcy5yb3dzID0gW11cblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5jb2x1bW5zLCAnYWRkJywge1xuICAgIHZhbHVlIChuYW1lLCBjb2x1bW4sIG9wdGlvbnMpIHtcbiAgICAgIGlmIChjb2x1bW4gPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbHVtbiBkYXRhIHR5cGUgaXMgbm90IGRlZmluZWQuJylcbiAgICAgIH1cbiAgICAgIGlmIChjb2x1bW4gaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgICAgICBjb2x1bW4gPSBjb2x1bW4oKVxuICAgICAgfVxuXG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuICAgICAgY29sdW1uLm5hbWUgPSBuYW1lO1xuXG4gICAgICBbJ251bGxhYmxlJywgJ3ByaW1hcnknLCAnaWRlbnRpdHknLCAncmVhZE9ubHknLCAnbGVuZ3RoJ10uZm9yRWFjaChwcm9wID0+IHtcbiAgICAgICAgaWYgKG9iamVjdEhhc1Byb3BlcnR5KG9wdGlvbnMsIHByb3ApKSB7XG4gICAgICAgICAgY29sdW1uW3Byb3BdID0gb3B0aW9uc1twcm9wXVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICByZXR1cm4gdGhpcy5wdXNoKGNvbHVtbilcbiAgICB9XG4gIH0pXG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMucm93cywgJ2FkZCcsIHtcbiAgICB2YWx1ZSAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wdXNoKEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpXG4gICAgfVxuICB9XG4gIClcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5yb3dzLCAnY2xlYXInLCB7XG4gICAgdmFsdWUgKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3BsaWNlKDAsIHRoaXMubGVuZ3RoKVxuICAgIH1cbiAgfVxuICApXG59XG5cbi8qXG5AcHJpdmF0ZVxuKi9cblxuVGFibGUucHJvdG90eXBlLl9tYWtlQnVsayA9IGZ1bmN0aW9uIF9tYWtlQnVsayAoKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb2x1bW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY29sID0gdGhpcy5jb2x1bW5zW2ldXG4gICAgc3dpdGNoIChjb2wudHlwZSkge1xuICAgICAgY2FzZSBUWVBFUy5EYXRlOlxuICAgICAgY2FzZSBUWVBFUy5EYXRlVGltZTpcbiAgICAgIGNhc2UgVFlQRVMuRGF0ZVRpbWUyOlxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMucm93cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIGNvbnN0IGRhdGVWYWx1ZSA9IHRoaXMucm93c1tqXVtpXVxuICAgICAgICAgIGlmICh0eXBlb2YgZGF0ZVZhbHVlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgZGF0ZVZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGRhdGVWYWx1ZSlcbiAgICAgICAgICAgIGlmIChpc05hTihkYXRlLmdldERhdGUoKSkpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBkYXRlIHZhbHVlIHBhc3NlZCB0byBidWxrIHJvd3MnKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yb3dzW2pdW2ldID0gZGF0ZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlIFRZUEVTLlhtbDpcbiAgICAgICAgY29sLnR5cGUgPSBUWVBFUy5OVmFyQ2hhcihNQVgpLnR5cGVcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSBUWVBFUy5VRFQ6XG4gICAgICBjYXNlIFRZUEVTLkdlb2dyYXBoeTpcbiAgICAgIGNhc2UgVFlQRVMuR2VvbWV0cnk6XG4gICAgICAgIGNvbC50eXBlID0gVFlQRVMuVmFyQmluYXJ5KE1BWCkudHlwZVxuICAgICAgICBicmVha1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzXG59XG5cblRhYmxlLnByb3RvdHlwZS5kZWNsYXJlID0gZnVuY3Rpb24gZGVjbGFyZSAoKSB7XG4gIGNvbnN0IHBrZXkgPSB0aGlzLmNvbHVtbnMuZmlsdGVyKGNvbCA9PiBjb2wucHJpbWFyeSA9PT0gdHJ1ZSkubWFwKGNvbCA9PiBgWyR7Y29sLm5hbWV9XWApXG4gIGNvbnN0IGNvbHMgPSB0aGlzLmNvbHVtbnMubWFwKGNvbCA9PiB7XG4gICAgY29uc3QgZGVmID0gW2BbJHtjb2wubmFtZX1dICR7ZGVjbGFyZVR5cGUoY29sLnR5cGUsIGNvbCl9YF1cblxuICAgIGlmIChjb2wubnVsbGFibGUgPT09IHRydWUpIHtcbiAgICAgIGRlZi5wdXNoKCdudWxsJylcbiAgICB9IGVsc2UgaWYgKGNvbC5udWxsYWJsZSA9PT0gZmFsc2UpIHtcbiAgICAgIGRlZi5wdXNoKCdub3QgbnVsbCcpXG4gICAgfVxuXG4gICAgaWYgKGNvbC5wcmltYXJ5ID09PSB0cnVlICYmIHBrZXkubGVuZ3RoID09PSAxKSB7XG4gICAgICBkZWYucHVzaCgncHJpbWFyeSBrZXknKVxuICAgIH1cblxuICAgIHJldHVybiBkZWYuam9pbignICcpXG4gIH0pXG5cbiAgY29uc3QgY29uc3RyYWludCA9IHBrZXkubGVuZ3RoID4gMSA/IGAsIGNvbnN0cmFpbnQgW1BLXyR7dGhpcy50ZW1wb3JhcnkgPyB0aGlzLm5hbWUuc3Vic3RyKDEpIDogdGhpcy5uYW1lfV0gcHJpbWFyeSBrZXkgKCR7cGtleS5qb2luKCcsICcpfSlgIDogJydcbiAgcmV0dXJuIGBjcmVhdGUgdGFibGUgJHt0aGlzLnBhdGh9ICgke2NvbHMuam9pbignLCAnKX0ke2NvbnN0cmFpbnR9KWBcbn1cblxuVGFibGUuZnJvbVJlY29yZHNldCA9IGZ1bmN0aW9uIGZyb21SZWNvcmRzZXQgKHJlY29yZHNldCwgbmFtZSkge1xuICBjb25zdCB0ID0gbmV3IHRoaXMobmFtZSlcblxuICBmb3IgKGNvbnN0IGNvbE5hbWUgaW4gcmVjb3Jkc2V0LmNvbHVtbnMpIHtcbiAgICBpZiAob2JqZWN0SGFzUHJvcGVydHkocmVjb3Jkc2V0LmNvbHVtbnMsIGNvbE5hbWUpKSB7XG4gICAgICBjb25zdCBjb2wgPSByZWNvcmRzZXQuY29sdW1uc1tjb2xOYW1lXVxuXG4gICAgICB0LmNvbHVtbnMuYWRkKGNvbE5hbWUsIHtcbiAgICAgICAgdHlwZTogY29sLnR5cGUsXG4gICAgICAgIGxlbmd0aDogY29sLmxlbmd0aCxcbiAgICAgICAgc2NhbGU6IGNvbC5zY2FsZSxcbiAgICAgICAgcHJlY2lzaW9uOiBjb2wucHJlY2lzaW9uXG4gICAgICB9LCB7XG4gICAgICAgIG51bGxhYmxlOiBjb2wubnVsbGFibGUsXG4gICAgICAgIGlkZW50aXR5OiBjb2wuaWRlbnRpdHksXG4gICAgICAgIHJlYWRPbmx5OiBjb2wucmVhZE9ubHlcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgaWYgKHQuY29sdW1ucy5sZW5ndGggPT09IDEgJiYgdC5jb2x1bW5zWzBdLm5hbWUgPT09IEpTT05fQ09MVU1OX0lEKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZWNvcmRzZXQubGVuZ3RoOyBpKyspIHtcbiAgICAgIHQucm93cy5hZGQoSlNPTi5zdHJpbmdpZnkocmVjb3Jkc2V0W2ldKSlcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZWNvcmRzZXQubGVuZ3RoOyBpKyspIHtcbiAgICAgIHQucm93cy5hZGQuYXBwbHkodC5yb3dzLCB0LmNvbHVtbnMubWFwKGNvbCA9PiByZWNvcmRzZXRbaV1bY29sLm5hbWVdKSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdFxufVxuXG5UYWJsZS5wYXJzZU5hbWUgPSBmdW5jdGlvbiBwYXJzZU5hbWUgKG5hbWUpIHtcbiAgY29uc3QgbGVuZ3RoID0gbmFtZS5sZW5ndGhcbiAgbGV0IGN1cnNvciA9IC0xXG4gIGxldCBidWZmZXIgPSAnJ1xuICBsZXQgZXNjYXBlZCA9IGZhbHNlXG4gIGNvbnN0IHBhdGggPSBbXVxuXG4gIHdoaWxlICgrK2N1cnNvciA8IGxlbmd0aCkge1xuICAgIGNvbnN0IGNoYXIgPSBuYW1lLmNoYXJBdChjdXJzb3IpXG4gICAgaWYgKGNoYXIgPT09ICdbJykge1xuICAgICAgaWYgKGVzY2FwZWQpIHtcbiAgICAgICAgYnVmZmVyICs9IGNoYXJcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVzY2FwZWQgPSB0cnVlXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjaGFyID09PSAnXScpIHtcbiAgICAgIGlmIChlc2NhcGVkKSB7XG4gICAgICAgIGVzY2FwZWQgPSBmYWxzZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHRhYmxlIG5hbWUuJylcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGNoYXIgPT09ICcuJykge1xuICAgICAgaWYgKGVzY2FwZWQpIHtcbiAgICAgICAgYnVmZmVyICs9IGNoYXJcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhdGgucHVzaChidWZmZXIpXG4gICAgICAgIGJ1ZmZlciA9ICcnXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGJ1ZmZlciArPSBjaGFyXG4gICAgfVxuICB9XG5cbiAgaWYgKGJ1ZmZlcikge1xuICAgIHBhdGgucHVzaChidWZmZXIpXG4gIH1cblxuICBzd2l0Y2ggKHBhdGgubGVuZ3RoKSB7XG4gICAgY2FzZSAxOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogcGF0aFswXSxcbiAgICAgICAgc2NoZW1hOiBudWxsLFxuICAgICAgICBkYXRhYmFzZTogbnVsbFxuICAgICAgfVxuXG4gICAgY2FzZSAyOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogcGF0aFsxXSxcbiAgICAgICAgc2NoZW1hOiBwYXRoWzBdLFxuICAgICAgICBkYXRhYmFzZTogbnVsbFxuICAgICAgfVxuXG4gICAgY2FzZSAzOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogcGF0aFsyXSxcbiAgICAgICAgc2NoZW1hOiBwYXRoWzFdLFxuICAgICAgICBkYXRhYmFzZTogcGF0aFswXVxuICAgICAgfVxuXG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB0YWJsZSBuYW1lLicpXG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBUYWJsZVxuIl0sIm5hbWVzIjpbIlRZUEVTIiwicmVxdWlyZSIsImRlY2xhcmVUeXBlIiwiZGVjbGFyZSIsIm9iamVjdEhhc1Byb3BlcnR5IiwiTUFYIiwiSlNPTl9DT0xVTU5fSUQiLCJUYWJsZSIsIm5hbWUiLCJwYXJzZWQiLCJwYXJzZU5hbWUiLCJzY2hlbWEiLCJkYXRhYmFzZSIsInBhdGgiLCJ0ZW1wb3JhcnkiLCJjaGFyQXQiLCJjb2x1bW5zIiwicm93cyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJjb2x1bW4iLCJvcHRpb25zIiwiRXJyb3IiLCJGdW5jdGlvbiIsImZvckVhY2giLCJwcm9wIiwicHVzaCIsIkFycmF5IiwicHJvdG90eXBlIiwic2xpY2UiLCJjYWxsIiwiYXJndW1lbnRzIiwic3BsaWNlIiwibGVuZ3RoIiwiX21ha2VCdWxrIiwiaSIsImNvbCIsInR5cGUiLCJEYXRlIiwiRGF0ZVRpbWUiLCJEYXRlVGltZTIiLCJqIiwiZGF0ZVZhbHVlIiwiZGF0ZSIsImlzTmFOIiwiZ2V0RGF0ZSIsIlR5cGVFcnJvciIsIlhtbCIsIk5WYXJDaGFyIiwiVURUIiwiR2VvZ3JhcGh5IiwiR2VvbWV0cnkiLCJWYXJCaW5hcnkiLCJwa2V5IiwiZmlsdGVyIiwicHJpbWFyeSIsIm1hcCIsImNvbHMiLCJkZWYiLCJudWxsYWJsZSIsImpvaW4iLCJjb25zdHJhaW50Iiwic3Vic3RyIiwiZnJvbVJlY29yZHNldCIsInJlY29yZHNldCIsInQiLCJjb2xOYW1lIiwiYWRkIiwic2NhbGUiLCJwcmVjaXNpb24iLCJpZGVudGl0eSIsInJlYWRPbmx5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFwcGx5IiwiY3Vyc29yIiwiYnVmZmVyIiwiZXNjYXBlZCIsImNoYXIiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/mssql/lib/table.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/mssql/lib/tedious/connection-pool.js":
/*!***********************************************************!*\
  !*** ./node_modules/mssql/lib/tedious/connection-pool.js ***!
  \***********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst tds = __webpack_require__(/*! tedious */ \"(rsc)/./node_modules/tedious/lib/tedious.js\");\nconst debug = __webpack_require__(/*! debug */ \"(rsc)/./node_modules/debug/src/index.js\")(\"mssql:tedi\");\nconst BaseConnectionPool = __webpack_require__(/*! ../base/connection-pool */ \"(rsc)/./node_modules/mssql/lib/base/connection-pool.js\");\nconst { IDS } = __webpack_require__(/*! ../utils */ \"(rsc)/./node_modules/mssql/lib/utils.js\");\nconst shared = __webpack_require__(/*! ../shared */ \"(rsc)/./node_modules/mssql/lib/shared.js\");\nconst ConnectionError = __webpack_require__(/*! ../error/connection-error */ \"(rsc)/./node_modules/mssql/lib/error/connection-error.js\");\nclass ConnectionPool extends BaseConnectionPool {\n    _config() {\n        const cfg = {\n            server: this.config.server,\n            options: Object.assign({\n                encrypt: typeof this.config.encrypt === \"boolean\" ? this.config.encrypt : true,\n                trustServerCertificate: typeof this.config.trustServerCertificate === \"boolean\" ? this.config.trustServerCertificate : false\n            }, this.config.options),\n            authentication: Object.assign({\n                type: this.config.domain !== undefined ? \"ntlm\" : this.config.authentication_type !== undefined ? this.config.authentication_type : \"default\",\n                options: Object.entries({\n                    userName: this.config.user,\n                    password: this.config.password,\n                    domain: this.config.domain,\n                    clientId: this.config.clientId,\n                    clientSecret: this.config.clientSecret,\n                    tenantId: this.config.tenantId,\n                    token: this.config.token,\n                    msiEndpoint: this.config.msiEndpoint,\n                    msiSecret: this.config.msiSecret\n                }).reduce((acc, [key, val])=>{\n                    if (typeof val !== \"undefined\") {\n                        return {\n                            ...acc,\n                            [key]: val\n                        };\n                    }\n                    return acc;\n                }, {})\n            }, this.config.authentication)\n        };\n        cfg.options.database = cfg.options.database || this.config.database;\n        cfg.options.port = cfg.options.port || this.config.port;\n        cfg.options.connectTimeout = cfg.options.connectTimeout ?? this.config.connectionTimeout ?? this.config.timeout ?? 15000;\n        cfg.options.requestTimeout = cfg.options.requestTimeout ?? this.config.requestTimeout ?? this.config.timeout ?? 15000;\n        cfg.options.tdsVersion = cfg.options.tdsVersion || \"7_4\";\n        cfg.options.rowCollectionOnDone = cfg.options.rowCollectionOnDone || false;\n        cfg.options.rowCollectionOnRequestCompletion = cfg.options.rowCollectionOnRequestCompletion || false;\n        cfg.options.useColumnNames = cfg.options.useColumnNames || false;\n        cfg.options.appName = cfg.options.appName || \"node-mssql\";\n        // tedious always connect via tcp when port is specified\n        if (cfg.options.instanceName) delete cfg.options.port;\n        if (isNaN(cfg.options.requestTimeout)) cfg.options.requestTimeout = 15000;\n        if (cfg.options.requestTimeout === Infinity || cfg.options.requestTimeout < 0) cfg.options.requestTimeout = 0;\n        if (!cfg.options.debug && this.config.debug) {\n            cfg.options.debug = {\n                packet: true,\n                token: true,\n                data: true,\n                payload: true\n            };\n        }\n        return cfg;\n    }\n    _poolCreate() {\n        return new shared.Promise((resolve, reject)=>{\n            const resolveOnce = (v)=>{\n                resolve(v);\n                resolve = reject = ()=>{};\n            };\n            const rejectOnce = (e)=>{\n                reject(e);\n                resolve = reject = ()=>{};\n            };\n            let tedious;\n            try {\n                tedious = new tds.Connection(this._config());\n            } catch (err) {\n                rejectOnce(err);\n                return;\n            }\n            tedious.connect((err)=>{\n                if (err) {\n                    err = new ConnectionError(err);\n                    return rejectOnce(err);\n                }\n                debug(\"connection(%d): established\", IDS.get(tedious));\n                this.collation = tedious.databaseCollation;\n                resolveOnce(tedious);\n            });\n            IDS.add(tedious, \"Connection\");\n            debug(\"pool(%d): connection #%d created\", IDS.get(this), IDS.get(tedious));\n            debug(\"connection(%d): establishing\", IDS.get(tedious));\n            tedious.on(\"end\", ()=>{\n                const err = new ConnectionError(\"The connection ended without ever completing the connection\");\n                rejectOnce(err);\n            });\n            tedious.on(\"error\", (err)=>{\n                if (err.code === \"ESOCKET\") {\n                    tedious.hasError = true;\n                } else {\n                    this.emit(\"error\", err);\n                }\n                rejectOnce(err);\n            });\n            if (this.config.debug) {\n                tedious.on(\"debug\", this.emit.bind(this, \"debug\", tedious));\n            }\n            if (typeof this.config.beforeConnect === \"function\") {\n                this.config.beforeConnect(tedious);\n            }\n        });\n    }\n    _poolValidate(tedious) {\n        if (tedious && !tedious.closed && !tedious.hasError) {\n            return !this.config.validateConnection || new shared.Promise((resolve)=>{\n                const req = new tds.Request(\"SELECT 1;\", (err)=>{\n                    resolve(!err);\n                });\n                tedious.execSql(req);\n            });\n        }\n        return false;\n    }\n    _poolDestroy(tedious) {\n        return new shared.Promise((resolve, reject)=>{\n            if (!tedious) {\n                resolve();\n                return;\n            }\n            debug(\"connection(%d): destroying\", IDS.get(tedious));\n            if (tedious.closed) {\n                debug(\"connection(%d): already closed\", IDS.get(tedious));\n                resolve();\n            } else {\n                tedious.once(\"end\", ()=>{\n                    debug(\"connection(%d): destroyed\", IDS.get(tedious));\n                    resolve();\n                });\n                tedious.close();\n            }\n        });\n    }\n}\nmodule.exports = ConnectionPool;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbXNzcWwvbGliL3RlZGlvdXMvY29ubmVjdGlvbi1wb29sLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBRUEsTUFBTUEsTUFBTUMsbUJBQU9BLENBQUM7QUFDcEIsTUFBTUMsUUFBUUQsbUJBQU9BLENBQUMsd0RBQVM7QUFDL0IsTUFBTUUscUJBQXFCRixtQkFBT0EsQ0FBQztBQUNuQyxNQUFNLEVBQUVHLEdBQUcsRUFBRSxHQUFHSCxtQkFBT0EsQ0FBQztBQUN4QixNQUFNSSxTQUFTSixtQkFBT0EsQ0FBQztBQUN2QixNQUFNSyxrQkFBa0JMLG1CQUFPQSxDQUFDO0FBRWhDLE1BQU1NLHVCQUF1Qko7SUFDM0JLLFVBQVc7UUFDVCxNQUFNQyxNQUFNO1lBQ1ZDLFFBQVEsSUFBSSxDQUFDQyxNQUFNLENBQUNELE1BQU07WUFDMUJFLFNBQVNDLE9BQU9DLE1BQU0sQ0FBQztnQkFDckJDLFNBQVMsT0FBTyxJQUFJLENBQUNKLE1BQU0sQ0FBQ0ksT0FBTyxLQUFLLFlBQVksSUFBSSxDQUFDSixNQUFNLENBQUNJLE9BQU8sR0FBRztnQkFDMUVDLHdCQUF3QixPQUFPLElBQUksQ0FBQ0wsTUFBTSxDQUFDSyxzQkFBc0IsS0FBSyxZQUFZLElBQUksQ0FBQ0wsTUFBTSxDQUFDSyxzQkFBc0IsR0FBRztZQUN6SCxHQUFHLElBQUksQ0FBQ0wsTUFBTSxDQUFDQyxPQUFPO1lBQ3RCSyxnQkFBZ0JKLE9BQU9DLE1BQU0sQ0FBQztnQkFDNUJJLE1BQU0sSUFBSSxDQUFDUCxNQUFNLENBQUNRLE1BQU0sS0FBS0MsWUFBWSxTQUFTLElBQUksQ0FBQ1QsTUFBTSxDQUFDVSxtQkFBbUIsS0FBS0QsWUFBWSxJQUFJLENBQUNULE1BQU0sQ0FBQ1UsbUJBQW1CLEdBQUc7Z0JBQ3BJVCxTQUFTQyxPQUFPUyxPQUFPLENBQUM7b0JBQ3RCQyxVQUFVLElBQUksQ0FBQ1osTUFBTSxDQUFDYSxJQUFJO29CQUMxQkMsVUFBVSxJQUFJLENBQUNkLE1BQU0sQ0FBQ2Ms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c29kaWZ5LWJhY2tlbmQvLi9ub2RlX21vZHVsZXMvbXNzcWwvbGliL3RlZGlvdXMvY29ubmVjdGlvbi1wb29sLmpzP2JiNTQiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IHRkcyA9IHJlcXVpcmUoJ3RlZGlvdXMnKVxuY29uc3QgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdtc3NxbDp0ZWRpJylcbmNvbnN0IEJhc2VDb25uZWN0aW9uUG9vbCA9IHJlcXVpcmUoJy4uL2Jhc2UvY29ubmVjdGlvbi1wb29sJylcbmNvbnN0IHsgSURTIH0gPSByZXF1aXJlKCcuLi91dGlscycpXG5jb25zdCBzaGFyZWQgPSByZXF1aXJlKCcuLi9zaGFyZWQnKVxuY29uc3QgQ29ubmVjdGlvbkVycm9yID0gcmVxdWlyZSgnLi4vZXJyb3IvY29ubmVjdGlvbi1lcnJvcicpXG5cbmNsYXNzIENvbm5lY3Rpb25Qb29sIGV4dGVuZHMgQmFzZUNvbm5lY3Rpb25Qb29sIHtcbiAgX2NvbmZpZyAoKSB7XG4gICAgY29uc3QgY2ZnID0ge1xuICAgICAgc2VydmVyOiB0aGlzLmNvbmZpZy5zZXJ2ZXIsXG4gICAgICBvcHRpb25zOiBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgZW5jcnlwdDogdHlwZW9mIHRoaXMuY29uZmlnLmVuY3J5cHQgPT09ICdib29sZWFuJyA/IHRoaXMuY29uZmlnLmVuY3J5cHQgOiB0cnVlLFxuICAgICAgICB0cnVzdFNlcnZlckNlcnRpZmljYXRlOiB0eXBlb2YgdGhpcy5jb25maWcudHJ1c3RTZXJ2ZXJDZXJ0aWZpY2F0ZSA9PT0gJ2Jvb2xlYW4nID8gdGhpcy5jb25maWcudHJ1c3RTZXJ2ZXJDZXJ0aWZpY2F0ZSA6IGZhbHNlXG4gICAgICB9LCB0aGlzLmNvbmZpZy5vcHRpb25zKSxcbiAgICAgIGF1dGhlbnRpY2F0aW9uOiBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgdHlwZTogdGhpcy5jb25maWcuZG9tYWluICE9PSB1bmRlZmluZWQgPyAnbnRsbScgOiB0aGlzLmNvbmZpZy5hdXRoZW50aWNhdGlvbl90eXBlICE9PSB1bmRlZmluZWQgPyB0aGlzLmNvbmZpZy5hdXRoZW50aWNhdGlvbl90eXBlIDogJ2RlZmF1bHQnLFxuICAgICAgICBvcHRpb25zOiBPYmplY3QuZW50cmllcyh7XG4gICAgICAgICAgdXNlck5hbWU6IHRoaXMuY29uZmlnLnVzZXIsXG4gICAgICAgICAgcGFzc3dvcmQ6IHRoaXMuY29uZmlnLnBhc3N3b3JkLFxuICAgICAgICAgIGRvbWFpbjogdGhpcy5jb25maWcuZG9tYWluLFxuICAgICAgICAgIGNsaWVudElkOiB0aGlzLmNvbmZpZy5jbGllbnRJZCxcbiAgICAgICAgICBjbGllbnRTZWNyZXQ6IHRoaXMuY29uZmlnLmNsaWVudFNlY3JldCxcbiAgICAgICAgICB0ZW5hbnRJZDogdGhpcy5jb25maWcudGVuYW50SWQsXG4gICAgICAgICAgdG9rZW46IHRoaXMuY29uZmlnLnRva2VuLFxuICAgICAgICAgIG1zaUVuZHBvaW50OiB0aGlzLmNvbmZpZy5tc2lFbmRwb2ludCxcbiAgICAgICAgICBtc2lTZWNyZXQ6IHRoaXMuY29uZmlnLm1zaVNlY3JldFxuICAgICAgICB9KS5yZWR1Y2UoKGFjYywgW2tleSwgdmFsXSkgPT4ge1xuICAgICAgICAgIGlmICh0eXBlb2YgdmFsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4uYWNjLCBba2V5XTogdmFsIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGFjY1xuICAgICAgICB9LCB7fSlcbiAgICAgIH0sIHRoaXMuY29uZmlnLmF1dGhlbnRpY2F0aW9uKVxuICAgIH1cblxuICAgIGNmZy5vcHRpb25zLmRhdGFiYXNlID0gY2ZnLm9wdGlvbnMuZGF0YWJhc2UgfHwgdGhpcy5jb25maWcuZGF0YWJhc2VcbiAgICBjZmcub3B0aW9ucy5wb3J0ID0gY2ZnLm9wdGlvbnMucG9ydCB8fCB0aGlzLmNvbmZpZy5wb3J0XG4gICAgY2ZnLm9wdGlvbnMuY29ubmVjdFRpbWVvdXQgPSBjZmcub3B0aW9ucy5jb25uZWN0VGltZW91dCA/PyB0aGlzLmNvbmZpZy5jb25uZWN0aW9uVGltZW91dCA/PyB0aGlzLmNvbmZpZy50aW1lb3V0ID8/IDE1MDAwXG4gICAgY2ZnLm9wdGlvbnMucmVxdWVzdFRpbWVvdXQgPSBjZmcub3B0aW9ucy5yZXF1ZXN0VGltZW91dCA/PyB0aGlzLmNvbmZpZy5yZXF1ZXN0VGltZW91dCA/PyB0aGlzLmNvbmZpZy50aW1lb3V0ID8/IDE1MDAwXG4gICAgY2ZnLm9wdGlvbnMudGRzVmVyc2lvbiA9IGNmZy5vcHRpb25zLnRkc1ZlcnNpb24gfHwgJzdfNCdcbiAgICBjZmcub3B0aW9ucy5yb3dDb2xsZWN0aW9uT25Eb25lID0gY2ZnLm9wdGlvbnMucm93Q29sbGVjdGlvbk9uRG9uZSB8fCBmYWxzZVxuICAgIGNmZy5vcHRpb25zLnJvd0NvbGxlY3Rpb25PblJlcXVlc3RDb21wbGV0aW9uID0gY2ZnLm9wdGlvbnMucm93Q29sbGVjdGlvbk9uUmVxdWVzdENvbXBsZXRpb24gfHwgZmFsc2VcbiAgICBjZmcub3B0aW9ucy51c2VDb2x1bW5OYW1lcyA9IGNmZy5vcHRpb25zLnVzZUNvbHVtbk5hbWVzIHx8IGZhbHNlXG4gICAgY2ZnLm9wdGlvbnMuYXBwTmFtZSA9IGNmZy5vcHRpb25zLmFwcE5hbWUgfHwgJ25vZGUtbXNzcWwnXG5cbiAgICAvLyB0ZWRpb3VzIGFsd2F5cyBjb25uZWN0IHZpYSB0Y3Agd2hlbiBwb3J0IGlzIHNwZWNpZmllZFxuICAgIGlmIChjZmcub3B0aW9ucy5pbnN0YW5jZU5hbWUpIGRlbGV0ZSBjZmcub3B0aW9ucy5wb3J0XG5cbiAgICBpZiAoaXNOYU4oY2ZnLm9wdGlvbnMucmVxdWVzdFRpbWVvdXQpKSBjZmcub3B0aW9ucy5yZXF1ZXN0VGltZW91dCA9IDE1MDAwXG4gICAgaWYgKGNmZy5vcHRpb25zLnJlcXVlc3RUaW1lb3V0ID09PSBJbmZpbml0eSB8fCBjZmcub3B0aW9ucy5yZXF1ZXN0VGltZW91dCA8IDApIGNmZy5vcHRpb25zLnJlcXVlc3RUaW1lb3V0ID0gMFxuXG4gICAgaWYgKCFjZmcub3B0aW9ucy5kZWJ1ZyAmJiB0aGlzLmNvbmZpZy5kZWJ1Zykge1xuICAgICAgY2ZnLm9wdGlvbnMuZGVidWcgPSB7XG4gICAgICAgIHBhY2tldDogdHJ1ZSxcbiAgICAgICAgdG9rZW46IHRydWUsXG4gICAgICAgIGRhdGE6IHRydWUsXG4gICAgICAgIHBheWxvYWQ6IHRydWVcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNmZ1xuICB9XG5cbiAgX3Bvb2xDcmVhdGUgKCkge1xuICAgIHJldHVybiBuZXcgc2hhcmVkLlByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgcmVzb2x2ZU9uY2UgPSAodikgPT4ge1xuICAgICAgICByZXNvbHZlKHYpXG4gICAgICAgIHJlc29sdmUgPSByZWplY3QgPSAoKSA9PiB7fVxuICAgICAgfVxuICAgICAgY29uc3QgcmVqZWN0T25jZSA9IChlKSA9PiB7XG4gICAgICAgIHJlamVjdChlKVxuICAgICAgICByZXNvbHZlID0gcmVqZWN0ID0gKCkgPT4ge31cbiAgICAgIH1cbiAgICAgIGxldCB0ZWRpb3VzXG4gICAgICB0cnkge1xuICAgICAgICB0ZWRpb3VzID0gbmV3IHRkcy5Db25uZWN0aW9uKHRoaXMuX2NvbmZpZygpKVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJlamVjdE9uY2UoZXJyKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIHRlZGlvdXMuY29ubmVjdChlcnIgPT4ge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgZXJyID0gbmV3IENvbm5lY3Rpb25FcnJvcihlcnIpXG4gICAgICAgICAgcmV0dXJuIHJlamVjdE9uY2UoZXJyKVxuICAgICAgICB9XG5cbiAgICAgICAgZGVidWcoJ2Nvbm5lY3Rpb24oJWQpOiBlc3RhYmxpc2hlZCcsIElEUy5nZXQodGVkaW91cykpXG4gICAgICAgIHRoaXMuY29sbGF0aW9uID0gdGVkaW91cy5kYXRhYmFzZUNvbGxhdGlvblxuICAgICAgICByZXNvbHZlT25jZSh0ZWRpb3VzKVxuICAgICAgfSlcbiAgICAgIElEUy5hZGQodGVkaW91cywgJ0Nvbm5lY3Rpb24nKVxuICAgICAgZGVidWcoJ3Bvb2woJWQpOiBjb25uZWN0aW9uICMlZCBjcmVhdGVkJywgSURTLmdldCh0aGlzKSwgSURTLmdldCh0ZWRpb3VzKSlcbiAgICAgIGRlYnVnKCdjb25uZWN0aW9uKCVkKTogZXN0YWJsaXNoaW5nJywgSURTLmdldCh0ZWRpb3VzKSlcblxuICAgICAgdGVkaW91cy5vbignZW5kJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBlcnIgPSBuZXcgQ29ubmVjdGlvbkVycm9yKCdUaGUgY29ubmVjdGlvbiBlbmRlZCB3aXRob3V0IGV2ZXIgY29tcGxldGluZyB0aGUgY29ubmVjdGlvbicpXG4gICAgICAgIHJlamVjdE9uY2UoZXJyKVxuICAgICAgfSlcbiAgICAgIHRlZGlvdXMub24oJ2Vycm9yJywgZXJyID0+IHtcbiAgICAgICAgaWYgKGVyci5jb2RlID09PSAnRVNPQ0tFVCcpIHtcbiAgICAgICAgICB0ZWRpb3VzLmhhc0Vycm9yID0gdHJ1ZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBlcnIpXG4gICAgICAgIH1cbiAgICAgICAgcmVqZWN0T25jZShlcnIpXG4gICAgICB9KVxuXG4gICAgICBpZiAodGhpcy5jb25maWcuZGVidWcpIHtcbiAgICAgICAgdGVkaW91cy5vbignZGVidWcnLCB0aGlzLmVtaXQuYmluZCh0aGlzLCAnZGVidWcnLCB0ZWRpb3VzKSlcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgdGhpcy5jb25maWcuYmVmb3JlQ29ubmVjdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLmNvbmZpZy5iZWZvcmVDb25uZWN0KHRlZGlvdXMpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIF9wb29sVmFsaWRhdGUgKHRlZGlvdXMpIHtcbiAgICBpZiAodGVkaW91cyAmJiAhdGVkaW91cy5jbG9zZWQgJiYgIXRlZGlvdXMuaGFzRXJyb3IpIHtcbiAgICAgIHJldHVybiAhdGhpcy5jb25maWcudmFsaWRhdGVDb25uZWN0aW9uIHx8IG5ldyBzaGFyZWQuUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICBjb25zdCByZXEgPSBuZXcgdGRzLlJlcXVlc3QoJ1NFTEVDVCAxOycsIChlcnIpID0+IHtcbiAgICAgICAgICByZXNvbHZlKCFlcnIpXG4gICAgICAgIH0pXG4gICAgICAgIHRlZGlvdXMuZXhlY1NxbChyZXEpXG4gICAgICB9KVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIF9wb29sRGVzdHJveSAodGVkaW91cykge1xuICAgIHJldHVybiBuZXcgc2hhcmVkLlByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgaWYgKCF0ZWRpb3VzKSB7XG4gICAgICAgIHJlc29sdmUoKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGRlYnVnKCdjb25uZWN0aW9uKCVkKTogZGVzdHJveWluZycsIElEUy5nZXQodGVkaW91cykpXG5cbiAgICAgIGlmICh0ZWRpb3VzLmNsb3NlZCkge1xuICAgICAgICBkZWJ1ZygnY29ubmVjdGlvbiglZCk6IGFscmVhZHkgY2xvc2VkJywgSURTLmdldCh0ZWRpb3VzKSlcbiAgICAgICAgcmVzb2x2ZSgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0ZWRpb3VzLm9uY2UoJ2VuZCcsICgpID0+IHtcbiAgICAgICAgICBkZWJ1ZygnY29ubmVjdGlvbiglZCk6IGRlc3Ryb3llZCcsIElEUy5nZXQodGVkaW91cykpXG4gICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGVkaW91cy5jbG9zZSgpXG4gICAgICB9XG4gICAgfSlcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IENvbm5lY3Rpb25Qb29sXG4iXSwibmFtZXMiOlsidGRzIiwicmVxdWlyZSIsImRlYnVnIiwiQmFzZUNvbm5lY3Rpb25Qb29sIiwiSURTIiwic2hhcmVkIiwiQ29ubmVjdGlvbkVycm9yIiwiQ29ubmVjdGlvblBvb2wiLCJfY29uZmlnIiwiY2ZnIiwic2VydmVyIiwiY29uZmlnIiwib3B0aW9ucyIsIk9iamVjdCIsImFzc2lnbiIsImVuY3J5cHQiLCJ0cnVzdFNlcnZlckNlcnRpZmljYXRlIiwiYXV0aGVudGljYXRpb24iLCJ0eXBlIiwiZG9tYWluIiwidW5kZWZpbmVkIiwiYXV0aGVudGljYXRpb25fdHlwZSIsImVudHJpZXMiLCJ1c2VyTmFtZSIsInVzZXIiLCJwYXNzd29yZCIsImNsaWVudElkIiwiY2xpZW50U2VjcmV0IiwidGVuYW50SWQiLCJ0b2tlbiIsIm1zaUVuZHBvaW50IiwibXNpU2VjcmV0IiwicmVkdWNlIiwiYWNjIiwia2V5IiwidmFsIiwiZGF0YWJhc2UiLCJwb3J0IiwiY29ubmVjdFRpbWVvdXQiLCJjb25uZWN0aW9uVGltZW91dCIsInRpbWVvdXQiLCJyZXF1ZXN0VGltZW91dCIsInRkc1ZlcnNpb24iLCJyb3dDb2xsZWN0aW9uT25Eb25lIiwicm93Q29sbGVjdGlvbk9uUmVxdWVzdENvbXBsZXRpb24iLCJ1c2VDb2x1bW5OYW1lcyIsImFwcE5hbWUiLCJpbnN0YW5jZU5hbWUiLCJpc05hTiIsIkluZmluaXR5IiwicGFja2V0IiwiZGF0YSIsInBheWxvYWQiLCJfcG9vbENyZWF0ZSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVzb2x2ZU9uY2UiLCJ2IiwicmVqZWN0T25jZSIsImUiLCJ0ZWRpb3VzIiwiQ29ubmVjdGlvbiIsImVyciIsImNvbm5lY3QiLCJnZXQiLCJjb2xsYXRpb24iLCJkYXRhYmFzZUNvbGxhdGlvbiIsImFkZCIsIm9uIiwiY29kZSIsImhhc0Vycm9yIiwiZW1pdCIsImJpbmQiLCJiZWZvcmVDb25uZWN0IiwiX3Bvb2xWYWxpZGF0ZSIsImNsb3NlZCIsInZhbGlkYXRlQ29ubmVjdGlvbiIsInJlcSIsIlJlcXVlc3QiLCJleGVjU3FsIiwiX3Bvb2xEZXN0cm95Iiwib25jZSIsImNsb3NlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/mssql/lib/tedious/connection-pool.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/mssql/lib/tedious/index.js":
/*!*************************************************!*\
  !*** ./node_modules/mssql/lib/tedious/index.js ***!
  \*************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst base = __webpack_require__(/*! ../base */ \"(rsc)/./node_modules/mssql/lib/base/index.js\");\nconst ConnectionPool = __webpack_require__(/*! ./connection-pool */ \"(rsc)/./node_modules/mssql/lib/tedious/connection-pool.js\");\nconst Transaction = __webpack_require__(/*! ./transaction */ \"(rsc)/./node_modules/mssql/lib/tedious/transaction.js\");\nconst Request = __webpack_require__(/*! ./request */ \"(rsc)/./node_modules/mssql/lib/tedious/request.js\");\nmodule.exports = Object.assign({\n    ConnectionPool,\n    Transaction,\n    Request,\n    PreparedStatement: base.PreparedStatement\n}, base.exports);\nObject.defineProperty(module.exports, \"Promise\", ({\n    enumerable: true,\n    get: ()=>{\n        return base.Promise;\n    },\n    set: (value)=>{\n        base.Promise = value;\n    }\n}));\nObject.defineProperty(module.exports, \"valueHandler\", ({\n    enumerable: true,\n    value: base.valueHandler,\n    writable: false,\n    configurable: false\n}));\nbase.driver.name = \"tedious\";\nbase.driver.ConnectionPool = ConnectionPool;\nbase.driver.Transaction = Transaction;\nbase.driver.Request = Request;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbXNzcWwvbGliL3RlZGlvdXMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFFQSxNQUFNQSxPQUFPQyxtQkFBT0EsQ0FBQztBQUNyQixNQUFNQyxpQkFBaUJELG1CQUFPQSxDQUFDO0FBQy9CLE1BQU1FLGNBQWNGLG1CQUFPQSxDQUFDO0FBQzVCLE1BQU1HLFVBQVVILG1CQUFPQSxDQUFDO0FBRXhCSSxPQUFPQyxPQUFPLEdBQUdDLE9BQU9DLE1BQU0sQ0FBQztJQUM3Qk47SUFDQUM7SUFDQUM7SUFDQUssbUJBQW1CVCxLQUFLUyxpQkFBaUI7QUFDM0MsR0FBR1QsS0FBS00sT0FBTztBQUVmQyxrREFBaUQ7SUFDL0NJLFlBQVk7SUFDWkMsS0FBSztRQUNILE9BQU9aLEtBQUthLE9BQU87SUFDckI7SUFDQUMsS0FBSyxDQUFDQztRQUNKZixLQUFLYSxPQUFPLEdBQUdFO0lBQ2pCO0FBQ0YsQ0FBQyxFQUFDO0FBRUZSLHVEQUFzRDtJQUNwREksWUFBWTtJQUNaSSxPQUFPZixLQUFLZ0IsWUFBWTtJQUN4QkMsVUFBVTtJQUNWQyxjQUFjO0FBQ2hCLENBQUMsRUFBQztBQUVGbEIsS0FBS21CLE1BQU0sQ0FBQ0MsSUFBSSxHQUFHO0FBQ25CcEIsS0FBS21CLE1BQU0sQ0FBQ2pCLGNBQWMsR0FBR0E7QUFDN0JGLEtBQUttQixNQUFNLENBQUNoQixXQUFXLEdBQUdBO0FBQzFCSCxLQUFLbUIsTUFBTSxDQUFDZixPQUFPLEdBQUdBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvc29kaWZ5LWJhY2tlbmQvLi9ub2RlX21vZHVsZXMvbXNzcWwvbGliL3RlZGlvdXMvaW5kZXguanM/N2RjYiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcblxuY29uc3QgYmFzZSA9IHJlcXVpcmUoJy4uL2Jhc2UnKVxuY29uc3QgQ29ubmVjdGlvblBvb2wgPSByZXF1aXJlKCcuL2Nvbm5lY3Rpb24tcG9vbCcpXG5jb25zdCBUcmFuc2FjdGlvbiA9IHJlcXVpcmUoJy4vdHJhbnNhY3Rpb24nKVxuY29uc3QgUmVxdWVzdCA9IHJlcXVpcmUoJy4vcmVxdWVzdCcpXG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmFzc2lnbih7XG4gIENvbm5lY3Rpb25Qb29sLFxuICBUcmFuc2FjdGlvbixcbiAgUmVxdWVzdCxcbiAgUHJlcGFyZWRTdGF0ZW1lbnQ6IGJhc2UuUHJlcGFyZWRTdGF0ZW1lbnRcbn0sIGJhc2UuZXhwb3J0cylcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZS5leHBvcnRzLCAnUHJvbWlzZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiAoKSA9PiB7XG4gICAgcmV0dXJuIGJhc2UuUHJvbWlzZVxuICB9LFxuICBzZXQ6ICh2YWx1ZSkgPT4ge1xuICAgIGJhc2UuUHJvbWlzZSA9IHZhbHVlXG4gIH1cbn0pXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUuZXhwb3J0cywgJ3ZhbHVlSGFuZGxlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgdmFsdWU6IGJhc2UudmFsdWVIYW5kbGVyLFxuICB3cml0YWJsZTogZmFsc2UsXG4gIGNvbmZpZ3VyYWJsZTogZmFsc2Vcbn0pXG5cbmJhc2UuZHJpdmVyLm5hbWUgPSAndGVkaW91cydcbmJhc2UuZHJpdmVyLkNvbm5lY3Rpb25Qb29sID0gQ29ubmVjdGlvblBvb2xcbmJhc2UuZHJpdmVyLlRyYW5zYWN0aW9uID0gVHJhbnNhY3Rpb25cbmJhc2UuZHJpdmVyLlJlcXVlc3QgPSBSZXF1ZXN0XG4iXSwibmFtZXMiOlsiYmFzZSIsInJlcXVpcmUiLCJDb25uZWN0aW9uUG9vbCIsIlRyYW5zYWN0aW9uIiwiUmVxdWVzdCIsIm1vZHVsZSIsImV4cG9ydHMiLCJPYmplY3QiLCJhc3NpZ24iLCJQcmVwYXJlZFN0YXRlbWVudCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIlByb21pc2UiLCJzZXQiLCJ2YWx1ZSIsInZhbHVlSGFuZGxlciIsIndyaXRhYmxlIiwiY29uZmlndXJhYmxlIiwiZHJpdmVyIiwibmFtZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/mssql/lib/tedious/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/mssql/lib/tedious/request.js":
/*!***************************************************!*\
  !*** ./node_modules/mssql/lib/tedious/request.js ***!
  \***************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst tds = __webpack_require__(/*! tedious */ \"(rsc)/./node_modules/tedious/lib/tedious.js\");\nconst debug = __webpack_require__(/*! debug */ \"(rsc)/./node_modules/debug/src/index.js\")(\"mssql:tedi\");\nconst BaseRequest = __webpack_require__(/*! ../base/request */ \"(rsc)/./node_modules/mssql/lib/base/request.js\");\nconst RequestError = __webpack_require__(/*! ../error/request-error */ \"(rsc)/./node_modules/mssql/lib/error/request-error.js\");\nconst { IDS, objectHasProperty } = __webpack_require__(/*! ../utils */ \"(rsc)/./node_modules/mssql/lib/utils.js\");\nconst { TYPES, DECLARATIONS, declare, cast } = __webpack_require__(/*! ../datatypes */ \"(rsc)/./node_modules/mssql/lib/datatypes.js\");\nconst Table = __webpack_require__(/*! ../table */ \"(rsc)/./node_modules/mssql/lib/table.js\");\nconst { PARSERS: UDT } = __webpack_require__(/*! ../udt */ \"(rsc)/./node_modules/mssql/lib/udt.js\");\nconst { valueHandler } = __webpack_require__(/*! ../shared */ \"(rsc)/./node_modules/mssql/lib/shared.js\");\nconst JSON_COLUMN_ID = \"JSON_F52E2B61-18A1-11d1-B105-00805F49916B\";\nconst XML_COLUMN_ID = \"XML_F52E2B61-18A1-11d1-B105-00805F49916B\";\nconst N_TYPES = {\n    BitN: 0x68,\n    DateTimeN: 0x6F,\n    DecimalN: 0x6A,\n    FloatN: 0x6D,\n    IntN: 0x26,\n    MoneyN: 0x6E,\n    NumericN: 0x6C\n};\nconst getTediousType = function(type) {\n    switch(type){\n        case TYPES.VarChar:\n            return tds.TYPES.VarChar;\n        case TYPES.NVarChar:\n            return tds.TYPES.NVarChar;\n        case TYPES.Text:\n            return tds.TYPES.Text;\n        case TYPES.Int:\n            return tds.TYPES.Int;\n        case TYPES.BigInt:\n            return tds.TYPES.BigInt;\n        case TYPES.TinyInt:\n            return tds.TYPES.TinyInt;\n        case TYPES.SmallInt:\n            return tds.TYPES.SmallInt;\n        case TYPES.Bit:\n            return tds.TYPES.Bit;\n        case TYPES.Float:\n            return tds.TYPES.Float;\n        case TYPES.Decimal:\n            return tds.TYPES.Decimal;\n        case TYPES.Numeric:\n            return tds.TYPES.Numeric;\n        case TYPES.Real:\n            return tds.TYPES.Real;\n        case TYPES.Money:\n            return tds.TYPES.Money;\n        case TYPES.SmallMoney:\n            return tds.TYPES.SmallMoney;\n        case TYPES.Time:\n            return tds.TYPES.Time;\n        case TYPES.Date:\n            return tds.TYPES.Date;\n        case TYPES.DateTime:\n            return tds.TYPES.DateTime;\n        case TYPES.DateTime2:\n            return tds.TYPES.DateTime2;\n        case TYPES.DateTimeOffset:\n            return tds.TYPES.DateTimeOffset;\n        case TYPES.SmallDateTime:\n            return tds.TYPES.SmallDateTime;\n        case TYPES.UniqueIdentifier:\n            return tds.TYPES.UniqueIdentifier;\n        case TYPES.Xml:\n            return tds.TYPES.NVarChar;\n        case TYPES.Char:\n            return tds.TYPES.Char;\n        case TYPES.NChar:\n            return tds.TYPES.NChar;\n        case TYPES.NText:\n            return tds.TYPES.NVarChar;\n        case TYPES.Image:\n            return tds.TYPES.Image;\n        case TYPES.Binary:\n            return tds.TYPES.Binary;\n        case TYPES.VarBinary:\n            return tds.TYPES.VarBinary;\n        case TYPES.UDT:\n        case TYPES.Geography:\n        case TYPES.Geometry:\n            return tds.TYPES.UDT;\n        case TYPES.TVP:\n            return tds.TYPES.TVP;\n        case TYPES.Variant:\n            return tds.TYPES.Variant;\n        default:\n            return type;\n    }\n};\nconst getMssqlType = function(type, length) {\n    if (typeof type !== \"object\") return undefined;\n    switch(type){\n        case tds.TYPES.Char:\n            return TYPES.Char;\n        case tds.TYPES.NChar:\n            return TYPES.NChar;\n        case tds.TYPES.VarChar:\n            return TYPES.VarChar;\n        case tds.TYPES.NVarChar:\n            return TYPES.NVarChar;\n        case tds.TYPES.Text:\n            return TYPES.Text;\n        case tds.TYPES.NText:\n            return TYPES.NText;\n        case tds.TYPES.Int:\n            return TYPES.Int;\n        case tds.TYPES.BigInt:\n            return TYPES.BigInt;\n        case tds.TYPES.TinyInt:\n            return TYPES.TinyInt;\n        case tds.TYPES.SmallInt:\n            return TYPES.SmallInt;\n        case tds.TYPES.Bit:\n            return TYPES.Bit;\n        case tds.TYPES.Float:\n            return TYPES.Float;\n        case tds.TYPES.Real:\n            return TYPES.Real;\n        case tds.TYPES.Money:\n            return TYPES.Money;\n        case tds.TYPES.SmallMoney:\n            return TYPES.SmallMoney;\n        case tds.TYPES.Numeric:\n            return TYPES.Numeric;\n        case tds.TYPES.Decimal:\n            return TYPES.Decimal;\n        case tds.TYPES.DateTime:\n            return TYPES.DateTime;\n        case tds.TYPES.Time:\n            return TYPES.Time;\n        case tds.TYPES.Date:\n            return TYPES.Date;\n        case tds.TYPES.DateTime2:\n            return TYPES.DateTime2;\n        case tds.TYPES.DateTimeOffset:\n            return TYPES.DateTimeOffset;\n        case tds.TYPES.SmallDateTime:\n            return TYPES.SmallDateTime;\n        case tds.TYPES.UniqueIdentifier:\n            return TYPES.UniqueIdentifier;\n        case tds.TYPES.Image:\n            return TYPES.Image;\n        case tds.TYPES.Binary:\n            return TYPES.Binary;\n        case tds.TYPES.VarBinary:\n            return TYPES.VarBinary;\n        case tds.TYPES.Xml:\n            return TYPES.Xml;\n        case tds.TYPES.UDT:\n            return TYPES.UDT;\n        case tds.TYPES.TVP:\n            return TYPES.TVP;\n        case tds.TYPES.Variant:\n            return TYPES.Variant;\n        default:\n            switch(type.id){\n                case N_TYPES.BitN:\n                    return TYPES.Bit;\n                case N_TYPES.NumericN:\n                    return TYPES.Numeric;\n                case N_TYPES.DecimalN:\n                    return TYPES.Decimal;\n                case N_TYPES.IntN:\n                    if (length === 8) return TYPES.BigInt;\n                    if (length === 4) return TYPES.Int;\n                    if (length === 2) return TYPES.SmallInt;\n                    return TYPES.TinyInt;\n                case N_TYPES.FloatN:\n                    if (length === 8) return TYPES.Float;\n                    return TYPES.Real;\n                case N_TYPES.MoneyN:\n                    if (length === 8) return TYPES.Money;\n                    return TYPES.SmallMoney;\n                case N_TYPES.DateTimeN:\n                    if (length === 8) return TYPES.DateTime;\n                    return TYPES.SmallDateTime;\n            }\n    }\n};\nconst createColumns = function(metadata, arrayRowMode) {\n    let out = {};\n    if (arrayRowMode) out = [];\n    for(let index = 0, length = metadata.length; index < length; index++){\n        const column = metadata[index];\n        const outColumn = {\n            index,\n            name: column.colName,\n            length: column.dataLength,\n            type: getMssqlType(column.type, column.dataLength),\n            scale: column.scale,\n            precision: column.precision,\n            nullable: !!(column.flags & 0x01),\n            caseSensitive: !!(column.flags & 0x02),\n            identity: !!(column.flags & 0x10),\n            readOnly: !(column.flags & 0x0C)\n        };\n        if (column.udtInfo) {\n            outColumn.udt = {\n                name: column.udtInfo.typeName,\n                database: column.udtInfo.dbname,\n                schema: column.udtInfo.owningSchema,\n                assembly: column.udtInfo.assemblyName\n            };\n            if (DECLARATIONS[column.udtInfo.typeName]) {\n                outColumn.type = DECLARATIONS[column.udtInfo.typeName];\n            }\n        }\n        if (arrayRowMode) {\n            out.push(outColumn);\n        } else {\n            out[column.colName] = outColumn;\n        }\n    }\n    return out;\n};\nconst valueCorrection = function(value, metadata) {\n    const type = getMssqlType(metadata.type);\n    if (valueHandler.has(type)) {\n        return valueHandler.get(type)(value);\n    } else if (metadata.type === tds.TYPES.UDT && value != null) {\n        if (UDT[metadata.udtInfo.typeName]) {\n            return UDT[metadata.udtInfo.typeName](value);\n        } else {\n            return value;\n        }\n    } else {\n        return value;\n    }\n};\nconst parameterCorrection = function(value) {\n    if (value instanceof Table) {\n        const tvp = {\n            name: value.name,\n            schema: value.schema,\n            columns: [],\n            rows: value.rows\n        };\n        for (const col of value.columns){\n            tvp.columns.push({\n                name: col.name,\n                type: getTediousType(col.type),\n                length: col.length,\n                scale: col.scale,\n                precision: col.precision\n            });\n        }\n        return tvp;\n    } else {\n        return value;\n    }\n};\nclass Request extends BaseRequest {\n    /*\n  Execute specified sql batch.\n  */ _batch(batch, callback) {\n        this._isBatch = true;\n        this._query(batch, callback);\n    }\n    /*\n  Bulk load.\n  */ _bulk(table, options, callback) {\n        super._bulk(table, options, (err)=>{\n            if (err) return callback(err);\n            try {\n                table._makeBulk();\n            } catch (e) {\n                return callback(new RequestError(e, \"EREQUEST\"));\n            }\n            if (!table.name) {\n                return callback(new RequestError(\"Table name must be specified for bulk insert.\", \"ENAME\"));\n            }\n            if (table.name.charAt(0) === \"@\") {\n                return callback(new RequestError(\"You can't use table variables for bulk insert.\", \"ENAME\"));\n            }\n            const errors = [];\n            const errorHandlers = {};\n            let hasReturned = false;\n            const handleError = (doReturn, connection, info)=>{\n                let err = new Error(info.message);\n                err.info = info;\n                err = new RequestError(err, \"EREQUEST\");\n                if (this.stream) {\n                    this.emit(\"error\", err);\n                } else {\n                    if (doReturn && !hasReturned) {\n                        if (connection) {\n                            for(const event in errorHandlers){\n                                connection.removeListener(event, errorHandlers[event]);\n                            }\n                            this.parent.release(connection);\n                        }\n                        hasReturned = true;\n                        callback(err);\n                    }\n                }\n                // we must collect errors even in stream mode\n                errors.push(err);\n            };\n            const handleInfo = (msg)=>{\n                this.emit(\"info\", {\n                    message: msg.message,\n                    number: msg.number,\n                    state: msg.state,\n                    class: msg.class,\n                    lineNumber: msg.lineNumber,\n                    serverName: msg.serverName,\n                    procName: msg.procName\n                });\n            };\n            this.parent.acquire(this, (err, connection)=>{\n                const callbackWithRelease = (err, ...args)=>{\n                    try {\n                        this.parent.release(connection);\n                    } catch (e) {\n                    // noop\n                    }\n                    callback(err, ...args);\n                };\n                if (err) return callbackWithRelease(err);\n                debug(\"connection(%d): borrowed to request #%d\", IDS.get(connection), IDS.get(this));\n                if (this.canceled) {\n                    debug(\"request(%d): canceled\", IDS.get(this));\n                    return callbackWithRelease(new RequestError(\"Canceled.\", \"ECANCEL\"));\n                }\n                this._cancel = ()=>{\n                    debug(\"request(%d): cancel\", IDS.get(this));\n                    connection.cancel();\n                };\n                // attach handler to handle multiple error messages\n                connection.on(\"infoMessage\", errorHandlers.infoMessage = handleInfo);\n                connection.on(\"errorMessage\", errorHandlers.errorMessage = handleError.bind(null, false, connection));\n                connection.on(\"error\", errorHandlers.error = handleError.bind(null, true, connection));\n                const done = (err, rowCount)=>{\n                    // to make sure we handle no-sql errors as well\n                    if (err && (!errors.length || errors.length && err.message !== errors[errors.length - 1].message)) {\n                        err = new RequestError(err, \"EREQUEST\");\n                        if (this.stream) this.emit(\"error\", err);\n                        errors.push(err);\n                    }\n                    delete this._cancel;\n                    let error;\n                    if (errors.length && !this.stream) {\n                        error = errors.pop();\n                        error.precedingErrors = errors;\n                    }\n                    if (!hasReturned) {\n                        for(const event in errorHandlers){\n                            connection.removeListener(event, errorHandlers[event]);\n                        }\n                        hasReturned = true;\n                        if (this.stream) {\n                            callbackWithRelease(null, rowCount);\n                        } else {\n                            callbackWithRelease(error, rowCount);\n                        }\n                    }\n                };\n                const bulk = connection.newBulkLoad(table.path, options, done);\n                for (const col of table.columns){\n                    bulk.addColumn(col.name, getTediousType(col.type), {\n                        nullable: col.nullable,\n                        length: col.length,\n                        scale: col.scale,\n                        precision: col.precision\n                    });\n                }\n                if (table.create) {\n                    const objectid = table.temporary ? `tempdb..[${table.name}]` : table.path;\n                    const req = new tds.Request(`if object_id('${objectid.replace(/'/g, \"''\")}') is null ${table.declare()}`, (err)=>{\n                        if (err) return done(err);\n                        connection.execBulkLoad(bulk, table.rows);\n                    });\n                    this._setCurrentRequest(req);\n                    connection.execSqlBatch(req);\n                } else {\n                    connection.execBulkLoad(bulk, table.rows);\n                }\n            });\n        });\n    }\n    /*\n  Execute specified sql command.\n  */ _query(command, callback) {\n        super._query(command, (err)=>{\n            if (err) return callback(err);\n            const recordsets = [];\n            const recordsetcolumns = [];\n            const errors = [];\n            const errorHandlers = {};\n            const output = {};\n            const rowsAffected = [];\n            let columns = {};\n            let recordset = [];\n            let batchLastRow = null;\n            let batchHasOutput = false;\n            let isChunkedRecordset = false;\n            let chunksBuffer = null;\n            let hasReturned = false;\n            const handleError = (doReturn, connection, info)=>{\n                let err = new Error(info.message);\n                err.info = info;\n                err = new RequestError(err, \"EREQUEST\");\n                if (this.stream) {\n                    this.emit(\"error\", err);\n                } else {\n                    if (doReturn && !hasReturned) {\n                        if (connection) {\n                            for(const event in errorHandlers){\n                                connection.removeListener(event, errorHandlers[event]);\n                            }\n                            this.parent.release(connection);\n                        }\n                        hasReturned = true;\n                        callback(err);\n                    }\n                }\n                // we must collect errors even in stream mode\n                errors.push(err);\n            };\n            const handleInfo = (msg)=>{\n                this.emit(\"info\", {\n                    message: msg.message,\n                    number: msg.number,\n                    state: msg.state,\n                    class: msg.class,\n                    lineNumber: msg.lineNumber,\n                    serverName: msg.serverName,\n                    procName: msg.procName\n                });\n            };\n            this.parent.acquire(this, (err, connection, config)=>{\n                if (err) return callback(err);\n                debug(\"connection(%d): borrowed to request #%d\", IDS.get(connection), IDS.get(this));\n                let row;\n                if (this.canceled) {\n                    debug(\"request(%d): canceled\", IDS.get(this));\n                    this.parent.release(connection);\n                    return callback(new RequestError(\"Canceled.\", \"ECANCEL\"));\n                }\n                this._cancel = ()=>{\n                    debug(\"request(%d): cancel\", IDS.get(this));\n                    connection.cancel();\n                };\n                // attach handler to handle multiple error messages\n                connection.on(\"infoMessage\", errorHandlers.infoMessage = handleInfo);\n                connection.on(\"errorMessage\", errorHandlers.errorMessage = handleError.bind(null, false, connection));\n                connection.on(\"error\", errorHandlers.error = handleError.bind(null, true, connection));\n                debug(\"request(%d): query\", IDS.get(this), command);\n                const req = new tds.Request(command, (err)=>{\n                    // tedious v15 has started using AggregateErrors to wrap multiple errors into single error objects\n                    (err?.errors ? err.errors : [\n                        err\n                    ]).forEach((e, i, { length })=>{\n                        // to make sure we handle no-sql errors as well\n                        if (e && (!errors.length || errors.length && errors.length >= length && e.message !== errors[errors.length - length + i].message)) {\n                            e = new RequestError(e, \"EREQUEST\");\n                            if (this.stream) this.emit(\"error\", e);\n                            errors.push(e);\n                        }\n                    });\n                    // process batch outputs\n                    if (batchHasOutput) {\n                        if (!this.stream) batchLastRow = recordsets.pop()[0];\n                        for(const name in batchLastRow){\n                            const value = batchLastRow[name];\n                            if (name !== \"___return___\") {\n                                output[name] = value;\n                            }\n                        }\n                    }\n                    delete this._cancel;\n                    let error;\n                    if (errors.length && !this.stream) {\n                        error = errors.pop();\n                        error.precedingErrors = errors;\n                    }\n                    if (!hasReturned) {\n                        for(const event in errorHandlers){\n                            connection.removeListener(event, errorHandlers[event]);\n                        }\n                        this.parent.release(connection);\n                        hasReturned = true;\n                        if (error) {\n                            debug(\"request(%d): failed\", IDS.get(this), error);\n                        } else {\n                            debug(\"request(%d): completed\", IDS.get(this));\n                        }\n                        if (this.stream) {\n                            callback(null, null, output, rowsAffected, recordsetcolumns);\n                        } else {\n                            callback(error, recordsets, output, rowsAffected, recordsetcolumns);\n                        }\n                    }\n                });\n                this._setCurrentRequest(req);\n                req.on(\"columnMetadata\", (metadata)=>{\n                    columns = createColumns(metadata, this.arrayRowMode);\n                    isChunkedRecordset = false;\n                    if (metadata.length === 1 && (metadata[0].colName === JSON_COLUMN_ID || metadata[0].colName === XML_COLUMN_ID)) {\n                        isChunkedRecordset = true;\n                        chunksBuffer = [];\n                    }\n                    if (this.stream) {\n                        if (this._isBatch) {\n                            // don't stream recordset with output values in batches\n                            if (!columns.___return___) {\n                                this.emit(\"recordset\", columns);\n                            }\n                        } else {\n                            this.emit(\"recordset\", columns);\n                        }\n                    }\n                    if (this.arrayRowMode) recordsetcolumns.push(columns);\n                });\n                const doneHandler = (rowCount, more)=>{\n                    if (rowCount != null) {\n                        rowsAffected.push(rowCount);\n                        if (this.stream) {\n                            this.emit(\"rowsaffected\", rowCount);\n                        }\n                    }\n                    // this function is called even when select only set variables so we should skip adding a new recordset\n                    if (Object.keys(columns).length === 0) return;\n                    if (isChunkedRecordset) {\n                        const concatenatedChunks = chunksBuffer.join(\"\");\n                        if (columns[JSON_COLUMN_ID] && config.parseJSON === true) {\n                            try {\n                                if (concatenatedChunks === \"\") {\n                                    row = null;\n                                } else {\n                                    row = JSON.parse(concatenatedChunks);\n                                }\n                            } catch (ex) {\n                                row = null;\n                                const ex2 = new RequestError(new Error(`Failed to parse incoming JSON. ${ex.message}`), \"EJSON\");\n                                if (this.stream) this.emit(\"error\", ex2);\n                                // we must collect errors even in stream mode\n                                errors.push(ex2);\n                            }\n                        } else {\n                            row = {};\n                            row[Object.keys(columns)[0]] = concatenatedChunks;\n                        }\n                        chunksBuffer = null;\n                        if (this.stream) {\n                            this.emit(\"row\", row);\n                        } else {\n                            recordset.push(row);\n                        }\n                    }\n                    if (!this.stream) {\n                        // all rows of current recordset loaded\n                        Object.defineProperty(recordset, \"columns\", {\n                            enumerable: false,\n                            configurable: true,\n                            value: columns\n                        });\n                        Object.defineProperty(recordset, \"toTable\", {\n                            enumerable: false,\n                            configurable: true,\n                            value (name) {\n                                return Table.fromRecordset(this, name);\n                            }\n                        });\n                        recordsets.push(recordset);\n                    }\n                    recordset = [];\n                    columns = {};\n                };\n                req.on(\"doneInProc\", doneHandler) // doneInProc handlers are used in both queries and batches\n                ;\n                req.on(\"done\", doneHandler) // done handlers are used in batches\n                ;\n                req.on(\"returnValue\", (parameterName, value, metadata)=>{\n                    output[parameterName] = value;\n                });\n                req.on(\"row\", (columns)=>{\n                    if (!recordset) recordset = [];\n                    if (isChunkedRecordset) {\n                        return chunksBuffer.push(columns[0].value);\n                    }\n                    if (this.arrayRowMode) {\n                        row = [];\n                    } else {\n                        row = {};\n                    }\n                    for (const col of columns){\n                        col.value = valueCorrection(col.value, col.metadata);\n                        if (this.arrayRowMode) {\n                            row.push(col.value);\n                        } else {\n                            const exi = row[col.metadata.colName];\n                            if (exi !== undefined) {\n                                if (exi instanceof Array) {\n                                    exi.push(col.value);\n                                } else {\n                                    row[col.metadata.colName] = [\n                                        exi,\n                                        col.value\n                                    ];\n                                }\n                            } else {\n                                row[col.metadata.colName] = col.value;\n                            }\n                        }\n                    }\n                    if (this.stream) {\n                        if (this._isBatch) {\n                            // dont stream recordset with output values in batches\n                            if (row.___return___) {\n                                batchLastRow = row;\n                            } else {\n                                this.emit(\"row\", row);\n                            }\n                        } else {\n                            this.emit(\"row\", row);\n                        }\n                    } else {\n                        recordset.push(row);\n                    }\n                });\n                if (this._isBatch) {\n                    if (Object.keys(this.parameters).length) {\n                        for(const name in this.parameters){\n                            if (!objectHasProperty(this.parameters, name)) {\n                                continue;\n                            }\n                            const param = this.parameters[name];\n                            try {\n                                param.value = getTediousType(param.type).validate(param.value, this.parent.collation);\n                            } catch (e) {\n                                e.message = `Validation failed for parameter '${name}'. ${e.message}`;\n                                const err = new RequestError(e, \"EPARAM\");\n                                this.parent.release(connection);\n                                return callback(err);\n                            }\n                        }\n                        const declarations = [];\n                        for(const name in this.parameters){\n                            if (!objectHasProperty(this.parameters, name)) {\n                                continue;\n                            }\n                            const param = this.parameters[name];\n                            declarations.push(`@${name} ${declare(param.type, param)}`);\n                        }\n                        const assigns = [];\n                        for(const name in this.parameters){\n                            if (!objectHasProperty(this.parameters, name)) {\n                                continue;\n                            }\n                            const param = this.parameters[name];\n                            assigns.push(`@${name} = ${cast(param.value, param.type, param)}`);\n                        }\n                        const selects = [];\n                        for(const name in this.parameters){\n                            if (!objectHasProperty(this.parameters, name)) {\n                                continue;\n                            }\n                            const param = this.parameters[name];\n                            if (param.io === 2) {\n                                selects.push(`@${name} as [${name}]`);\n                            }\n                        }\n                        batchHasOutput = selects.length > 0;\n                        req.sqlTextOrProcedure = `declare ${declarations.join(\", \")};select ${assigns.join(\", \")};${req.sqlTextOrProcedure};${batchHasOutput ? `select 1 as [___return___], ${selects.join(\", \")}` : \"\"}`;\n                    }\n                } else {\n                    for(const name in this.parameters){\n                        if (!objectHasProperty(this.parameters, name)) {\n                            continue;\n                        }\n                        const param = this.parameters[name];\n                        if (param.io === 1) {\n                            req.addParameter(param.name, getTediousType(param.type), parameterCorrection(param.value), {\n                                length: param.length,\n                                scale: param.scale,\n                                precision: param.precision\n                            });\n                        } else {\n                            req.addOutputParameter(param.name, getTediousType(param.type), parameterCorrection(param.value), {\n                                length: param.length,\n                                scale: param.scale,\n                                precision: param.precision\n                            });\n                        }\n                    }\n                }\n                try {\n                    connection[this._isBatch ? \"execSqlBatch\" : \"execSql\"](req);\n                } catch (error) {\n                    handleError(true, connection, error);\n                }\n            });\n        });\n    }\n    /*\n  Execute stored procedure with specified parameters.\n  */ _execute(procedure, callback) {\n        super._execute(procedure, (err)=>{\n            if (err) return callback(err);\n            const recordsets = [];\n            const recordsetcolumns = [];\n            const errors = [];\n            const errorHandlers = {};\n            const output = {};\n            const rowsAffected = [];\n            let columns = {};\n            let recordset = [];\n            let returnValue = 0;\n            let isChunkedRecordset = false;\n            let chunksBuffer = null;\n            let hasReturned = false;\n            const handleError = (doReturn, connection, info)=>{\n                let err = new Error(info.message);\n                err.info = info;\n                err = new RequestError(err, \"EREQUEST\");\n                if (this.stream) {\n                    this.emit(\"error\", err);\n                } else {\n                    if (doReturn && !hasReturned) {\n                        if (connection) {\n                            for(const event in errorHandlers){\n                                connection.removeListener(event, errorHandlers[event]);\n                            }\n                            this.parent.release(connection);\n                        }\n                        hasReturned = true;\n                        callback(err);\n                    }\n                }\n                // we must collect errors even in stream mode\n                errors.push(err);\n            };\n            const handleInfo = (msg)=>{\n                this.emit(\"info\", {\n                    message: msg.message,\n                    number: msg.number,\n                    state: msg.state,\n                    class: msg.class,\n                    lineNumber: msg.lineNumber,\n                    serverName: msg.serverName,\n                    procName: msg.procName\n                });\n            };\n            this.parent.acquire(this, (err, connection, config)=>{\n                if (err) return callback(err);\n                debug(\"connection(%d): borrowed to request #%d\", IDS.get(connection), IDS.get(this));\n                let row;\n                if (this.canceled) {\n                    debug(\"request(%d): canceled\", IDS.get(this));\n                    this.parent.release(connection);\n                    return callback(new RequestError(\"Canceled.\", \"ECANCEL\"));\n                }\n                this._cancel = ()=>{\n                    debug(\"request(%d): cancel\", IDS.get(this));\n                    connection.cancel();\n                };\n                // attach handler to handle multiple error messages\n                connection.on(\"infoMessage\", errorHandlers.infoMessage = handleInfo);\n                connection.on(\"errorMessage\", errorHandlers.errorMessage = handleError.bind(null, false, connection));\n                connection.on(\"error\", errorHandlers.error = handleError.bind(null, true, connection));\n                if (debug.enabled) {\n                    // log stored procedure executions and provided parameters\n                    const params = Object.keys(this.parameters).map((k)=>this.parameters[k]);\n                    // cut long string parameters short to keep log somewhat clean\n                    const logValue = (s)=>typeof s === \"string\" && s.length > 50 ? s.substring(0, 47) + \"...\" : s;\n                    // format parameter names as 'my_parameter [sql.Int]'\n                    const logName = (param)=>param.name + \" [sql.\" + param.type.name + \"]\";\n                    const logParams = {};\n                    params.forEach((p)=>{\n                        logParams[logName(p)] = logValue(p.value);\n                    });\n                    debug(\"request(%d): execute %s %O\", IDS.get(this), procedure, logParams);\n                }\n                const req = new tds.Request(procedure, (err)=>{\n                    // to make sure we handle no-sql errors as well\n                    if (err && (!errors.length || errors.length && err.message !== errors[errors.length - 1].message)) {\n                        err = new RequestError(err, \"EREQUEST\");\n                        if (this.stream) this.emit(\"error\", err);\n                        errors.push(err);\n                    }\n                    delete this._cancel;\n                    let error;\n                    if (errors.length && !this.stream) {\n                        error = errors.pop();\n                        error.precedingErrors = errors;\n                    }\n                    if (!hasReturned) {\n                        for(const event in errorHandlers){\n                            connection.removeListener(event, errorHandlers[event]);\n                        }\n                        this.parent.release(connection);\n                        hasReturned = true;\n                        if (error) {\n                            debug(\"request(%d): failed\", IDS.get(this), error);\n                        } else {\n                            debug(\"request(%d): complete\", IDS.get(this));\n                        }\n                        if (this.stream) {\n                            callback(null, null, output, returnValue, rowsAffected, recordsetcolumns);\n                        } else {\n                            callback(error, recordsets, output, returnValue, rowsAffected, recordsetcolumns);\n                        }\n                    }\n                });\n                this._setCurrentRequest(req);\n                req.on(\"columnMetadata\", (metadata)=>{\n                    columns = createColumns(metadata, this.arrayRowMode);\n                    isChunkedRecordset = false;\n                    if (metadata.length === 1 && (metadata[0].colName === JSON_COLUMN_ID || metadata[0].colName === XML_COLUMN_ID)) {\n                        isChunkedRecordset = true;\n                        chunksBuffer = [];\n                    }\n                    if (this.stream) this.emit(\"recordset\", columns);\n                    if (this.arrayRowMode) recordsetcolumns.push(columns);\n                });\n                req.on(\"row\", (columns)=>{\n                    if (!recordset) recordset = [];\n                    if (isChunkedRecordset) {\n                        return chunksBuffer.push(columns[0].value);\n                    }\n                    if (this.arrayRowMode) {\n                        row = [];\n                    } else {\n                        row = {};\n                    }\n                    for (const col of columns){\n                        col.value = valueCorrection(col.value, col.metadata);\n                        if (this.arrayRowMode) {\n                            row.push(col.value);\n                        } else {\n                            const exi = row[col.metadata.colName];\n                            if (exi != null) {\n                                if (exi instanceof Array) {\n                                    exi.push(col.value);\n                                } else {\n                                    row[col.metadata.colName] = [\n                                        exi,\n                                        col.value\n                                    ];\n                                }\n                            } else {\n                                row[col.metadata.colName] = col.value;\n                            }\n                        }\n                    }\n                    if (this.stream) {\n                        this.emit(\"row\", row);\n                    } else {\n                        recordset.push(row);\n                    }\n                });\n                req.on(\"doneInProc\", (rowCount, more)=>{\n                    if (rowCount != null) {\n                        rowsAffected.push(rowCount);\n                        if (this.stream) {\n                            this.emit(\"rowsaffected\", rowCount);\n                        }\n                    }\n                    // filter empty recordsets when NOCOUNT is OFF\n                    if (Object.keys(columns).length === 0) return;\n                    if (isChunkedRecordset) {\n                        if (columns[JSON_COLUMN_ID] && config.parseJSON === true) {\n                            try {\n                                if (chunksBuffer.length === 0) {\n                                    row = null;\n                                } else {\n                                    row = JSON.parse(chunksBuffer.join(\"\"));\n                                }\n                            } catch (ex) {\n                                row = null;\n                                const ex2 = new RequestError(new Error(`Failed to parse incoming JSON. ${ex.message}`), \"EJSON\");\n                                if (this.stream) this.emit(\"error\", ex2);\n                                // we must collect errors even in stream mode\n                                errors.push(ex2);\n                            }\n                        } else {\n                            row = {};\n                            row[Object.keys(columns)[0]] = chunksBuffer.join(\"\");\n                        }\n                        chunksBuffer = null;\n                        if (this.stream) {\n                            this.emit(\"row\", row);\n                        } else {\n                            recordset.push(row);\n                        }\n                    }\n                    if (!this.stream) {\n                        // all rows of current recordset loaded\n                        Object.defineProperty(recordset, \"columns\", {\n                            enumerable: false,\n                            configurable: true,\n                            value: columns\n                        });\n                        Object.defineProperty(recordset, \"toTable\", {\n                            enumerable: false,\n                            configurable: true,\n                            value (name) {\n                                return Table.fromRecordset(this, name);\n                            }\n                        });\n                        recordsets.push(recordset);\n                    }\n                    recordset = [];\n                    columns = {};\n                });\n                req.on(\"doneProc\", (rowCount, more, returnStatus)=>{\n                    returnValue = returnStatus;\n                });\n                req.on(\"returnValue\", (parameterName, value, metadata)=>{\n                    output[parameterName] = value;\n                });\n                for(const name in this.parameters){\n                    if (!objectHasProperty(this.parameters, name)) {\n                        continue;\n                    }\n                    const param = this.parameters[name];\n                    if (param.io === 1) {\n                        req.addParameter(param.name, getTediousType(param.type), parameterCorrection(param.value), {\n                            length: param.length,\n                            scale: param.scale,\n                            precision: param.precision\n                        });\n                    } else {\n                        req.addOutputParameter(param.name, getTediousType(param.type), parameterCorrection(param.value), {\n                            length: param.length,\n                            scale: param.scale,\n                            precision: param.precision\n                        });\n                    }\n                }\n                connection.callProcedure(req);\n            });\n        });\n    }\n    _pause() {\n        super._pause();\n        if (this._currentRequest) {\n            this._currentRequest.pause();\n        }\n    }\n    _resume() {\n        super._resume();\n        if (this._currentRequest) {\n            this._currentRequest.resume();\n        }\n    }\n}\nmodule.exports = Request;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbXNzcWwvbGliL3RlZGlvdXMvcmVxdWVzdC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUVBLE1BQU1BLE1BQU1DLG1CQUFPQSxDQUFDO0FBQ3BCLE1BQU1DLFFBQVFELG1CQUFPQSxDQUFDLHdEQUFTO0FBQy9CLE1BQU1FLGNBQWNGLG1CQUFPQSxDQUFDO0FBQzVCLE1BQU1HLGVBQWVILG1CQUFPQSxDQUFDO0FBQzdCLE1BQU0sRUFBRUksR0FBRyxFQUFFQyxpQkFBaUIsRUFBRSxHQUFHTCxtQkFBT0EsQ0FBQztBQUMzQyxNQUFNLEVBQUVNLEtBQUssRUFBRUMsWUFBWSxFQUFFQyxPQUFPLEVBQUVDLElBQUksRUFBRSxHQUFHVCxtQkFBT0EsQ0FBQztBQUN2RCxNQUFNVSxRQUFRVixtQkFBT0EsQ0FBQztBQUN0QixNQUFNLEVBQUVXLFNBQVNDLEdBQUcsRUFBRSxHQUFHWixtQkFBT0EsQ0FBQztBQUNqQyxNQUFNLEVBQUVhLFlBQVksRUFBRSxHQUFHYixtQkFBT0EsQ0FBQztBQUVqQyxNQUFNYyxpQkFBaUI7QUFDdkIsTUFBTUMsZ0JBQWdCO0FBRXRCLE1BQU1DLFVBQVU7SUFDZEMsTUFBTTtJQUNOQyxXQUFXO0lBQ1hDLFVBQVU7SUFDVkMsUUFBUTtJQUNSQyxNQUFNO0lBQ05DLFFBQVE7SUFDUkMsVUFBVTtBQUNaO0FBRUEsTUFBTUMsaUJBQWlCLFNBQVVDLElBQUk7SUFDbkMsT0FBUUE7UUFDTixLQUFLbkIsTUFBTW9CLE9BQU87WUFBRSxPQUFPM0IsSUFBSU8sS0FBSyxDQUFDb0IsT0FBTztRQUM1QyxLQUFLcEIsTUFBTXFCLFFBQVE7WUFBRSxPQUFPNUIsSUFBSU8sS0FBSyxDQUFDcUIsUUFBUTtRQUM5QyxLQUFLckIsTUFBTXNCLElBQUk7WUFBRSxPQUFPN0IsSUFBSU8sS0FBSyxDQUFDc0IsSUFBSTtRQUN0QyxLQUFLdEIsTUFBTXVCLEdBQUc7WUFBRSxPQUFPOUIsSUFBSU8sS0FBSyxDQUFDdUIsR0FBRztRQUNwQyxL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ZW5kLy4vbm9kZV9tb2R1bGVzL21zc3FsL2xpYi90ZWRpb3VzL3JlcXVlc3QuanM/MjhhNyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcblxuY29uc3QgdGRzID0gcmVxdWlyZSgndGVkaW91cycpXG5jb25zdCBkZWJ1ZyA9IHJlcXVpcmUoJ2RlYnVnJykoJ21zc3FsOnRlZGknKVxuY29uc3QgQmFzZVJlcXVlc3QgPSByZXF1aXJlKCcuLi9iYXNlL3JlcXVlc3QnKVxuY29uc3QgUmVxdWVzdEVycm9yID0gcmVxdWlyZSgnLi4vZXJyb3IvcmVxdWVzdC1lcnJvcicpXG5jb25zdCB7IElEUywgb2JqZWN0SGFzUHJvcGVydHkgfSA9IHJlcXVpcmUoJy4uL3V0aWxzJylcbmNvbnN0IHsgVFlQRVMsIERFQ0xBUkFUSU9OUywgZGVjbGFyZSwgY2FzdCB9ID0gcmVxdWlyZSgnLi4vZGF0YXR5cGVzJylcbmNvbnN0IFRhYmxlID0gcmVxdWlyZSgnLi4vdGFibGUnKVxuY29uc3QgeyBQQVJTRVJTOiBVRFQgfSA9IHJlcXVpcmUoJy4uL3VkdCcpXG5jb25zdCB7IHZhbHVlSGFuZGxlciB9ID0gcmVxdWlyZSgnLi4vc2hhcmVkJylcblxuY29uc3QgSlNPTl9DT0xVTU5fSUQgPSAnSlNPTl9GNTJFMkI2MS0xOEExLTExZDEtQjEwNS0wMDgwNUY0OTkxNkInXG5jb25zdCBYTUxfQ09MVU1OX0lEID0gJ1hNTF9GNTJFMkI2MS0xOEExLTExZDEtQjEwNS0wMDgwNUY0OTkxNkInXG5cbmNvbnN0IE5fVFlQRVMgPSB7XG4gIEJpdE46IDB4NjgsXG4gIERhdGVUaW1lTjogMHg2RixcbiAgRGVjaW1hbE46IDB4NkEsXG4gIEZsb2F0TjogMHg2RCxcbiAgSW50TjogMHgyNixcbiAgTW9uZXlOOiAweDZFLFxuICBOdW1lcmljTjogMHg2Q1xufVxuXG5jb25zdCBnZXRUZWRpb3VzVHlwZSA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgVFlQRVMuVmFyQ2hhcjogcmV0dXJuIHRkcy5UWVBFUy5WYXJDaGFyXG4gICAgY2FzZSBUWVBFUy5OVmFyQ2hhcjogcmV0dXJuIHRkcy5UWVBFUy5OVmFyQ2hhclxuICAgIGNhc2UgVFlQRVMuVGV4dDogcmV0dXJuIHRkcy5UWVBFUy5UZXh0XG4gICAgY2FzZSBUWVBFUy5JbnQ6IHJldHVybiB0ZHMuVFlQRVMuSW50XG4gICAgY2FzZSBUWVBFUy5CaWdJbnQ6IHJldHVybiB0ZHMuVFlQRVMuQmlnSW50XG4gICAgY2FzZSBUWVBFUy5UaW55SW50OiByZXR1cm4gdGRzLlRZUEVTLlRpbnlJbnRcbiAgICBjYXNlIFRZUEVTLlNtYWxsSW50OiByZXR1cm4gdGRzLlRZUEVTLlNtYWxsSW50XG4gICAgY2FzZSBUWVBFUy5CaXQ6IHJldHVybiB0ZHMuVFlQRVMuQml0XG4gICAgY2FzZSBUWVBFUy5GbG9hdDogcmV0dXJuIHRkcy5UWVBFUy5GbG9hdFxuICAgIGNhc2UgVFlQRVMuRGVjaW1hbDogcmV0dXJuIHRkcy5UWVBFUy5EZWNpbWFsXG4gICAgY2FzZSBUWVBFUy5OdW1lcmljOiByZXR1cm4gdGRzLlRZUEVTLk51bWVyaWNcbiAgICBjYXNlIFRZUEVTLlJlYWw6IHJldHVybiB0ZHMuVFlQRVMuUmVhbFxuICAgIGNhc2UgVFlQRVMuTW9uZXk6IHJldHVybiB0ZHMuVFlQRVMuTW9uZXlcbiAgICBjYXNlIFRZUEVTLlNtYWxsTW9uZXk6IHJldHVybiB0ZHMuVFlQRVMuU21hbGxNb25leVxuICAgIGNhc2UgVFlQRVMuVGltZTogcmV0dXJuIHRkcy5UWVBFUy5UaW1lXG4gICAgY2FzZSBUWVBFUy5EYXRlOiByZXR1cm4gdGRzLlRZUEVTLkRhdGVcbiAgICBjYXNlIFRZUEVTLkRhdGVUaW1lOiByZXR1cm4gdGRzLlRZUEVTLkRhdGVUaW1lXG4gICAgY2FzZSBUWVBFUy5EYXRlVGltZTI6IHJldHVybiB0ZHMuVFlQRVMuRGF0ZVRpbWUyXG4gICAgY2FzZSBUWVBFUy5EYXRlVGltZU9mZnNldDogcmV0dXJuIHRkcy5UWVBFUy5EYXRlVGltZU9mZnNldFxuICAgIGNhc2UgVFlQRVMuU21hbGxEYXRlVGltZTogcmV0dXJuIHRkcy5UWVBFUy5TbWFsbERhdGVUaW1lXG4gICAgY2FzZSBUWVBFUy5VbmlxdWVJZGVudGlmaWVyOiByZXR1cm4gdGRzLlRZUEVTLlVuaXF1ZUlkZW50aWZpZXJcbiAgICBjYXNlIFRZUEVTLlhtbDogcmV0dXJuIHRkcy5UWVBFUy5OVmFyQ2hhclxuICAgIGNhc2UgVFlQRVMuQ2hhcjogcmV0dXJuIHRkcy5UWVBFUy5DaGFyXG4gICAgY2FzZSBUWVBFUy5OQ2hhcjogcmV0dXJuIHRkcy5UWVBFUy5OQ2hhclxuICAgIGNhc2UgVFlQRVMuTlRleHQ6IHJldHVybiB0ZHMuVFlQRVMuTlZhckNoYXJcbiAgICBjYXNlIFRZUEVTLkltYWdlOiByZXR1cm4gdGRzLlRZUEVTLkltYWdlXG4gICAgY2FzZSBUWVBFUy5CaW5hcnk6IHJldHVybiB0ZHMuVFlQRVMuQmluYXJ5XG4gICAgY2FzZSBUWVBFUy5WYXJCaW5hcnk6IHJldHVybiB0ZHMuVFlQRVMuVmFyQmluYXJ5XG4gICAgY2FzZSBUWVBFUy5VRFQ6IGNhc2UgVFlQRVMuR2VvZ3JhcGh5OiBjYXNlIFRZUEVTLkdlb21ldHJ5OiByZXR1cm4gdGRzLlRZUEVTLlVEVFxuICAgIGNhc2UgVFlQRVMuVFZQOiByZXR1cm4gdGRzLlRZUEVTLlRWUFxuICAgIGNhc2UgVFlQRVMuVmFyaWFudDogcmV0dXJuIHRkcy5UWVBFUy5WYXJpYW50XG4gICAgZGVmYXVsdDogcmV0dXJuIHR5cGVcbiAgfVxufVxuXG5jb25zdCBnZXRNc3NxbFR5cGUgPSBmdW5jdGlvbiAodHlwZSwgbGVuZ3RoKSB7XG4gIGlmICh0eXBlb2YgdHlwZSAhPT0gJ29iamVjdCcpIHJldHVybiB1bmRlZmluZWRcblxuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIHRkcy5UWVBFUy5DaGFyOiByZXR1cm4gVFlQRVMuQ2hhclxuICAgIGNhc2UgdGRzLlRZUEVTLk5DaGFyOiByZXR1cm4gVFlQRVMuTkNoYXJcbiAgICBjYXNlIHRkcy5UWVBFUy5WYXJDaGFyOiByZXR1cm4gVFlQRVMuVmFyQ2hhclxuICAgIGNhc2UgdGRzLlRZUEVTLk5WYXJDaGFyOiByZXR1cm4gVFlQRVMuTlZhckNoYXJcbiAgICBjYXNlIHRkcy5UWVBFUy5UZXh0OiByZXR1cm4gVFlQRVMuVGV4dFxuICAgIGNhc2UgdGRzLlRZUEVTLk5UZXh0OiByZXR1cm4gVFlQRVMuTlRleHRcbiAgICBjYXNlIHRkcy5UWVBFUy5JbnQ6IHJldHVybiBUWVBFUy5JbnRcbiAgICBjYXNlIHRkcy5UWVBFUy5CaWdJbnQ6IHJldHVybiBUWVBFUy5CaWdJbnRcbiAgICBjYXNlIHRkcy5UWVBFUy5UaW55SW50OiByZXR1cm4gVFlQRVMuVGlueUludFxuICAgIGNhc2UgdGRzLlRZUEVTLlNtYWxsSW50OiByZXR1cm4gVFlQRVMuU21hbGxJbnRcbiAgICBjYXNlIHRkcy5UWVBFUy5CaXQ6IHJldHVybiBUWVBFUy5CaXRcbiAgICBjYXNlIHRkcy5UWVBFUy5GbG9hdDogcmV0dXJuIFRZUEVTLkZsb2F0XG4gICAgY2FzZSB0ZHMuVFlQRVMuUmVhbDogcmV0dXJuIFRZUEVTLlJlYWxcbiAgICBjYXNlIHRkcy5UWVBFUy5Nb25leTogcmV0dXJuIFRZUEVTLk1vbmV5XG4gICAgY2FzZSB0ZHMuVFlQRVMuU21hbGxNb25leTogcmV0dXJuIFRZUEVTLlNtYWxsTW9uZXlcbiAgICBjYXNlIHRkcy5UWVBFUy5OdW1lcmljOiByZXR1cm4gVFlQRVMuTnVtZXJpY1xuICAgIGNhc2UgdGRzLlRZUEVTLkRlY2ltYWw6IHJldHVybiBUWVBFUy5EZWNpbWFsXG4gICAgY2FzZSB0ZHMuVFlQRVMuRGF0ZVRpbWU6IHJldHVybiBUWVBFUy5EYXRlVGltZVxuICAgIGNhc2UgdGRzLlRZUEVTLlRpbWU6IHJldHVybiBUWVBFUy5UaW1lXG4gICAgY2FzZSB0ZHMuVFlQRVMuRGF0ZTogcmV0dXJuIFRZUEVTLkRhdGVcbiAgICBjYXNlIHRkcy5UWVBFUy5EYXRlVGltZTI6IHJldHVybiBUWVBFUy5EYXRlVGltZTJcbiAgICBjYXNlIHRkcy5UWVBFUy5EYXRlVGltZU9mZnNldDogcmV0dXJuIFRZUEVTLkRhdGVUaW1lT2Zmc2V0XG4gICAgY2FzZSB0ZHMuVFlQRVMuU21hbGxEYXRlVGltZTogcmV0dXJuIFRZUEVTLlNtYWxsRGF0ZVRpbWVcbiAgICBjYXNlIHRkcy5UWVBFUy5VbmlxdWVJZGVudGlmaWVyOiByZXR1cm4gVFlQRVMuVW5pcXVlSWRlbnRpZmllclxuICAgIGNhc2UgdGRzLlRZUEVTLkltYWdlOiByZXR1cm4gVFlQRVMuSW1hZ2VcbiAgICBjYXNlIHRkcy5UWVBFUy5CaW5hcnk6IHJldHVybiBUWVBFUy5CaW5hcnlcbiAgICBjYXNlIHRkcy5UWVBFUy5WYXJCaW5hcnk6IHJldHVybiBUWVBFUy5WYXJCaW5hcnlcbiAgICBjYXNlIHRkcy5UWVBFUy5YbWw6IHJldHVybiBUWVBFUy5YbWxcbiAgICBjYXNlIHRkcy5UWVBFUy5VRFQ6IHJldHVybiBUWVBFUy5VRFRcbiAgICBjYXNlIHRkcy5UWVBFUy5UVlA6IHJldHVybiBUWVBFUy5UVlBcbiAgICBjYXNlIHRkcy5UWVBFUy5WYXJpYW50OiByZXR1cm4gVFlQRVMuVmFyaWFudFxuICAgIGRlZmF1bHQ6XG4gICAgICBzd2l0Y2ggKHR5cGUuaWQpIHtcbiAgICAgICAgY2FzZSBOX1RZUEVTLkJpdE46IHJldHVybiBUWVBFUy5CaXRcbiAgICAgICAgY2FzZSBOX1RZUEVTLk51bWVyaWNOOiByZXR1cm4gVFlQRVMuTnVtZXJpY1xuICAgICAgICBjYXNlIE5fVFlQRVMuRGVjaW1hbE46IHJldHVybiBUWVBFUy5EZWNpbWFsXG4gICAgICAgIGNhc2UgTl9UWVBFUy5JbnROOlxuICAgICAgICAgIGlmIChsZW5ndGggPT09IDgpIHJldHVybiBUWVBFUy5CaWdJbnRcbiAgICAgICAgICBpZiAobGVuZ3RoID09PSA0KSByZXR1cm4gVFlQRVMuSW50XG4gICAgICAgICAgaWYgKGxlbmd0aCA9PT0gMikgcmV0dXJuIFRZUEVTLlNtYWxsSW50XG4gICAgICAgICAgcmV0dXJuIFRZUEVTLlRpbnlJbnRcbiAgICAgICAgY2FzZSBOX1RZUEVTLkZsb2F0TjpcbiAgICAgICAgICBpZiAobGVuZ3RoID09PSA4KSByZXR1cm4gVFlQRVMuRmxvYXRcbiAgICAgICAgICByZXR1cm4gVFlQRVMuUmVhbFxuICAgICAgICBjYXNlIE5fVFlQRVMuTW9uZXlOOlxuICAgICAgICAgIGlmIChsZW5ndGggPT09IDgpIHJldHVybiBUWVBFUy5Nb25leVxuICAgICAgICAgIHJldHVybiBUWVBFUy5TbWFsbE1vbmV5XG4gICAgICAgIGNhc2UgTl9UWVBFUy5EYXRlVGltZU46XG4gICAgICAgICAgaWYgKGxlbmd0aCA9PT0gOCkgcmV0dXJuIFRZUEVTLkRhdGVUaW1lXG4gICAgICAgICAgcmV0dXJuIFRZUEVTLlNtYWxsRGF0ZVRpbWVcbiAgICAgIH1cbiAgfVxufVxuXG5jb25zdCBjcmVhdGVDb2x1bW5zID0gZnVuY3Rpb24gKG1ldGFkYXRhLCBhcnJheVJvd01vZGUpIHtcbiAgbGV0IG91dCA9IHt9XG4gIGlmIChhcnJheVJvd01vZGUpIG91dCA9IFtdXG4gIGZvciAobGV0IGluZGV4ID0gMCwgbGVuZ3RoID0gbWV0YWRhdGEubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgIGNvbnN0IGNvbHVtbiA9IG1ldGFkYXRhW2luZGV4XVxuICAgIGNvbnN0IG91dENvbHVtbiA9IHtcbiAgICAgIGluZGV4LFxuICAgICAgbmFtZTogY29sdW1uLmNvbE5hbWUsXG4gICAgICBsZW5ndGg6IGNvbHVtbi5kYXRhTGVuZ3RoLFxuICAgICAgdHlwZTogZ2V0TXNzcWxUeXBlKGNvbHVtbi50eXBlLCBjb2x1bW4uZGF0YUxlbmd0aCksXG4gICAgICBzY2FsZTogY29sdW1uLnNjYWxlLFxuICAgICAgcHJlY2lzaW9uOiBjb2x1bW4ucHJlY2lzaW9uLFxuICAgICAgbnVsbGFibGU6ICEhKGNvbHVtbi5mbGFncyAmIDB4MDEpLFxuICAgICAgY2FzZVNlbnNpdGl2ZTogISEoY29sdW1uLmZsYWdzICYgMHgwMiksXG4gICAgICBpZGVudGl0eTogISEoY29sdW1uLmZsYWdzICYgMHgxMCksXG4gICAgICByZWFkT25seTogIShjb2x1bW4uZmxhZ3MgJiAweDBDKVxuICAgIH1cblxuICAgIGlmIChjb2x1bW4udWR0SW5mbykge1xuICAgICAgb3V0Q29sdW1uLnVkdCA9IHtcbiAgICAgICAgbmFtZTogY29sdW1uLnVkdEluZm8udHlwZU5hbWUsXG4gICAgICAgIGRhdGFiYXNlOiBjb2x1bW4udWR0SW5mby5kYm5hbWUsXG4gICAgICAgIHNjaGVtYTogY29sdW1uLnVkdEluZm8ub3duaW5nU2NoZW1hLFxuICAgICAgICBhc3NlbWJseTogY29sdW1uLnVkdEluZm8uYXNzZW1ibHlOYW1lXG4gICAgICB9XG5cbiAgICAgIGlmIChERUNMQVJBVElPTlNbY29sdW1uLnVkdEluZm8udHlwZU5hbWVdKSB7XG4gICAgICAgIG91dENvbHVtbi50eXBlID0gREVDTEFSQVRJT05TW2NvbHVtbi51ZHRJbmZvLnR5cGVOYW1lXVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChhcnJheVJvd01vZGUpIHtcbiAgICAgIG91dC5wdXNoKG91dENvbHVtbilcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0W2NvbHVtbi5jb2xOYW1lXSA9IG91dENvbHVtblxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvdXRcbn1cblxuY29uc3QgdmFsdWVDb3JyZWN0aW9uID0gZnVuY3Rpb24gKHZhbHVlLCBtZXRhZGF0YSkge1xuICBjb25zdCB0eXBlID0gZ2V0TXNzcWxUeXBlKG1ldGFkYXRhLnR5cGUpXG4gIGlmICh2YWx1ZUhhbmRsZXIuaGFzKHR5cGUpKSB7XG4gICAgcmV0dXJuIHZhbHVlSGFuZGxlci5nZXQodHlwZSkodmFsdWUpXG4gIH0gZWxzZSBpZiAoKG1ldGFkYXRhLnR5cGUgPT09IHRkcy5UWVBFUy5VRFQpICYmICh2YWx1ZSAhPSBudWxsKSkge1xuICAgIGlmIChVRFRbbWV0YWRhdGEudWR0SW5mby50eXBlTmFtZV0pIHtcbiAgICAgIHJldHVybiBVRFRbbWV0YWRhdGEudWR0SW5mby50eXBlTmFtZV0odmFsdWUpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2YWx1ZVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdmFsdWVcbiAgfVxufVxuXG5jb25zdCBwYXJhbWV0ZXJDb3JyZWN0aW9uID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFRhYmxlKSB7XG4gICAgY29uc3QgdHZwID0ge1xuICAgICAgbmFtZTogdmFsdWUubmFtZSxcbiAgICAgIHNjaGVtYTogdmFsdWUuc2NoZW1hLFxuICAgICAgY29sdW1uczogW10sXG4gICAgICByb3dzOiB2YWx1ZS5yb3dzXG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBjb2wgb2YgdmFsdWUuY29sdW1ucykge1xuICAgICAgdHZwLmNvbHVtbnMucHVzaCh7XG4gICAgICAgIG5hbWU6IGNvbC5uYW1lLFxuICAgICAgICB0eXBlOiBnZXRUZWRpb3VzVHlwZShjb2wudHlwZSksXG4gICAgICAgIGxlbmd0aDogY29sLmxlbmd0aCxcbiAgICAgICAgc2NhbGU6IGNvbC5zY2FsZSxcbiAgICAgICAgcHJlY2lzaW9uOiBjb2wucHJlY2lzaW9uXG4gICAgICB9KVxuICAgIH1cblxuICAgIHJldHVybiB0dnBcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdmFsdWVcbiAgfVxufVxuXG5jbGFzcyBSZXF1ZXN0IGV4dGVuZHMgQmFzZVJlcXVlc3Qge1xuICAvKlxuICBFeGVjdXRlIHNwZWNpZmllZCBzcWwgYmF0Y2guXG4gICovXG5cbiAgX2JhdGNoIChiYXRjaCwgY2FsbGJhY2spIHtcbiAgICB0aGlzLl9pc0JhdGNoID0gdHJ1ZVxuICAgIHRoaXMuX3F1ZXJ5KGJhdGNoLCBjYWxsYmFjaylcbiAgfVxuXG4gIC8qXG4gIEJ1bGsgbG9hZC5cbiAgKi9cblxuICBfYnVsayAodGFibGUsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgc3VwZXIuX2J1bGsodGFibGUsIG9wdGlvbnMsIGVyciA9PiB7XG4gICAgICBpZiAoZXJyKSByZXR1cm4gY2FsbGJhY2soZXJyKVxuXG4gICAgICB0cnkge1xuICAgICAgICB0YWJsZS5fbWFrZUJ1bGsoKVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sobmV3IFJlcXVlc3RFcnJvcihlLCAnRVJFUVVFU1QnKSlcbiAgICAgIH1cblxuICAgICAgaWYgKCF0YWJsZS5uYW1lKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgUmVxdWVzdEVycm9yKCdUYWJsZSBuYW1lIG11c3QgYmUgc3BlY2lmaWVkIGZvciBidWxrIGluc2VydC4nLCAnRU5BTUUnKSlcbiAgICAgIH1cblxuICAgICAgaWYgKHRhYmxlLm5hbWUuY2hhckF0KDApID09PSAnQCcpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBSZXF1ZXN0RXJyb3IoXCJZb3UgY2FuJ3QgdXNlIHRhYmxlIHZhcmlhYmxlcyBmb3IgYnVsayBpbnNlcnQuXCIsICdFTkFNRScpKVxuICAgICAgfVxuXG4gICAgICBjb25zdCBlcnJvcnMgPSBbXVxuICAgICAgY29uc3QgZXJyb3JIYW5kbGVycyA9IHt9XG4gICAgICBsZXQgaGFzUmV0dXJuZWQgPSBmYWxzZVxuXG4gICAgICBjb25zdCBoYW5kbGVFcnJvciA9IChkb1JldHVybiwgY29ubmVjdGlvbiwgaW5mbykgPT4ge1xuICAgICAgICBsZXQgZXJyID0gbmV3IEVycm9yKGluZm8ubWVzc2FnZSlcbiAgICAgICAgZXJyLmluZm8gPSBpbmZvXG4gICAgICAgIGVyciA9IG5ldyBSZXF1ZXN0RXJyb3IoZXJyLCAnRVJFUVVFU1QnKVxuXG4gICAgICAgIGlmICh0aGlzLnN0cmVhbSkge1xuICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBlcnIpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGRvUmV0dXJuICYmICFoYXNSZXR1cm5lZCkge1xuICAgICAgICAgICAgaWYgKGNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBldmVudCBpbiBlcnJvckhhbmRsZXJzKSB7XG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbi5yZW1vdmVMaXN0ZW5lcihldmVudCwgZXJyb3JIYW5kbGVyc1tldmVudF0pXG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB0aGlzLnBhcmVudC5yZWxlYXNlKGNvbm5lY3Rpb24pXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGhhc1JldHVybmVkID0gdHJ1ZVxuICAgICAgICAgICAgY2FsbGJhY2soZXJyKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdlIG11c3QgY29sbGVjdCBlcnJvcnMgZXZlbiBpbiBzdHJlYW0gbW9kZVxuICAgICAgICBlcnJvcnMucHVzaChlcnIpXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGhhbmRsZUluZm8gPSBtc2cgPT4ge1xuICAgICAgICB0aGlzLmVtaXQoJ2luZm8nLCB7XG4gICAgICAgICAgbWVzc2FnZTogbXNnLm1lc3NhZ2UsXG4gICAgICAgICAgbnVtYmVyOiBtc2cubnVtYmVyLFxuICAgICAgICAgIHN0YXRlOiBtc2cuc3RhdGUsXG4gICAgICAgICAgY2xhc3M6IG1zZy5jbGFzcyxcbiAgICAgICAgICBsaW5lTnVtYmVyOiBtc2cubGluZU51bWJlcixcbiAgICAgICAgICBzZXJ2ZXJOYW1lOiBtc2cuc2VydmVyTmFtZSxcbiAgICAgICAgICBwcm9jTmFtZTogbXNnLnByb2NOYW1lXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIHRoaXMucGFyZW50LmFjcXVpcmUodGhpcywgKGVyciwgY29ubmVjdGlvbikgPT4ge1xuICAgICAgICBjb25zdCBjYWxsYmFja1dpdGhSZWxlYXNlID0gKGVyciwgLi4uYXJncykgPT4ge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5yZWxlYXNlKGNvbm5lY3Rpb24pXG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gbm9vcFxuICAgICAgICAgIH1cbiAgICAgICAgICBjYWxsYmFjayhlcnIsIC4uLmFyZ3MpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycikgcmV0dXJuIGNhbGxiYWNrV2l0aFJlbGVhc2UoZXJyKVxuXG4gICAgICAgIGRlYnVnKCdjb25uZWN0aW9uKCVkKTogYm9ycm93ZWQgdG8gcmVxdWVzdCAjJWQnLCBJRFMuZ2V0KGNvbm5lY3Rpb24pLCBJRFMuZ2V0KHRoaXMpKVxuXG4gICAgICAgIGlmICh0aGlzLmNhbmNlbGVkKSB7XG4gICAgICAgICAgZGVidWcoJ3JlcXVlc3QoJWQpOiBjYW5jZWxlZCcsIElEUy5nZXQodGhpcykpXG4gICAgICAgICAgcmV0dXJuIGNhbGxiYWNrV2l0aFJlbGVhc2UobmV3IFJlcXVlc3RFcnJvcignQ2FuY2VsZWQuJywgJ0VDQU5DRUwnKSlcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2NhbmNlbCA9ICgpID0+IHtcbiAgICAgICAgICBkZWJ1ZygncmVxdWVzdCglZCk6IGNhbmNlbCcsIElEUy5nZXQodGhpcykpXG4gICAgICAgICAgY29ubmVjdGlvbi5jYW5jZWwoKVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gYXR0YWNoIGhhbmRsZXIgdG8gaGFuZGxlIG11bHRpcGxlIGVycm9yIG1lc3NhZ2VzXG4gICAgICAgIGNvbm5lY3Rpb24ub24oJ2luZm9NZXNzYWdlJywgZXJyb3JIYW5kbGVycy5pbmZvTWVzc2FnZSA9IGhhbmRsZUluZm8pXG4gICAgICAgIGNvbm5lY3Rpb24ub24oJ2Vycm9yTWVzc2FnZScsIGVycm9ySGFuZGxlcnMuZXJyb3JNZXNzYWdlID0gaGFuZGxlRXJyb3IuYmluZChudWxsLCBmYWxzZSwgY29ubmVjdGlvbikpXG4gICAgICAgIGNvbm5lY3Rpb24ub24oJ2Vycm9yJywgZXJyb3JIYW5kbGVycy5lcnJvciA9IGhhbmRsZUVycm9yLmJpbmQobnVsbCwgdHJ1ZSwgY29ubmVjdGlvbikpXG5cbiAgICAgICAgY29uc3QgZG9uZSA9IChlcnIsIHJvd0NvdW50KSA9PiB7XG4gICAgICAgICAgLy8gdG8gbWFrZSBzdXJlIHdlIGhhbmRsZSBuby1zcWwgZXJyb3JzIGFzIHdlbGxcbiAgICAgICAgICBpZiAoZXJyICYmICghZXJyb3JzLmxlbmd0aCB8fCAoZXJyb3JzLmxlbmd0aCAmJiBlcnIubWVzc2FnZSAhPT0gZXJyb3JzW2Vycm9ycy5sZW5ndGggLSAxXS5tZXNzYWdlKSkpIHtcbiAgICAgICAgICAgIGVyciA9IG5ldyBSZXF1ZXN0RXJyb3IoZXJyLCAnRVJFUVVFU1QnKVxuICAgICAgICAgICAgaWYgKHRoaXMuc3RyZWFtKSB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyKVxuICAgICAgICAgICAgZXJyb3JzLnB1c2goZXJyKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGRlbGV0ZSB0aGlzLl9jYW5jZWxcblxuICAgICAgICAgIGxldCBlcnJvclxuICAgICAgICAgIGlmIChlcnJvcnMubGVuZ3RoICYmICF0aGlzLnN0cmVhbSkge1xuICAgICAgICAgICAgZXJyb3IgPSBlcnJvcnMucG9wKClcbiAgICAgICAgICAgIGVycm9yLnByZWNlZGluZ0Vycm9ycyA9IGVycm9yc1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghaGFzUmV0dXJuZWQpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZXZlbnQgaW4gZXJyb3JIYW5kbGVycykge1xuICAgICAgICAgICAgICBjb25uZWN0aW9uLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBlcnJvckhhbmRsZXJzW2V2ZW50XSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaGFzUmV0dXJuZWQgPSB0cnVlXG5cbiAgICAgICAgICAgIGlmICh0aGlzLnN0cmVhbSkge1xuICAgICAgICAgICAgICBjYWxsYmFja1dpdGhSZWxlYXNlKG51bGwsIHJvd0NvdW50KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY2FsbGJhY2tXaXRoUmVsZWFzZShlcnJvciwgcm93Q291bnQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYnVsayA9IGNvbm5lY3Rpb24ubmV3QnVsa0xvYWQodGFibGUucGF0aCwgb3B0aW9ucywgZG9uZSlcblxuICAgICAgICBmb3IgKGNvbnN0IGNvbCBvZiB0YWJsZS5jb2x1bW5zKSB7XG4gICAgICAgICAgYnVsay5hZGRDb2x1bW4oY29sLm5hbWUsIGdldFRlZGlvdXNUeXBlKGNvbC50eXBlKSwgeyBudWxsYWJsZTogY29sLm51bGxhYmxlLCBsZW5ndGg6IGNvbC5sZW5ndGgsIHNjYWxlOiBjb2wuc2NhbGUsIHByZWNpc2lvbjogY29sLnByZWNpc2lvbiB9KVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRhYmxlLmNyZWF0ZSkge1xuICAgICAgICAgIGNvbnN0IG9iamVjdGlkID0gdGFibGUudGVtcG9yYXJ5ID8gYHRlbXBkYi4uWyR7dGFibGUubmFtZX1dYCA6IHRhYmxlLnBhdGhcbiAgICAgICAgICBjb25zdCByZXEgPSBuZXcgdGRzLlJlcXVlc3QoYGlmIG9iamVjdF9pZCgnJHtvYmplY3RpZC5yZXBsYWNlKC8nL2csICdcXCdcXCcnKX0nKSBpcyBudWxsICR7dGFibGUuZGVjbGFyZSgpfWAsIGVyciA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSByZXR1cm4gZG9uZShlcnIpXG5cbiAgICAgICAgICAgIGNvbm5lY3Rpb24uZXhlY0J1bGtMb2FkKGJ1bGssIHRhYmxlLnJvd3MpXG4gICAgICAgICAgfSlcbiAgICAgICAgICB0aGlzLl9zZXRDdXJyZW50UmVxdWVzdChyZXEpXG5cbiAgICAgICAgICBjb25uZWN0aW9uLmV4ZWNTcWxCYXRjaChyZXEpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29ubmVjdGlvbi5leGVjQnVsa0xvYWQoYnVsaywgdGFibGUucm93cylcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgLypcbiAgRXhlY3V0ZSBzcGVjaWZpZWQgc3FsIGNvbW1hbmQuXG4gICovXG5cbiAgX3F1ZXJ5IChjb21tYW5kLCBjYWxsYmFjaykge1xuICAgIHN1cGVyLl9xdWVyeShjb21tYW5kLCBlcnIgPT4ge1xuICAgICAgaWYgKGVycikgcmV0dXJuIGNhbGxiYWNrKGVycilcblxuICAgICAgY29uc3QgcmVjb3Jkc2V0cyA9IFtdXG4gICAgICBjb25zdCByZWNvcmRzZXRjb2x1bW5zID0gW11cbiAgICAgIGNvbnN0IGVycm9ycyA9IFtdXG4gICAgICBjb25zdCBlcnJvckhhbmRsZXJzID0ge31cbiAgICAgIGNvbnN0IG91dHB1dCA9IHt9XG4gICAgICBjb25zdCByb3dzQWZmZWN0ZWQgPSBbXVxuXG4gICAgICBsZXQgY29sdW1ucyA9IHt9XG4gICAgICBsZXQgcmVjb3Jkc2V0ID0gW11cbiAgICAgIGxldCBiYXRjaExhc3RSb3cgPSBudWxsXG4gICAgICBsZXQgYmF0Y2hIYXNPdXRwdXQgPSBmYWxzZVxuICAgICAgbGV0IGlzQ2h1bmtlZFJlY29yZHNldCA9IGZhbHNlXG4gICAgICBsZXQgY2h1bmtzQnVmZmVyID0gbnVsbFxuICAgICAgbGV0IGhhc1JldHVybmVkID0gZmFsc2VcblxuICAgICAgY29uc3QgaGFuZGxlRXJyb3IgPSAoZG9SZXR1cm4sIGNvbm5lY3Rpb24sIGluZm8pID0+IHtcbiAgICAgICAgbGV0IGVyciA9IG5ldyBFcnJvcihpbmZvLm1lc3NhZ2UpXG4gICAgICAgIGVyci5pbmZvID0gaW5mb1xuICAgICAgICBlcnIgPSBuZXcgUmVxdWVzdEVycm9yKGVyciwgJ0VSRVFVRVNUJylcblxuICAgICAgICBpZiAodGhpcy5zdHJlYW0pIHtcbiAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChkb1JldHVybiAmJiAhaGFzUmV0dXJuZWQpIHtcbiAgICAgICAgICAgIGlmIChjb25uZWN0aW9uKSB7XG4gICAgICAgICAgICAgIGZvciAoY29uc3QgZXZlbnQgaW4gZXJyb3JIYW5kbGVycykge1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24ucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGVycm9ySGFuZGxlcnNbZXZlbnRdKVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgdGhpcy5wYXJlbnQucmVsZWFzZShjb25uZWN0aW9uKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBoYXNSZXR1cm5lZCA9IHRydWVcbiAgICAgICAgICAgIGNhbGxiYWNrKGVycilcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyB3ZSBtdXN0IGNvbGxlY3QgZXJyb3JzIGV2ZW4gaW4gc3RyZWFtIG1vZGVcbiAgICAgICAgZXJyb3JzLnB1c2goZXJyKVxuICAgICAgfVxuXG4gICAgICBjb25zdCBoYW5kbGVJbmZvID0gbXNnID0+IHtcbiAgICAgICAgdGhpcy5lbWl0KCdpbmZvJywge1xuICAgICAgICAgIG1lc3NhZ2U6IG1zZy5tZXNzYWdlLFxuICAgICAgICAgIG51bWJlcjogbXNnLm51bWJlcixcbiAgICAgICAgICBzdGF0ZTogbXNnLnN0YXRlLFxuICAgICAgICAgIGNsYXNzOiBtc2cuY2xhc3MsXG4gICAgICAgICAgbGluZU51bWJlcjogbXNnLmxpbmVOdW1iZXIsXG4gICAgICAgICAgc2VydmVyTmFtZTogbXNnLnNlcnZlck5hbWUsXG4gICAgICAgICAgcHJvY05hbWU6IG1zZy5wcm9jTmFtZVxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICB0aGlzLnBhcmVudC5hY3F1aXJlKHRoaXMsIChlcnIsIGNvbm5lY3Rpb24sIGNvbmZpZykgPT4ge1xuICAgICAgICBpZiAoZXJyKSByZXR1cm4gY2FsbGJhY2soZXJyKVxuXG4gICAgICAgIGRlYnVnKCdjb25uZWN0aW9uKCVkKTogYm9ycm93ZWQgdG8gcmVxdWVzdCAjJWQnLCBJRFMuZ2V0KGNvbm5lY3Rpb24pLCBJRFMuZ2V0KHRoaXMpKVxuXG4gICAgICAgIGxldCByb3dcblxuICAgICAgICBpZiAodGhpcy5jYW5jZWxlZCkge1xuICAgICAgICAgIGRlYnVnKCdyZXF1ZXN0KCVkKTogY2FuY2VsZWQnLCBJRFMuZ2V0KHRoaXMpKVxuICAgICAgICAgIHRoaXMucGFyZW50LnJlbGVhc2UoY29ubmVjdGlvbilcbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2sobmV3IFJlcXVlc3RFcnJvcignQ2FuY2VsZWQuJywgJ0VDQU5DRUwnKSlcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2NhbmNlbCA9ICgpID0+IHtcbiAgICAgICAgICBkZWJ1ZygncmVxdWVzdCglZCk6IGNhbmNlbCcsIElEUy5nZXQodGhpcykpXG4gICAgICAgICAgY29ubmVjdGlvbi5jYW5jZWwoKVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gYXR0YWNoIGhhbmRsZXIgdG8gaGFuZGxlIG11bHRpcGxlIGVycm9yIG1lc3NhZ2VzXG4gICAgICAgIGNvbm5lY3Rpb24ub24oJ2luZm9NZXNzYWdlJywgZXJyb3JIYW5kbGVycy5pbmZvTWVzc2FnZSA9IGhhbmRsZUluZm8pXG4gICAgICAgIGNvbm5lY3Rpb24ub24oJ2Vycm9yTWVzc2FnZScsIGVycm9ySGFuZGxlcnMuZXJyb3JNZXNzYWdlID0gaGFuZGxlRXJyb3IuYmluZChudWxsLCBmYWxzZSwgY29ubmVjdGlvbikpXG4gICAgICAgIGNvbm5lY3Rpb24ub24oJ2Vycm9yJywgZXJyb3JIYW5kbGVycy5lcnJvciA9IGhhbmRsZUVycm9yLmJpbmQobnVsbCwgdHJ1ZSwgY29ubmVjdGlvbikpXG5cbiAgICAgICAgZGVidWcoJ3JlcXVlc3QoJWQpOiBxdWVyeScsIElEUy5nZXQodGhpcyksIGNvbW1hbmQpXG5cbiAgICAgICAgY29uc3QgcmVxID0gbmV3IHRkcy5SZXF1ZXN0KGNvbW1hbmQsIGVyciA9PiB7XG4gICAgICAgICAgLy8gdGVkaW91cyB2MTUgaGFzIHN0YXJ0ZWQgdXNpbmcgQWdncmVnYXRlRXJyb3JzIHRvIHdyYXAgbXVsdGlwbGUgZXJyb3JzIGludG8gc2luZ2xlIGVycm9yIG9iamVjdHNcbiAgICAgICAgICAoZXJyPy5lcnJvcnMgPyBlcnIuZXJyb3JzIDogW2Vycl0pLmZvckVhY2goKGUsIGksIHsgbGVuZ3RoIH0pID0+IHtcbiAgICAgICAgICAgIC8vIHRvIG1ha2Ugc3VyZSB3ZSBoYW5kbGUgbm8tc3FsIGVycm9ycyBhcyB3ZWxsXG4gICAgICAgICAgICBpZiAoZSAmJiAoIWVycm9ycy5sZW5ndGggfHwgKGVycm9ycy5sZW5ndGggJiYgZXJyb3JzLmxlbmd0aCA+PSBsZW5ndGggJiYgZS5tZXNzYWdlICE9PSBlcnJvcnNbZXJyb3JzLmxlbmd0aCAtIGxlbmd0aCArIGldLm1lc3NhZ2UpKSkge1xuICAgICAgICAgICAgICBlID0gbmV3IFJlcXVlc3RFcnJvcihlLCAnRVJFUVVFU1QnKVxuICAgICAgICAgICAgICBpZiAodGhpcy5zdHJlYW0pIHRoaXMuZW1pdCgnZXJyb3InLCBlKVxuICAgICAgICAgICAgICBlcnJvcnMucHVzaChlKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICAvLyBwcm9jZXNzIGJhdGNoIG91dHB1dHNcbiAgICAgICAgICBpZiAoYmF0Y2hIYXNPdXRwdXQpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5zdHJlYW0pIGJhdGNoTGFzdFJvdyA9IHJlY29yZHNldHMucG9wKClbMF1cblxuICAgICAgICAgICAgZm9yIChjb25zdCBuYW1lIGluIGJhdGNoTGFzdFJvdykge1xuICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGJhdGNoTGFzdFJvd1tuYW1lXVxuICAgICAgICAgICAgICBpZiAobmFtZSAhPT0gJ19fX3JldHVybl9fXycpIHtcbiAgICAgICAgICAgICAgICBvdXRwdXRbbmFtZV0gPSB2YWx1ZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGVsZXRlIHRoaXMuX2NhbmNlbFxuXG4gICAgICAgICAgbGV0IGVycm9yXG4gICAgICAgICAgaWYgKGVycm9ycy5sZW5ndGggJiYgIXRoaXMuc3RyZWFtKSB7XG4gICAgICAgICAgICBlcnJvciA9IGVycm9ycy5wb3AoKVxuICAgICAgICAgICAgZXJyb3IucHJlY2VkaW5nRXJyb3JzID0gZXJyb3JzXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFoYXNSZXR1cm5lZCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBldmVudCBpbiBlcnJvckhhbmRsZXJzKSB7XG4gICAgICAgICAgICAgIGNvbm5lY3Rpb24ucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGVycm9ySGFuZGxlcnNbZXZlbnRdKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnBhcmVudC5yZWxlYXNlKGNvbm5lY3Rpb24pXG4gICAgICAgICAgICBoYXNSZXR1cm5lZCA9IHRydWVcblxuICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgIGRlYnVnKCdyZXF1ZXN0KCVkKTogZmFpbGVkJywgSURTLmdldCh0aGlzKSwgZXJyb3IpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBkZWJ1ZygncmVxdWVzdCglZCk6IGNvbXBsZXRlZCcsIElEUy5nZXQodGhpcykpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnN0cmVhbSkge1xuICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCBudWxsLCBvdXRwdXQsIHJvd3NBZmZlY3RlZCwgcmVjb3Jkc2V0Y29sdW1ucylcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yLCByZWNvcmRzZXRzLCBvdXRwdXQsIHJvd3NBZmZlY3RlZCwgcmVjb3Jkc2V0Y29sdW1ucylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5fc2V0Q3VycmVudFJlcXVlc3QocmVxKVxuXG4gICAgICAgIHJlcS5vbignY29sdW1uTWV0YWRhdGEnLCBtZXRhZGF0YSA9PiB7XG4gICAgICAgICAgY29sdW1ucyA9IGNyZWF0ZUNvbHVtbnMobWV0YWRhdGEsIHRoaXMuYXJyYXlSb3dNb2RlKVxuXG4gICAgICAgICAgaXNDaHVua2VkUmVjb3Jkc2V0ID0gZmFsc2VcbiAgICAgICAgICBpZiAobWV0YWRhdGEubGVuZ3RoID09PSAxICYmIChtZXRhZGF0YVswXS5jb2xOYW1lID09PSBKU09OX0NPTFVNTl9JRCB8fCBtZXRhZGF0YVswXS5jb2xOYW1lID09PSBYTUxfQ09MVU1OX0lEKSkge1xuICAgICAgICAgICAgaXNDaHVua2VkUmVjb3Jkc2V0ID0gdHJ1ZVxuICAgICAgICAgICAgY2h1bmtzQnVmZmVyID0gW11cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodGhpcy5zdHJlYW0pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc0JhdGNoKSB7XG4gICAgICAgICAgICAgIC8vIGRvbid0IHN0cmVhbSByZWNvcmRzZXQgd2l0aCBvdXRwdXQgdmFsdWVzIGluIGJhdGNoZXNcbiAgICAgICAgICAgICAgaWYgKCFjb2x1bW5zLl9fX3JldHVybl9fXykge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgncmVjb3Jkc2V0JywgY29sdW1ucylcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5lbWl0KCdyZWNvcmRzZXQnLCBjb2x1bW5zKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGhpcy5hcnJheVJvd01vZGUpIHJlY29yZHNldGNvbHVtbnMucHVzaChjb2x1bW5zKVxuICAgICAgICB9KVxuXG4gICAgICAgIGNvbnN0IGRvbmVIYW5kbGVyID0gKHJvd0NvdW50LCBtb3JlKSA9PiB7XG4gICAgICAgICAgaWYgKHJvd0NvdW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJvd3NBZmZlY3RlZC5wdXNoKHJvd0NvdW50KVxuICAgICAgICAgICAgaWYgKHRoaXMuc3RyZWFtKSB7XG4gICAgICAgICAgICAgIHRoaXMuZW1pdCgncm93c2FmZmVjdGVkJywgcm93Q291bnQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIGV2ZW4gd2hlbiBzZWxlY3Qgb25seSBzZXQgdmFyaWFibGVzIHNvIHdlIHNob3VsZCBza2lwIGFkZGluZyBhIG5ldyByZWNvcmRzZXRcbiAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoY29sdW1ucykubGVuZ3RoID09PSAwKSByZXR1cm5cblxuICAgICAgICAgIGlmIChpc0NodW5rZWRSZWNvcmRzZXQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbmNhdGVuYXRlZENodW5rcyA9IGNodW5rc0J1ZmZlci5qb2luKCcnKVxuICAgICAgICAgICAgaWYgKGNvbHVtbnNbSlNPTl9DT0xVTU5fSURdICYmIGNvbmZpZy5wYXJzZUpTT04gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoY29uY2F0ZW5hdGVkQ2h1bmtzID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgcm93ID0gbnVsbFxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICByb3cgPSBKU09OLnBhcnNlKGNvbmNhdGVuYXRlZENodW5rcylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgcm93ID0gbnVsbFxuICAgICAgICAgICAgICAgIGNvbnN0IGV4MiA9IG5ldyBSZXF1ZXN0RXJyb3IobmV3IEVycm9yKGBGYWlsZWQgdG8gcGFyc2UgaW5jb21pbmcgSlNPTi4gJHtleC5tZXNzYWdlfWApLCAnRUpTT04nKVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RyZWFtKSB0aGlzLmVtaXQoJ2Vycm9yJywgZXgyKVxuXG4gICAgICAgICAgICAgICAgLy8gd2UgbXVzdCBjb2xsZWN0IGVycm9ycyBldmVuIGluIHN0cmVhbSBtb2RlXG4gICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goZXgyKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByb3cgPSB7fVxuICAgICAgICAgICAgICByb3dbT2JqZWN0LmtleXMoY29sdW1ucylbMF1dID0gY29uY2F0ZW5hdGVkQ2h1bmtzXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNodW5rc0J1ZmZlciA9IG51bGxcblxuICAgICAgICAgICAgaWYgKHRoaXMuc3RyZWFtKSB7XG4gICAgICAgICAgICAgIHRoaXMuZW1pdCgncm93Jywgcm93KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmVjb3Jkc2V0LnB1c2gocm93KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghdGhpcy5zdHJlYW0pIHtcbiAgICAgICAgICAgIC8vIGFsbCByb3dzIG9mIGN1cnJlbnQgcmVjb3Jkc2V0IGxvYWRlZFxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlY29yZHNldCwgJ2NvbHVtbnMnLCB7XG4gICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgIHZhbHVlOiBjb2x1bW5zXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVjb3Jkc2V0LCAndG9UYWJsZScsIHtcbiAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgdmFsdWUgKG5hbWUpIHsgcmV0dXJuIFRhYmxlLmZyb21SZWNvcmRzZXQodGhpcywgbmFtZSkgfVxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgcmVjb3Jkc2V0cy5wdXNoKHJlY29yZHNldClcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZWNvcmRzZXQgPSBbXVxuICAgICAgICAgIGNvbHVtbnMgPSB7fVxuICAgICAgICB9XG5cbiAgICAgICAgcmVxLm9uKCdkb25lSW5Qcm9jJywgZG9uZUhhbmRsZXIpIC8vIGRvbmVJblByb2MgaGFuZGxlcnMgYXJlIHVzZWQgaW4gYm90aCBxdWVyaWVzIGFuZCBiYXRjaGVzXG4gICAgICAgIHJlcS5vbignZG9uZScsIGRvbmVIYW5kbGVyKSAvLyBkb25lIGhhbmRsZXJzIGFyZSB1c2VkIGluIGJhdGNoZXNcblxuICAgICAgICByZXEub24oJ3JldHVyblZhbHVlJywgKHBhcmFtZXRlck5hbWUsIHZhbHVlLCBtZXRhZGF0YSkgPT4ge1xuICAgICAgICAgIG91dHB1dFtwYXJhbWV0ZXJOYW1lXSA9IHZhbHVlXG4gICAgICAgIH0pXG5cbiAgICAgICAgcmVxLm9uKCdyb3cnLCBjb2x1bW5zID0+IHtcbiAgICAgICAgICBpZiAoIXJlY29yZHNldCkgcmVjb3Jkc2V0ID0gW11cblxuICAgICAgICAgIGlmIChpc0NodW5rZWRSZWNvcmRzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBjaHVua3NCdWZmZXIucHVzaChjb2x1bW5zWzBdLnZhbHVlKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0aGlzLmFycmF5Um93TW9kZSkge1xuICAgICAgICAgICAgcm93ID0gW11cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcm93ID0ge31cbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yIChjb25zdCBjb2wgb2YgY29sdW1ucykge1xuICAgICAgICAgICAgY29sLnZhbHVlID0gdmFsdWVDb3JyZWN0aW9uKGNvbC52YWx1ZSwgY29sLm1ldGFkYXRhKVxuXG4gICAgICAgICAgICBpZiAodGhpcy5hcnJheVJvd01vZGUpIHtcbiAgICAgICAgICAgICAgcm93LnB1c2goY29sLnZhbHVlKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc3QgZXhpID0gcm93W2NvbC5tZXRhZGF0YS5jb2xOYW1lXVxuICAgICAgICAgICAgICBpZiAoZXhpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXhpIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgIGV4aS5wdXNoKGNvbC52YWx1ZSlcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcm93W2NvbC5tZXRhZGF0YS5jb2xOYW1lXSA9IFtleGksIGNvbC52YWx1ZV1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcm93W2NvbC5tZXRhZGF0YS5jb2xOYW1lXSA9IGNvbC52YWx1ZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHRoaXMuc3RyZWFtKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faXNCYXRjaCkge1xuICAgICAgICAgICAgICAvLyBkb250IHN0cmVhbSByZWNvcmRzZXQgd2l0aCBvdXRwdXQgdmFsdWVzIGluIGJhdGNoZXNcbiAgICAgICAgICAgICAgaWYgKHJvdy5fX19yZXR1cm5fX18pIHtcbiAgICAgICAgICAgICAgICBiYXRjaExhc3RSb3cgPSByb3dcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ3JvdycsIHJvdylcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5lbWl0KCdyb3cnLCByb3cpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlY29yZHNldC5wdXNoKHJvdylcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgaWYgKHRoaXMuX2lzQmF0Y2gpIHtcbiAgICAgICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5wYXJhbWV0ZXJzKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiB0aGlzLnBhcmFtZXRlcnMpIHtcbiAgICAgICAgICAgICAgaWYgKCFvYmplY3RIYXNQcm9wZXJ0eSh0aGlzLnBhcmFtZXRlcnMsIG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zdCBwYXJhbSA9IHRoaXMucGFyYW1ldGVyc1tuYW1lXVxuXG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcGFyYW0udmFsdWUgPSBnZXRUZWRpb3VzVHlwZShwYXJhbS50eXBlKS52YWxpZGF0ZShwYXJhbS52YWx1ZSwgdGhpcy5wYXJlbnQuY29sbGF0aW9uKVxuICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgZS5tZXNzYWdlID0gYFZhbGlkYXRpb24gZmFpbGVkIGZvciBwYXJhbWV0ZXIgJyR7bmFtZX0nLiAke2UubWVzc2FnZX1gXG4gICAgICAgICAgICAgICAgY29uc3QgZXJyID0gbmV3IFJlcXVlc3RFcnJvcihlLCAnRVBBUkFNJylcblxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnJlbGVhc2UoY29ubmVjdGlvbilcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGRlY2xhcmF0aW9ucyA9IFtdXG4gICAgICAgICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gdGhpcy5wYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgICAgIGlmICghb2JqZWN0SGFzUHJvcGVydHkodGhpcy5wYXJhbWV0ZXJzLCBuYW1lKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29uc3QgcGFyYW0gPSB0aGlzLnBhcmFtZXRlcnNbbmFtZV1cbiAgICAgICAgICAgICAgZGVjbGFyYXRpb25zLnB1c2goYEAke25hbWV9ICR7ZGVjbGFyZShwYXJhbS50eXBlLCBwYXJhbSl9YClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgYXNzaWducyA9IFtdXG4gICAgICAgICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gdGhpcy5wYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgICAgIGlmICghb2JqZWN0SGFzUHJvcGVydHkodGhpcy5wYXJhbWV0ZXJzLCBuYW1lKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29uc3QgcGFyYW0gPSB0aGlzLnBhcmFtZXRlcnNbbmFtZV1cbiAgICAgICAgICAgICAgYXNzaWducy5wdXNoKGBAJHtuYW1lfSA9ICR7Y2FzdChwYXJhbS52YWx1ZSwgcGFyYW0udHlwZSwgcGFyYW0pfWApXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdHMgPSBbXVxuICAgICAgICAgICAgZm9yIChjb25zdCBuYW1lIGluIHRoaXMucGFyYW1ldGVycykge1xuICAgICAgICAgICAgICBpZiAoIW9iamVjdEhhc1Byb3BlcnR5KHRoaXMucGFyYW1ldGVycywgbmFtZSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnN0IHBhcmFtID0gdGhpcy5wYXJhbWV0ZXJzW25hbWVdXG4gICAgICAgICAgICAgIGlmIChwYXJhbS5pbyA9PT0gMikge1xuICAgICAgICAgICAgICAgIHNlbGVjdHMucHVzaChgQCR7bmFtZX0gYXMgWyR7bmFtZX1dYClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBiYXRjaEhhc091dHB1dCA9IHNlbGVjdHMubGVuZ3RoID4gMFxuXG4gICAgICAgICAgICByZXEuc3FsVGV4dE9yUHJvY2VkdXJlID0gYGRlY2xhcmUgJHtkZWNsYXJhdGlvbnMuam9pbignLCAnKX07c2VsZWN0ICR7YXNzaWducy5qb2luKCcsICcpfTske3JlcS5zcWxUZXh0T3JQcm9jZWR1cmV9OyR7YmF0Y2hIYXNPdXRwdXQgPyAoYHNlbGVjdCAxIGFzIFtfX19yZXR1cm5fX19dLCAke3NlbGVjdHMuam9pbignLCAnKX1gKSA6ICcnfWBcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9yIChjb25zdCBuYW1lIGluIHRoaXMucGFyYW1ldGVycykge1xuICAgICAgICAgICAgaWYgKCFvYmplY3RIYXNQcm9wZXJ0eSh0aGlzLnBhcmFtZXRlcnMsIG5hbWUpKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwYXJhbSA9IHRoaXMucGFyYW1ldGVyc1tuYW1lXVxuICAgICAgICAgICAgaWYgKHBhcmFtLmlvID09PSAxKSB7XG4gICAgICAgICAgICAgIHJlcS5hZGRQYXJhbWV0ZXIocGFyYW0ubmFtZSwgZ2V0VGVkaW91c1R5cGUocGFyYW0udHlwZSksIHBhcmFtZXRlckNvcnJlY3Rpb24ocGFyYW0udmFsdWUpLCB7IGxlbmd0aDogcGFyYW0ubGVuZ3RoLCBzY2FsZTogcGFyYW0uc2NhbGUsIHByZWNpc2lvbjogcGFyYW0ucHJlY2lzaW9uIH0pXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXEuYWRkT3V0cHV0UGFyYW1ldGVyKHBhcmFtLm5hbWUsIGdldFRlZGlvdXNUeXBlKHBhcmFtLnR5cGUpLCBwYXJhbWV0ZXJDb3JyZWN0aW9uKHBhcmFtLnZhbHVlKSwgeyBsZW5ndGg6IHBhcmFtLmxlbmd0aCwgc2NhbGU6IHBhcmFtLnNjYWxlLCBwcmVjaXNpb246IHBhcmFtLnByZWNpc2lvbiB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29ubmVjdGlvblt0aGlzLl9pc0JhdGNoID8gJ2V4ZWNTcWxCYXRjaCcgOiAnZXhlY1NxbCddKHJlcSlcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBoYW5kbGVFcnJvcih0cnVlLCBjb25uZWN0aW9uLCBlcnJvcilcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgLypcbiAgRXhlY3V0ZSBzdG9yZWQgcHJvY2VkdXJlIHdpdGggc3BlY2lmaWVkIHBhcmFtZXRlcnMuXG4gICovXG5cbiAgX2V4ZWN1dGUgKHByb2NlZHVyZSwgY2FsbGJhY2spIHtcbiAgICBzdXBlci5fZXhlY3V0ZShwcm9jZWR1cmUsIGVyciA9PiB7XG4gICAgICBpZiAoZXJyKSByZXR1cm4gY2FsbGJhY2soZXJyKVxuXG4gICAgICBjb25zdCByZWNvcmRzZXRzID0gW11cbiAgICAgIGNvbnN0IHJlY29yZHNldGNvbHVtbnMgPSBbXVxuICAgICAgY29uc3QgZXJyb3JzID0gW11cbiAgICAgIGNvbnN0IGVycm9ySGFuZGxlcnMgPSB7fVxuICAgICAgY29uc3Qgb3V0cHV0ID0ge31cbiAgICAgIGNvbnN0IHJvd3NBZmZlY3RlZCA9IFtdXG5cbiAgICAgIGxldCBjb2x1bW5zID0ge31cbiAgICAgIGxldCByZWNvcmRzZXQgPSBbXVxuICAgICAgbGV0IHJldHVyblZhbHVlID0gMFxuICAgICAgbGV0IGlzQ2h1bmtlZFJlY29yZHNldCA9IGZhbHNlXG4gICAgICBsZXQgY2h1bmtzQnVmZmVyID0gbnVsbFxuICAgICAgbGV0IGhhc1JldHVybmVkID0gZmFsc2VcblxuICAgICAgY29uc3QgaGFuZGxlRXJyb3IgPSAoZG9SZXR1cm4sIGNvbm5lY3Rpb24sIGluZm8pID0+IHtcbiAgICAgICAgbGV0IGVyciA9IG5ldyBFcnJvcihpbmZvLm1lc3NhZ2UpXG4gICAgICAgIGVyci5pbmZvID0gaW5mb1xuICAgICAgICBlcnIgPSBuZXcgUmVxdWVzdEVycm9yKGVyciwgJ0VSRVFVRVNUJylcblxuICAgICAgICBpZiAodGhpcy5zdHJlYW0pIHtcbiAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChkb1JldHVybiAmJiAhaGFzUmV0dXJuZWQpIHtcbiAgICAgICAgICAgIGlmIChjb25uZWN0aW9uKSB7XG4gICAgICAgICAgICAgIGZvciAoY29uc3QgZXZlbnQgaW4gZXJyb3JIYW5kbGVycykge1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24ucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGVycm9ySGFuZGxlcnNbZXZlbnRdKVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgdGhpcy5wYXJlbnQucmVsZWFzZShjb25uZWN0aW9uKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBoYXNSZXR1cm5lZCA9IHRydWVcbiAgICAgICAgICAgIGNhbGxiYWNrKGVycilcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyB3ZSBtdXN0IGNvbGxlY3QgZXJyb3JzIGV2ZW4gaW4gc3RyZWFtIG1vZGVcbiAgICAgICAgZXJyb3JzLnB1c2goZXJyKVxuICAgICAgfVxuXG4gICAgICBjb25zdCBoYW5kbGVJbmZvID0gbXNnID0+IHtcbiAgICAgICAgdGhpcy5lbWl0KCdpbmZvJywge1xuICAgICAgICAgIG1lc3NhZ2U6IG1zZy5tZXNzYWdlLFxuICAgICAgICAgIG51bWJlcjogbXNnLm51bWJlcixcbiAgICAgICAgICBzdGF0ZTogbXNnLnN0YXRlLFxuICAgICAgICAgIGNsYXNzOiBtc2cuY2xhc3MsXG4gICAgICAgICAgbGluZU51bWJlcjogbXNnLmxpbmVOdW1iZXIsXG4gICAgICAgICAgc2VydmVyTmFtZTogbXNnLnNlcnZlck5hbWUsXG4gICAgICAgICAgcHJvY05hbWU6IG1zZy5wcm9jTmFtZVxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICB0aGlzLnBhcmVudC5hY3F1aXJlKHRoaXMsIChlcnIsIGNvbm5lY3Rpb24sIGNvbmZpZykgPT4ge1xuICAgICAgICBpZiAoZXJyKSByZXR1cm4gY2FsbGJhY2soZXJyKVxuXG4gICAgICAgIGRlYnVnKCdjb25uZWN0aW9uKCVkKTogYm9ycm93ZWQgdG8gcmVxdWVzdCAjJWQnLCBJRFMuZ2V0KGNvbm5lY3Rpb24pLCBJRFMuZ2V0KHRoaXMpKVxuXG4gICAgICAgIGxldCByb3dcblxuICAgICAgICBpZiAodGhpcy5jYW5jZWxlZCkge1xuICAgICAgICAgIGRlYnVnKCdyZXF1ZXN0KCVkKTogY2FuY2VsZWQnLCBJRFMuZ2V0KHRoaXMpKVxuICAgICAgICAgIHRoaXMucGFyZW50LnJlbGVhc2UoY29ubmVjdGlvbilcbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2sobmV3IFJlcXVlc3RFcnJvcignQ2FuY2VsZWQuJywgJ0VDQU5DRUwnKSlcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2NhbmNlbCA9ICgpID0+IHtcbiAgICAgICAgICBkZWJ1ZygncmVxdWVzdCglZCk6IGNhbmNlbCcsIElEUy5nZXQodGhpcykpXG4gICAgICAgICAgY29ubmVjdGlvbi5jYW5jZWwoKVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gYXR0YWNoIGhhbmRsZXIgdG8gaGFuZGxlIG11bHRpcGxlIGVycm9yIG1lc3NhZ2VzXG4gICAgICAgIGNvbm5lY3Rpb24ub24oJ2luZm9NZXNzYWdlJywgZXJyb3JIYW5kbGVycy5pbmZvTWVzc2FnZSA9IGhhbmRsZUluZm8pXG4gICAgICAgIGNvbm5lY3Rpb24ub24oJ2Vycm9yTWVzc2FnZScsIGVycm9ySGFuZGxlcnMuZXJyb3JNZXNzYWdlID0gaGFuZGxlRXJyb3IuYmluZChudWxsLCBmYWxzZSwgY29ubmVjdGlvbikpXG4gICAgICAgIGNvbm5lY3Rpb24ub24oJ2Vycm9yJywgZXJyb3JIYW5kbGVycy5lcnJvciA9IGhhbmRsZUVycm9yLmJpbmQobnVsbCwgdHJ1ZSwgY29ubmVjdGlvbikpXG5cbiAgICAgICAgaWYgKGRlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAvLyBsb2cgc3RvcmVkIHByb2NlZHVyZSBleGVjdXRpb25zIGFuZCBwcm92aWRlZCBwYXJhbWV0ZXJzXG4gICAgICAgICAgY29uc3QgcGFyYW1zID0gT2JqZWN0LmtleXModGhpcy5wYXJhbWV0ZXJzKS5tYXAoayA9PiB0aGlzLnBhcmFtZXRlcnNba10pXG4gICAgICAgICAgLy8gY3V0IGxvbmcgc3RyaW5nIHBhcmFtZXRlcnMgc2hvcnQgdG8ga2VlcCBsb2cgc29tZXdoYXQgY2xlYW5cbiAgICAgICAgICBjb25zdCBsb2dWYWx1ZSA9IHMgPT4gdHlwZW9mIHMgPT09ICdzdHJpbmcnICYmIHMubGVuZ3RoID4gNTAgPyBzLnN1YnN0cmluZygwLCA0NykgKyAnLi4uJyA6IHNcbiAgICAgICAgICAvLyBmb3JtYXQgcGFyYW1ldGVyIG5hbWVzIGFzICdteV9wYXJhbWV0ZXIgW3NxbC5JbnRdJ1xuICAgICAgICAgIGNvbnN0IGxvZ05hbWUgPSBwYXJhbSA9PiBwYXJhbS5uYW1lICsgJyBbc3FsLicgKyBwYXJhbS50eXBlLm5hbWUgKyAnXSdcbiAgICAgICAgICBjb25zdCBsb2dQYXJhbXMgPSB7fVxuICAgICAgICAgIHBhcmFtcy5mb3JFYWNoKHAgPT4geyBsb2dQYXJhbXNbbG9nTmFtZShwKV0gPSBsb2dWYWx1ZShwLnZhbHVlKSB9KVxuICAgICAgICAgIGRlYnVnKCdyZXF1ZXN0KCVkKTogZXhlY3V0ZSAlcyAlTycsIElEUy5nZXQodGhpcyksIHByb2NlZHVyZSwgbG9nUGFyYW1zKVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVxID0gbmV3IHRkcy5SZXF1ZXN0KHByb2NlZHVyZSwgZXJyID0+IHtcbiAgICAgICAgICAvLyB0byBtYWtlIHN1cmUgd2UgaGFuZGxlIG5vLXNxbCBlcnJvcnMgYXMgd2VsbFxuICAgICAgICAgIGlmIChlcnIgJiYgKCFlcnJvcnMubGVuZ3RoIHx8IChlcnJvcnMubGVuZ3RoICYmIGVyci5tZXNzYWdlICE9PSBlcnJvcnNbZXJyb3JzLmxlbmd0aCAtIDFdLm1lc3NhZ2UpKSkge1xuICAgICAgICAgICAgZXJyID0gbmV3IFJlcXVlc3RFcnJvcihlcnIsICdFUkVRVUVTVCcpXG4gICAgICAgICAgICBpZiAodGhpcy5zdHJlYW0pIHRoaXMuZW1pdCgnZXJyb3InLCBlcnIpXG4gICAgICAgICAgICBlcnJvcnMucHVzaChlcnIpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGVsZXRlIHRoaXMuX2NhbmNlbFxuXG4gICAgICAgICAgbGV0IGVycm9yXG4gICAgICAgICAgaWYgKGVycm9ycy5sZW5ndGggJiYgIXRoaXMuc3RyZWFtKSB7XG4gICAgICAgICAgICBlcnJvciA9IGVycm9ycy5wb3AoKVxuICAgICAgICAgICAgZXJyb3IucHJlY2VkaW5nRXJyb3JzID0gZXJyb3JzXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFoYXNSZXR1cm5lZCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBldmVudCBpbiBlcnJvckhhbmRsZXJzKSB7XG4gICAgICAgICAgICAgIGNvbm5lY3Rpb24ucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGVycm9ySGFuZGxlcnNbZXZlbnRdKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnBhcmVudC5yZWxlYXNlKGNvbm5lY3Rpb24pXG4gICAgICAgICAgICBoYXNSZXR1cm5lZCA9IHRydWVcblxuICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgIGRlYnVnKCdyZXF1ZXN0KCVkKTogZmFpbGVkJywgSURTLmdldCh0aGlzKSwgZXJyb3IpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBkZWJ1ZygncmVxdWVzdCglZCk6IGNvbXBsZXRlJywgSURTLmdldCh0aGlzKSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuc3RyZWFtKSB7XG4gICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIG51bGwsIG91dHB1dCwgcmV0dXJuVmFsdWUsIHJvd3NBZmZlY3RlZCwgcmVjb3Jkc2V0Y29sdW1ucylcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yLCByZWNvcmRzZXRzLCBvdXRwdXQsIHJldHVyblZhbHVlLCByb3dzQWZmZWN0ZWQsIHJlY29yZHNldGNvbHVtbnMpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuX3NldEN1cnJlbnRSZXF1ZXN0KHJlcSlcblxuICAgICAgICByZXEub24oJ2NvbHVtbk1ldGFkYXRhJywgbWV0YWRhdGEgPT4ge1xuICAgICAgICAgIGNvbHVtbnMgPSBjcmVhdGVDb2x1bW5zKG1ldGFkYXRhLCB0aGlzLmFycmF5Um93TW9kZSlcblxuICAgICAgICAgIGlzQ2h1bmtlZFJlY29yZHNldCA9IGZhbHNlXG4gICAgICAgICAgaWYgKChtZXRhZGF0YS5sZW5ndGggPT09IDEpICYmIChtZXRhZGF0YVswXS5jb2xOYW1lID09PSBKU09OX0NPTFVNTl9JRCB8fCBtZXRhZGF0YVswXS5jb2xOYW1lID09PSBYTUxfQ09MVU1OX0lEKSkge1xuICAgICAgICAgICAgaXNDaHVua2VkUmVjb3Jkc2V0ID0gdHJ1ZVxuICAgICAgICAgICAgY2h1bmtzQnVmZmVyID0gW11cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodGhpcy5zdHJlYW0pIHRoaXMuZW1pdCgncmVjb3Jkc2V0JywgY29sdW1ucylcbiAgICAgICAgICBpZiAodGhpcy5hcnJheVJvd01vZGUpIHJlY29yZHNldGNvbHVtbnMucHVzaChjb2x1bW5zKVxuICAgICAgICB9KVxuXG4gICAgICAgIHJlcS5vbigncm93JywgY29sdW1ucyA9PiB7XG4gICAgICAgICAgaWYgKCFyZWNvcmRzZXQpIHJlY29yZHNldCA9IFtdXG5cbiAgICAgICAgICBpZiAoaXNDaHVua2VkUmVjb3Jkc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gY2h1bmtzQnVmZmVyLnB1c2goY29sdW1uc1swXS52YWx1ZSlcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodGhpcy5hcnJheVJvd01vZGUpIHtcbiAgICAgICAgICAgIHJvdyA9IFtdXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJvdyA9IHt9XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAoY29uc3QgY29sIG9mIGNvbHVtbnMpIHtcbiAgICAgICAgICAgIGNvbC52YWx1ZSA9IHZhbHVlQ29ycmVjdGlvbihjb2wudmFsdWUsIGNvbC5tZXRhZGF0YSlcblxuICAgICAgICAgICAgaWYgKHRoaXMuYXJyYXlSb3dNb2RlKSB7XG4gICAgICAgICAgICAgIHJvdy5wdXNoKGNvbC52YWx1ZSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnN0IGV4aSA9IHJvd1tjb2wubWV0YWRhdGEuY29sTmFtZV1cbiAgICAgICAgICAgICAgaWYgKGV4aSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKGV4aSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgICBleGkucHVzaChjb2wudmFsdWUpXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHJvd1tjb2wubWV0YWRhdGEuY29sTmFtZV0gPSBbZXhpLCBjb2wudmFsdWVdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJvd1tjb2wubWV0YWRhdGEuY29sTmFtZV0gPSBjb2wudmFsdWVcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0aGlzLnN0cmVhbSkge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdyb3cnLCByb3cpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlY29yZHNldC5wdXNoKHJvdylcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgcmVxLm9uKCdkb25lSW5Qcm9jJywgKHJvd0NvdW50LCBtb3JlKSA9PiB7XG4gICAgICAgICAgaWYgKHJvd0NvdW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJvd3NBZmZlY3RlZC5wdXNoKHJvd0NvdW50KVxuICAgICAgICAgICAgaWYgKHRoaXMuc3RyZWFtKSB7XG4gICAgICAgICAgICAgIHRoaXMuZW1pdCgncm93c2FmZmVjdGVkJywgcm93Q291bnQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gZmlsdGVyIGVtcHR5IHJlY29yZHNldHMgd2hlbiBOT0NPVU5UIGlzIE9GRlxuICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhjb2x1bW5zKS5sZW5ndGggPT09IDApIHJldHVyblxuXG4gICAgICAgICAgaWYgKGlzQ2h1bmtlZFJlY29yZHNldCkge1xuICAgICAgICAgICAgaWYgKGNvbHVtbnNbSlNPTl9DT0xVTU5fSURdICYmIGNvbmZpZy5wYXJzZUpTT04gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoY2h1bmtzQnVmZmVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgcm93ID0gbnVsbFxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICByb3cgPSBKU09OLnBhcnNlKGNodW5rc0J1ZmZlci5qb2luKCcnKSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgcm93ID0gbnVsbFxuICAgICAgICAgICAgICAgIGNvbnN0IGV4MiA9IG5ldyBSZXF1ZXN0RXJyb3IobmV3IEVycm9yKGBGYWlsZWQgdG8gcGFyc2UgaW5jb21pbmcgSlNPTi4gJHtleC5tZXNzYWdlfWApLCAnRUpTT04nKVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RyZWFtKSB0aGlzLmVtaXQoJ2Vycm9yJywgZXgyKVxuXG4gICAgICAgICAgICAgICAgLy8gd2UgbXVzdCBjb2xsZWN0IGVycm9ycyBldmVuIGluIHN0cmVhbSBtb2RlXG4gICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goZXgyKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByb3cgPSB7fVxuICAgICAgICAgICAgICByb3dbT2JqZWN0LmtleXMoY29sdW1ucylbMF1dID0gY2h1bmtzQnVmZmVyLmpvaW4oJycpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNodW5rc0J1ZmZlciA9IG51bGxcblxuICAgICAgICAgICAgaWYgKHRoaXMuc3RyZWFtKSB7XG4gICAgICAgICAgICAgIHRoaXMuZW1pdCgncm93Jywgcm93KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmVjb3Jkc2V0LnB1c2gocm93KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghdGhpcy5zdHJlYW0pIHtcbiAgICAgICAgICAgIC8vIGFsbCByb3dzIG9mIGN1cnJlbnQgcmVjb3Jkc2V0IGxvYWRlZFxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlY29yZHNldCwgJ2NvbHVtbnMnLCB7XG4gICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgIHZhbHVlOiBjb2x1bW5zXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVjb3Jkc2V0LCAndG9UYWJsZScsIHtcbiAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgdmFsdWUgKG5hbWUpIHsgcmV0dXJuIFRhYmxlLmZyb21SZWNvcmRzZXQodGhpcywgbmFtZSkgfVxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgcmVjb3Jkc2V0cy5wdXNoKHJlY29yZHNldClcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZWNvcmRzZXQgPSBbXVxuICAgICAgICAgIGNvbHVtbnMgPSB7fVxuICAgICAgICB9KVxuXG4gICAgICAgIHJlcS5vbignZG9uZVByb2MnLCAocm93Q291bnQsIG1vcmUsIHJldHVyblN0YXR1cykgPT4ge1xuICAgICAgICAgIHJldHVyblZhbHVlID0gcmV0dXJuU3RhdHVzXG4gICAgICAgIH0pXG5cbiAgICAgICAgcmVxLm9uKCdyZXR1cm5WYWx1ZScsIChwYXJhbWV0ZXJOYW1lLCB2YWx1ZSwgbWV0YWRhdGEpID0+IHtcbiAgICAgICAgICBvdXRwdXRbcGFyYW1ldGVyTmFtZV0gPSB2YWx1ZVxuICAgICAgICB9KVxuXG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiB0aGlzLnBhcmFtZXRlcnMpIHtcbiAgICAgICAgICBpZiAoIW9iamVjdEhhc1Byb3BlcnR5KHRoaXMucGFyYW1ldGVycywgbmFtZSkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHBhcmFtID0gdGhpcy5wYXJhbWV0ZXJzW25hbWVdXG4gICAgICAgICAgaWYgKHBhcmFtLmlvID09PSAxKSB7XG4gICAgICAgICAgICByZXEuYWRkUGFyYW1ldGVyKHBhcmFtLm5hbWUsIGdldFRlZGlvdXNUeXBlKHBhcmFtLnR5cGUpLCBwYXJhbWV0ZXJDb3JyZWN0aW9uKHBhcmFtLnZhbHVlKSwgeyBsZW5ndGg6IHBhcmFtLmxlbmd0aCwgc2NhbGU6IHBhcmFtLnNjYWxlLCBwcmVjaXNpb246IHBhcmFtLnByZWNpc2lvbiB9KVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXEuYWRkT3V0cHV0UGFyYW1ldGVyKHBhcmFtLm5hbWUsIGdldFRlZGlvdXNUeXBlKHBhcmFtLnR5cGUpLCBwYXJhbWV0ZXJDb3JyZWN0aW9uKHBhcmFtLnZhbHVlKSwgeyBsZW5ndGg6IHBhcmFtLmxlbmd0aCwgc2NhbGU6IHBhcmFtLnNjYWxlLCBwcmVjaXNpb246IHBhcmFtLnByZWNpc2lvbiB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbm5lY3Rpb24uY2FsbFByb2NlZHVyZShyZXEpXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBfcGF1c2UgKCkge1xuICAgIHN1cGVyLl9wYXVzZSgpXG4gICAgaWYgKHRoaXMuX2N1cnJlbnRSZXF1ZXN0KSB7XG4gICAgICB0aGlzLl9jdXJyZW50UmVxdWVzdC5wYXVzZSgpXG4gICAgfVxuICB9XG5cbiAgX3Jlc3VtZSAoKSB7XG4gICAgc3VwZXIuX3Jlc3VtZSgpXG4gICAgaWYgKHRoaXMuX2N1cnJlbnRSZXF1ZXN0KSB7XG4gICAgICB0aGlzLl9jdXJyZW50UmVxdWVzdC5yZXN1bWUoKVxuICAgIH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlcXVlc3RcbiJdLCJuYW1lcyI6WyJ0ZHMiLCJyZXF1aXJlIiwiZGVidWciLCJCYXNlUmVxdWVzdCIsIlJlcXVlc3RFcnJvciIsIklEUyIsIm9iamVjdEhhc1Byb3BlcnR5IiwiVFlQRVMiLCJERUNMQVJBVElPTlMiLCJkZWNsYXJlIiwiY2FzdCIsIlRhYmxlIiwiUEFSU0VSUyIsIlVEVCIsInZhbHVlSGFuZGxlciIsIkpTT05fQ09MVU1OX0lEIiwiWE1MX0NPTFVNTl9JRCIsIk5fVFlQRVMiLCJCaXROIiwiRGF0ZVRpbWVOIiwiRGVjaW1hbE4iLCJGbG9hdE4iLCJJbnROIiwiTW9uZXlOIiwiTnVtZXJpY04iLCJnZXRUZWRpb3VzVHlwZSIsInR5cGUiLCJWYXJDaGFyIiwiTlZhckNoYXIiLCJUZXh0IiwiSW50IiwiQmlnSW50IiwiVGlueUludCIsIlNtYWxsSW50IiwiQml0IiwiRmxvYXQiLCJEZWNpbWFsIiwiTnVtZXJpYyIsIlJlYWwiLCJNb25leSIsIlNtYWxsTW9uZXkiLCJUaW1lIiwiRGF0ZSIsIkRhdGVUaW1lIiwiRGF0ZVRpbWUyIiwiRGF0ZVRpbWVPZmZzZXQiLCJTbWFsbERhdGVUaW1lIiwiVW5pcXVlSWRlbnRpZmllciIsIlhtbCIsIkNoYXIiLCJOQ2hhciIsIk5UZXh0IiwiSW1hZ2UiLCJCaW5hcnkiLCJWYXJCaW5hcnkiLCJHZW9ncmFwaHkiLCJHZW9tZXRyeSIsIlRWUCIsIlZhcmlhbnQiLCJnZXRNc3NxbFR5cGUiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJpZCIsImNyZWF0ZUNvbHVtbnMiLCJtZXRhZGF0YSIsImFycmF5Um93TW9kZSIsIm91dCIsImluZGV4IiwiY29sdW1uIiwib3V0Q29sdW1uIiwibmFtZSIsImNvbE5hbWUiLCJkYXRhTGVuZ3RoIiwic2NhbGUiLCJwcmVjaXNpb24iLCJudWxsYWJsZSIsImZsYWdzIiwiY2FzZVNlbnNpdGl2ZSIsImlkZW50aXR5IiwicmVhZE9ubHkiLCJ1ZHRJbmZvIiwidWR0IiwidHlwZU5hbWUiLCJkYXRhYmFzZSIsImRibmFtZSIsInNjaGVtYSIsIm93bmluZ1NjaGVtYSIsImFzc2VtYmx5IiwiYXNzZW1ibHlOYW1lIiwicHVzaCIsInZhbHVlQ29ycmVjdGlvbiIsInZhbHVlIiwiaGFzIiwiZ2V0IiwicGFyYW1ldGVyQ29ycmVjdGlvbiIsInR2cCIsImNvbHVtbnMiLCJyb3dzIiwiY29sIiwiUmVxdWVzdCIsIl9iYXRjaCIsImJhdGNoIiwiY2FsbGJhY2siLCJfaXNCYXRjaCIsIl9xdWVyeSIsIl9idWxrIiwidGFibGUiLCJvcHRpb25zIiwiZXJyIiwiX21ha2VCdWxrIiwiZSIsImNoYXJBdCIsImVycm9ycyIsImVycm9ySGFuZGxlcnMiLCJoYXNSZXR1cm5lZCIsImhhbmRsZUVycm9yIiwiZG9SZXR1cm4iLCJjb25uZWN0aW9uIiwiaW5mbyIsIkVycm9yIiwibWVzc2FnZSIsInN0cmVhbSIsImVtaXQiLCJldmVudCIsInJlbW92ZUxpc3RlbmVyIiwicGFyZW50IiwicmVsZWFzZSIsImhhbmRsZUluZm8iLCJtc2ciLCJudW1iZXIiLCJzdGF0ZSIsImNsYXNzIiwibGluZU51bWJlciIsInNlcnZlck5hbWUiLCJwcm9jTmFtZSIsImFjcXVpcmUiLCJjYWxsYmFja1dpdGhSZWxlYXNlIiwiYXJncyIsImNhbmNlbGVkIiwiX2NhbmNlbCIsImNhbmNlbCIsIm9uIiwiaW5mb01lc3NhZ2UiLCJlcnJvck1lc3NhZ2UiLCJiaW5kIiwiZXJyb3IiLCJkb25lIiwicm93Q291bnQiLCJwb3AiLCJwcmVjZWRpbmdFcnJvcnMiLCJidWxrIiwibmV3QnVsa0xvYWQiLCJwYXRoIiwiYWRkQ29sdW1uIiwiY3JlYXRlIiwib2JqZWN0aWQiLCJ0ZW1wb3JhcnkiLCJyZXEiLCJyZXBsYWNlIiwiZXhlY0J1bGtMb2FkIiwiX3NldEN1cnJlbnRSZXF1ZXN0IiwiZXhlY1NxbEJhdGNoIiwiY29tbWFuZCIsInJlY29yZHNldHMiLCJyZWNvcmRzZXRjb2x1bW5zIiwib3V0cHV0Iiwicm93c0FmZmVjdGVkIiwicmVjb3Jkc2V0IiwiYmF0Y2hMYXN0Um93IiwiYmF0Y2hIYXNPdXRwdXQiLCJpc0NodW5rZWRSZWNvcmRzZXQiLCJjaHVua3NCdWZmZXIiLCJjb25maWciLCJyb3ciLCJmb3JFYWNoIiwiaSIsIl9fX3JldHVybl9fXyIsImRvbmVIYW5kbGVyIiwibW9yZSIsIk9iamVjdCIsImtleXMiLCJjb25jYXRlbmF0ZWRDaHVua3MiLCJqb2luIiwicGFyc2VKU09OIiwiSlNPTiIsInBhcnNlIiwiZXgiLCJleDIiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJmcm9tUmVjb3Jkc2V0IiwicGFyYW1ldGVyTmFtZSIsImV4aSIsIkFycmF5IiwicGFyYW1ldGVycyIsInBhcmFtIiwidmFsaWRhdGUiLCJjb2xsYXRpb24iLCJkZWNsYXJhdGlvbnMiLCJhc3NpZ25zIiwic2VsZWN0cyIsImlvIiwic3FsVGV4dE9yUHJvY2VkdXJlIiwiYWRkUGFyYW1ldGVyIiwiYWRkT3V0cHV0UGFyYW1ldGVyIiwiX2V4ZWN1dGUiLCJwcm9jZWR1cmUiLCJyZXR1cm5WYWx1ZSIsImVuYWJsZWQiLCJwYXJhbXMiLCJtYXAiLCJrIiwibG9nVmFsdWUiLCJzIiwic3Vic3RyaW5nIiwibG9nTmFtZSIsImxvZ1BhcmFtcyIsInAiLCJyZXR1cm5TdGF0dXMiLCJjYWxsUHJvY2VkdXJlIiwiX3BhdXNlIiwiX2N1cnJlbnRSZXF1ZXN0IiwicGF1c2UiLCJfcmVzdW1lIiwicmVzdW1lIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/mssql/lib/tedious/request.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/mssql/lib/tedious/transaction.js":
/*!*******************************************************!*\
  !*** ./node_modules/mssql/lib/tedious/transaction.js ***!
  \*******************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst debug = __webpack_require__(/*! debug */ \"(rsc)/./node_modules/debug/src/index.js\")(\"mssql:tedi\");\nconst BaseTransaction = __webpack_require__(/*! ../base/transaction */ \"(rsc)/./node_modules/mssql/lib/base/transaction.js\");\nconst { IDS } = __webpack_require__(/*! ../utils */ \"(rsc)/./node_modules/mssql/lib/utils.js\");\nconst TransactionError = __webpack_require__(/*! ../error/transaction-error */ \"(rsc)/./node_modules/mssql/lib/error/transaction-error.js\");\nclass Transaction extends BaseTransaction {\n    constructor(parent){\n        super(parent);\n        this._abort = ()=>{\n            if (!this._rollbackRequested) {\n                // transaction interrupted because of XACT_ABORT\n                const pc = this._acquiredConnection;\n                // defer releasing so connection can switch from SentClientRequest to LoggedIn state\n                setImmediate(this.parent.release.bind(this.parent), pc);\n                this._acquiredConnection.removeListener(\"rollbackTransaction\", this._abort);\n                this._acquiredConnection = null;\n                this._acquiredConfig = null;\n                this._aborted = true;\n                this.emit(\"rollback\", true);\n            }\n        };\n    }\n    _begin(isolationLevel, callback) {\n        super._begin(isolationLevel, (err)=>{\n            if (err) return callback(err);\n            debug(\"transaction(%d): begin\", IDS.get(this));\n            this.parent.acquire(this, (err, connection, config)=>{\n                if (err) return callback(err);\n                this._acquiredConnection = connection;\n                this._acquiredConnection.on(\"rollbackTransaction\", this._abort);\n                this._acquiredConfig = config;\n                connection.beginTransaction((err)=>{\n                    if (err) err = new TransactionError(err);\n                    debug(\"transaction(%d): begun\", IDS.get(this));\n                    callback(err);\n                }, this.name, this.isolationLevel);\n            });\n        });\n    }\n    _commit(callback) {\n        super._commit((err)=>{\n            if (err) return callback(err);\n            debug(\"transaction(%d): commit\", IDS.get(this));\n            this._acquiredConnection.commitTransaction((err)=>{\n                if (err) err = new TransactionError(err);\n                this._acquiredConnection.removeListener(\"rollbackTransaction\", this._abort);\n                this.parent.release(this._acquiredConnection);\n                this._acquiredConnection = null;\n                this._acquiredConfig = null;\n                if (!err) debug(\"transaction(%d): commited\", IDS.get(this));\n                callback(err);\n            });\n        });\n    }\n    _rollback(callback) {\n        super._rollback((err)=>{\n            if (err) return callback(err);\n            debug(\"transaction(%d): rollback\", IDS.get(this));\n            this._acquiredConnection.rollbackTransaction((err)=>{\n                if (err) err = new TransactionError(err);\n                this._acquiredConnection.removeListener(\"rollbackTransaction\", this._abort);\n                this.parent.release(this._acquiredConnection);\n                this._acquiredConnection = null;\n                this._acquiredConfig = null;\n                if (!err) debug(\"transaction(%d): rolled back\", IDS.get(this));\n                callback(err);\n            });\n        });\n    }\n}\nmodule.exports = Transaction;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbXNzcWwvbGliL3RlZGlvdXMvdHJhbnNhY3Rpb24uanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFFQSxNQUFNQSxRQUFRQyxtQkFBT0EsQ0FBQyx3REFBUztBQUMvQixNQUFNQyxrQkFBa0JELG1CQUFPQSxDQUFDO0FBQ2hDLE1BQU0sRUFBRUUsR0FBRyxFQUFFLEdBQUdGLG1CQUFPQSxDQUFDO0FBQ3hCLE1BQU1HLG1CQUFtQkgsbUJBQU9BLENBQUM7QUFFakMsTUFBTUksb0JBQW9CSDtJQUN4QkksWUFBYUMsTUFBTSxDQUFFO1FBQ25CLEtBQUssQ0FBQ0E7UUFFTixJQUFJLENBQUNDLE1BQU0sR0FBRztZQUNaLElBQUksQ0FBQyxJQUFJLENBQUNDLGtCQUFrQixFQUFFO2dCQUM1QixnREFBZ0Q7Z0JBRWhELE1BQU1DLEtBQUssSUFBSSxDQUFDQyxtQkFBbUI7Z0JBRW5DLG9GQUFvRjtnQkFDcEZDLGFBQWEsSUFBSSxDQUFDTCxNQUFNLENBQUNNLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDLElBQUksQ0FBQ1AsTUFBTSxHQUFHRztnQkFFcEQsSUFBSSxDQUFDQyxtQkFBbUIsQ0FBQ0ksY0FBYyxDQUFDLHVCQUF1QixJQUFJLENBQUNQLE1BQU07Z0JBQzFFLElBQUksQ0FBQ0csbUJBQW1CLEdBQUc7Z0JBQzNCLElBQUksQ0FBQ0ssZUFBZSxHQUFHO2dCQUN2QixJQUFJLENBQUNDLFFBQVEsR0FBRztnQkFFaEIsSUFBSSxDQUFDQyxJQUFJLENBQUMsWUFBWTtZQUN4QjtRQUNGO0lBQ0Y7SUFFQUMsT0FBUUMsY0FBYyxFQUFFQyxRQUFRLEVBQUU7UUFDaEMsS0FBSyxDQUFDRixPQUFPQyxnQkFBZ0JFLENBQUFBO1lBQzNCLElBQUlBLEtBQUssT0FBT0QsU0FBU0M7WUFFekJ0QixNQUFNLDBCQUEwQkcsSUFBSW9CLEdBQUcsQ0FBQyxJQUFJO1lBRTVDLElBQUksQ0FBQ2hCLE1BQU0sQ0FBQ2lCLE9BQU8sQ0FBQyxJQUFJLEVBQUUsQ0FBQ0YsS0FBS0csWUFBWUM7Z0JBQzFDLElBQUlKLEtBQUssT0FBT0QsU0FBU0M7Z0JBRXpCLElBQUksQ0FBQ1gsbUJBQW1CLEdBQUdjO2dCQUMzQixJQUFJLENBQUNkLG1CQUFtQixDQUFDZ0IsRUFBRSxDQUFDLHVCQUF1QixJQUFJLENBQUNuQixNQUFNO2dCQUM5RCxJQUFJLENBQUNRLGVBQWUsR0FBR1U7Z0JBRXZCRCxXQUFXRyxnQkFBZ0IsQ0FBQ04sQ0FBQUE7b0JBQzFCLElBQUlBLEtBQUtBLE1BQU0sSUFBSWxCLGlCQUFpQmtCO29CQUVwQ3RCLE1BQU0sMEJBQTBCRyxJQUFJb0IsR0FBRyxDQUFDLElBQUk7b0JBRTVDRixTQUFTQztnQkFDWCxHQUFHLElBQUksQ0FBQ08sSUFBSSxFQUFFLElBQUksQ0FBQ1QsY0FBYztZQUNuQztRQUNGO0lBQ0Y7SUFFQVUsUUFBU1QsUUFBUSxFQUFFO1FBQ2pCLEtBQUssQ0FBQ1MsUUFBUVIsQ0FBQUE7WUFDWixJQUFJQSxLQUFLLE9BQU9ELFNBQVNDO1lBRXpCdEIsTUFBTSwyQkFBMkJHLElBQUlvQixHQUFHLENBQUMsSUFBSTtZQUU3QyxJQUFJLENBQUNaLG1CQUFtQixDQUFDb0IsaUJBQWlCLENBQUNULENBQUFBO2dCQUN6QyxJQUFJQSxLQUFLQSxNQUFNLElBQUlsQixpQkFBaUJrQjtnQkFFcEMsSUFBSSxDQUFDWCxtQkFBbUIsQ0FBQ0ksY0FBYyxDQUFDLHVCQUF1QixJQUFJLENBQUNQLE1BQU07Z0JBQzFFLElBQUksQ0FBQ0QsTUFBTSxDQUFDTSxPQUFPLENBQUMsSUFBSSxDQUFDRixtQkFBbUI7Z0JBQzVDLElBQUksQ0FBQ0EsbUJBQW1CLEdBQUc7Z0JBQzNCLElBQUksQ0FBQ0ssZUFBZSxHQUFHO2dCQUV2QixJQUFJLENBQUNNLEtBQUt0QixNQUFNLDZCQUE2QkcsSUFBSW9CLEdBQUcsQ0FBQyxJQUFJO2dCQUV6REYsU0FBU0M7WUFDWDtRQUNGO0lBQ0Y7SUFFQVUsVUFBV1gsUUFBUSxFQUFFO1FBQ25CLEtBQUssQ0FBQ1csVUFBVVYsQ0FBQUE7WUFDZCxJQUFJQSxLQUFLLE9BQU9ELFNBQVNDO1lBRXpCdEIsTUFBTSw2QkFBNkJHLElBQUlvQixHQUFHLENBQUMsSUFBSTtZQUUvQyxJQUFJLENBQUNaLG1CQUFtQixDQUFDc0IsbUJBQW1CLENBQUNYLENBQUFBO2dCQUMzQyxJQUFJQSxLQUFLQSxNQUFNLElBQUlsQixpQkFBaUJrQjtnQkFFcEMsSUFBSSxDQUFDWCxtQkFBbUIsQ0FBQ0ksY0FBYyxDQUFDLHVCQUF1QixJQUFJLENBQUNQLE1BQU07Z0JBQzFFLElBQUksQ0FBQ0QsTUFBTSxDQUFDTSxPQUFPLENBQUMsSUFBSSxDQUFDRixtQkFBbUI7Z0JBQzVDLElBQUksQ0FBQ0EsbUJBQW1CLEdBQUc7Z0JBQzNCLElBQUksQ0FBQ0ssZUFBZSxHQUFHO2dCQUV2QixJQUFJLENBQUNNLEtBQUt0QixNQUFNLGdDQUFnQ0csSUFBSW9CLEdBQUcsQ0FBQyxJQUFJO2dCQUU1REYsU0FBU0M7WUFDWDtRQUNGO0lBQ0Y7QUFDRjtBQUVBWSxPQUFPQyxPQUFPLEdBQUc5QiIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb3NvZGlmeS1iYWNrZW5kLy4vbm9kZV9tb2R1bGVzL21zc3FsL2xpYi90ZWRpb3VzL3RyYW5zYWN0aW9uLmpzP2QwM2QiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IGRlYnVnID0gcmVxdWlyZSgnZGVidWcnKSgnbXNzcWw6dGVkaScpXG5jb25zdCBCYXNlVHJhbnNhY3Rpb24gPSByZXF1aXJlKCcuLi9iYXNlL3RyYW5zYWN0aW9uJylcbmNvbnN0IHsgSURTIH0gPSByZXF1aXJlKCcuLi91dGlscycpXG5jb25zdCBUcmFuc2FjdGlvbkVycm9yID0gcmVxdWlyZSgnLi4vZXJyb3IvdHJhbnNhY3Rpb24tZXJyb3InKVxuXG5jbGFzcyBUcmFuc2FjdGlvbiBleHRlbmRzIEJhc2VUcmFuc2FjdGlvbiB7XG4gIGNvbnN0cnVjdG9yIChwYXJlbnQpIHtcbiAgICBzdXBlcihwYXJlbnQpXG5cbiAgICB0aGlzLl9hYm9ydCA9ICgpID0+IHtcbiAgICAgIGlmICghdGhpcy5fcm9sbGJhY2tSZXF1ZXN0ZWQpIHtcbiAgICAgICAgLy8gdHJhbnNhY3Rpb24gaW50ZXJydXB0ZWQgYmVjYXVzZSBvZiBYQUNUX0FCT1JUXG5cbiAgICAgICAgY29uc3QgcGMgPSB0aGlzLl9hY3F1aXJlZENvbm5lY3Rpb25cblxuICAgICAgICAvLyBkZWZlciByZWxlYXNpbmcgc28gY29ubmVjdGlvbiBjYW4gc3dpdGNoIGZyb20gU2VudENsaWVudFJlcXVlc3QgdG8gTG9nZ2VkSW4gc3RhdGVcbiAgICAgICAgc2V0SW1tZWRpYXRlKHRoaXMucGFyZW50LnJlbGVhc2UuYmluZCh0aGlzLnBhcmVudCksIHBjKVxuXG4gICAgICAgIHRoaXMuX2FjcXVpcmVkQ29ubmVjdGlvbi5yZW1vdmVMaXN0ZW5lcigncm9sbGJhY2tUcmFuc2FjdGlvbicsIHRoaXMuX2Fib3J0KVxuICAgICAgICB0aGlzLl9hY3F1aXJlZENvbm5lY3Rpb24gPSBudWxsXG4gICAgICAgIHRoaXMuX2FjcXVpcmVkQ29uZmlnID0gbnVsbFxuICAgICAgICB0aGlzLl9hYm9ydGVkID0gdHJ1ZVxuXG4gICAgICAgIHRoaXMuZW1pdCgncm9sbGJhY2snLCB0cnVlKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9iZWdpbiAoaXNvbGF0aW9uTGV2ZWwsIGNhbGxiYWNrKSB7XG4gICAgc3VwZXIuX2JlZ2luKGlzb2xhdGlvbkxldmVsLCBlcnIgPT4ge1xuICAgICAgaWYgKGVycikgcmV0dXJuIGNhbGxiYWNrKGVycilcblxuICAgICAgZGVidWcoJ3RyYW5zYWN0aW9uKCVkKTogYmVnaW4nLCBJRFMuZ2V0KHRoaXMpKVxuXG4gICAgICB0aGlzLnBhcmVudC5hY3F1aXJlKHRoaXMsIChlcnIsIGNvbm5lY3Rpb24sIGNvbmZpZykgPT4ge1xuICAgICAgICBpZiAoZXJyKSByZXR1cm4gY2FsbGJhY2soZXJyKVxuXG4gICAgICAgIHRoaXMuX2FjcXVpcmVkQ29ubmVjdGlvbiA9IGNvbm5lY3Rpb25cbiAgICAgICAgdGhpcy5fYWNxdWlyZWRDb25uZWN0aW9uLm9uKCdyb2xsYmFja1RyYW5zYWN0aW9uJywgdGhpcy5fYWJvcnQpXG4gICAgICAgIHRoaXMuX2FjcXVpcmVkQ29uZmlnID0gY29uZmlnXG5cbiAgICAgICAgY29ubmVjdGlvbi5iZWdpblRyYW5zYWN0aW9uKGVyciA9PiB7XG4gICAgICAgICAgaWYgKGVycikgZXJyID0gbmV3IFRyYW5zYWN0aW9uRXJyb3IoZXJyKVxuXG4gICAgICAgICAgZGVidWcoJ3RyYW5zYWN0aW9uKCVkKTogYmVndW4nLCBJRFMuZ2V0KHRoaXMpKVxuXG4gICAgICAgICAgY2FsbGJhY2soZXJyKVxuICAgICAgICB9LCB0aGlzLm5hbWUsIHRoaXMuaXNvbGF0aW9uTGV2ZWwpXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBfY29tbWl0IChjYWxsYmFjaykge1xuICAgIHN1cGVyLl9jb21taXQoZXJyID0+IHtcbiAgICAgIGlmIChlcnIpIHJldHVybiBjYWxsYmFjayhlcnIpXG5cbiAgICAgIGRlYnVnKCd0cmFuc2FjdGlvbiglZCk6IGNvbW1pdCcsIElEUy5nZXQodGhpcykpXG5cbiAgICAgIHRoaXMuX2FjcXVpcmVkQ29ubmVjdGlvbi5jb21taXRUcmFuc2FjdGlvbihlcnIgPT4ge1xuICAgICAgICBpZiAoZXJyKSBlcnIgPSBuZXcgVHJhbnNhY3Rpb25FcnJvcihlcnIpXG5cbiAgICAgICAgdGhpcy5fYWNxdWlyZWRDb25uZWN0aW9uLnJlbW92ZUxpc3RlbmVyKCdyb2xsYmFja1RyYW5zYWN0aW9uJywgdGhpcy5fYWJvcnQpXG4gICAgICAgIHRoaXMucGFyZW50LnJlbGVhc2UodGhpcy5fYWNxdWlyZWRDb25uZWN0aW9uKVxuICAgICAgICB0aGlzLl9hY3F1aXJlZENvbm5lY3Rpb24gPSBudWxsXG4gICAgICAgIHRoaXMuX2FjcXVpcmVkQ29uZmlnID0gbnVsbFxuXG4gICAgICAgIGlmICghZXJyKSBkZWJ1ZygndHJhbnNhY3Rpb24oJWQpOiBjb21taXRlZCcsIElEUy5nZXQodGhpcykpXG5cbiAgICAgICAgY2FsbGJhY2soZXJyKVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgX3JvbGxiYWNrIChjYWxsYmFjaykge1xuICAgIHN1cGVyLl9yb2xsYmFjayhlcnIgPT4ge1xuICAgICAgaWYgKGVycikgcmV0dXJuIGNhbGxiYWNrKGVycilcblxuICAgICAgZGVidWcoJ3RyYW5zYWN0aW9uKCVkKTogcm9sbGJhY2snLCBJRFMuZ2V0KHRoaXMpKVxuXG4gICAgICB0aGlzLl9hY3F1aXJlZENvbm5lY3Rpb24ucm9sbGJhY2tUcmFuc2FjdGlvbihlcnIgPT4ge1xuICAgICAgICBpZiAoZXJyKSBlcnIgPSBuZXcgVHJhbnNhY3Rpb25FcnJvcihlcnIpXG5cbiAgICAgICAgdGhpcy5fYWNxdWlyZWRDb25uZWN0aW9uLnJlbW92ZUxpc3RlbmVyKCdyb2xsYmFja1RyYW5zYWN0aW9uJywgdGhpcy5fYWJvcnQpXG4gICAgICAgIHRoaXMucGFyZW50LnJlbGVhc2UodGhpcy5fYWNxdWlyZWRDb25uZWN0aW9uKVxuICAgICAgICB0aGlzLl9hY3F1aXJlZENvbm5lY3Rpb24gPSBudWxsXG4gICAgICAgIHRoaXMuX2FjcXVpcmVkQ29uZmlnID0gbnVsbFxuXG4gICAgICAgIGlmICghZXJyKSBkZWJ1ZygndHJhbnNhY3Rpb24oJWQpOiByb2xsZWQgYmFjaycsIElEUy5nZXQodGhpcykpXG5cbiAgICAgICAgY2FsbGJhY2soZXJyKVxuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gVHJhbnNhY3Rpb25cbiJdLCJuYW1lcyI6WyJkZWJ1ZyIsInJlcXVpcmUiLCJCYXNlVHJhbnNhY3Rpb24iLCJJRFMiLCJUcmFuc2FjdGlvbkVycm9yIiwiVHJhbnNhY3Rpb24iLCJjb25zdHJ1Y3RvciIsInBhcmVudCIsIl9hYm9ydCIsIl9yb2xsYmFja1JlcXVlc3RlZCIsInBjIiwiX2FjcXVpcmVkQ29ubmVjdGlvbiIsInNldEltbWVkaWF0ZSIsInJlbGVhc2UiLCJiaW5kIiwicmVtb3ZlTGlzdGVuZXIiLCJfYWNxdWlyZWRDb25maWciLCJfYWJvcnRlZCIsImVtaXQiLCJfYmVnaW4iLCJpc29sYXRpb25MZXZlbCIsImNhbGxiYWNrIiwiZXJyIiwiZ2V0IiwiYWNxdWlyZSIsImNvbm5lY3Rpb24iLCJjb25maWciLCJvbiIsImJlZ2luVHJhbnNhY3Rpb24iLCJuYW1lIiwiX2NvbW1pdCIsImNvbW1pdFRyYW5zYWN0aW9uIiwiX3JvbGxiYWNrIiwicm9sbGJhY2tUcmFuc2FjdGlvbiIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/mssql/lib/tedious/transaction.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/mssql/lib/udt.js":
/*!***************************************!*\
  !*** ./node_modules/mssql/lib/udt.js ***!
  \***************************************/
/***/ ((module) => {

eval("\n/* const FIGURE = {\n  INTERIOR_RING: 0x00,\n  STROKE: 0x01,\n  EXTERIOR_RING: 0x02\n};\n\nconst FIGURE_V2 = {\n  POINT: 0x00,\n  LINE: 0x01,\n  ARC: 0x02,\n  COMPOSITE_CURVE: 0x03\n};\n\nconst SHAPE = {\n  POINT: 0x01,\n  LINESTRING: 0x02,\n  POLYGON: 0x03,\n  MULTIPOINT: 0x04,\n  MULTILINESTRING: 0x05,\n  MULTIPOLYGON: 0x06,\n  GEOMETRY_COLLECTION: 0x07\n};\n\nconst SHAPE_V2 = {\n  POINT: 0x01,\n  LINESTRING: 0x02,\n  POLYGON: 0x03,\n  MULTIPOINT: 0x04,\n  MULTILINESTRING: 0x05,\n  MULTIPOLYGON: 0x06,\n  GEOMETRY_COLLECTION: 0x07,\n  CIRCULAR_STRING: 0x08,\n  COMPOUND_CURVE: 0x09,\n  CURVE_POLYGON: 0x0A,\n  FULL_GLOBE: 0x0B\n};\n\nconst SEGMENT = {\n  LINE: 0x00,\n  ARC: 0x01,\n  FIRST_LINE: 0x02,\n  FIRST_ARC: 0x03\n}; */ class Point {\n    constructor(){\n        this.x = 0;\n        this.y = 0;\n        this.z = null;\n        this.m = null;\n    }\n}\nconst parsePoints = (buffer, count, isGeometryPoint)=>{\n    // s2.1.5 + s2.1.6\n    // The key distinction for parsing is that a GEOGRAPHY POINT is ordered Lat (y) then Long (x),\n    // while a GEOMETRY POINT is ordered x then y.\n    // Further, there are additional range constraints on GEOGRAPHY POINT that are useful for testing that the coordinate order has not been flipped, such as that Lat must be in the range [-90, +90].\n    const points = [];\n    if (count < 1) {\n        return points;\n    }\n    if (isGeometryPoint) {\n        // GEOMETRY POINT (s2.1.6): x then y.\n        for(let i = 1; i <= count; i++){\n            const point = new Point();\n            points.push(point);\n            point.x = buffer.readDoubleLE(buffer.position);\n            point.y = buffer.readDoubleLE(buffer.position + 8);\n            buffer.position += 16;\n        }\n    } else {\n        // GEOGRAPHY POINT (s2.1.5): Lat (y) then Long (x).\n        for(let i = 1; i <= count; i++){\n            const point = new Point();\n            points.push(point);\n            point.lat = buffer.readDoubleLE(buffer.position);\n            point.lng = buffer.readDoubleLE(buffer.position + 8);\n            // For backwards compatibility, preserve the coordinate inversion in x and y.\n            // A future breaking change likely eliminate x and y for geography points in favor of just the lat and lng fields, as they've proven marvelously confusing.\n            // See discussion at: https://github.com/tediousjs/node-mssql/pull/1282#discussion_r677769531\n            point.x = point.lat;\n            point.y = point.lng;\n            buffer.position += 16;\n        }\n    }\n    return points;\n};\nconst parseZ = (buffer, points)=>{\n    // s2.1.1 + s.2.1.2\n    if (points < 1) {\n        return;\n    }\n    points.forEach((point)=>{\n        point.z = buffer.readDoubleLE(buffer.position);\n        buffer.position += 8;\n    });\n};\nconst parseM = (buffer, points)=>{\n    // s2.1.1 + s.2.1.2\n    if (points < 1) {\n        return;\n    }\n    points.forEach((point)=>{\n        point.m = buffer.readDoubleLE(buffer.position);\n        buffer.position += 8;\n    });\n};\nconst parseFigures = (buffer, count, properties)=>{\n    // s2.1.3\n    const figures = [];\n    if (count < 1) {\n        return figures;\n    }\n    if (properties.P) {\n        figures.push({\n            attribute: 0x01,\n            pointOffset: 0\n        });\n    } else if (properties.L) {\n        figures.push({\n            attribute: 0x01,\n            pointOffset: 0\n        });\n    } else {\n        for(let i = 1; i <= count; i++){\n            figures.push({\n                attribute: buffer.readUInt8(buffer.position),\n                pointOffset: buffer.readInt32LE(buffer.position + 1)\n            });\n            buffer.position += 5;\n        }\n    }\n    return figures;\n};\nconst parseShapes = (buffer, count, properties)=>{\n    // s2.1.4\n    const shapes = [];\n    if (count < 1) {\n        return shapes;\n    }\n    if (properties.P) {\n        shapes.push({\n            parentOffset: -1,\n            figureOffset: 0,\n            type: 0x01\n        });\n    } else if (properties.L) {\n        shapes.push({\n            parentOffset: -1,\n            figureOffset: 0,\n            type: 0x02\n        });\n    } else {\n        for(let i = 1; i <= count; i++){\n            shapes.push({\n                parentOffset: buffer.readInt32LE(buffer.position),\n                figureOffset: buffer.readInt32LE(buffer.position + 4),\n                type: buffer.readUInt8(buffer.position + 8)\n            });\n            buffer.position += 9;\n        }\n    }\n    return shapes;\n};\nconst parseSegments = (buffer, count)=>{\n    // s2.1.7\n    const segments = [];\n    if (count < 1) {\n        return segments;\n    }\n    for(let i = 1; i <= count; i++){\n        segments.push({\n            type: buffer.readUInt8(buffer.position)\n        });\n        buffer.position++;\n    }\n    return segments;\n};\nconst parseGeography = (buffer, isUsingGeometryPoints)=>{\n    // s2.1.1 + s.2.1.2\n    const srid = buffer.readInt32LE(0);\n    if (srid === -1) {\n        return null;\n    }\n    const value = {\n        srid,\n        version: buffer.readUInt8(4)\n    };\n    const flags = buffer.readUInt8(5);\n    buffer.position = 6;\n    // console.log(\"srid\", srid)\n    // console.log(\"version\", version)\n    const properties = {\n        Z: (flags & 1 << 0) > 0,\n        M: (flags & 1 << 1) > 0,\n        V: (flags & 1 << 2) > 0,\n        P: (flags & 1 << 3) > 0,\n        L: (flags & 1 << 4) > 0\n    };\n    if (value.version === 2) {\n        properties.H = (flags & 1 << 3) > 0;\n    }\n    // console.log(\"properties\", properties);\n    let numberOfPoints;\n    if (properties.P) {\n        numberOfPoints = 1;\n    } else if (properties.L) {\n        numberOfPoints = 2;\n    } else {\n        numberOfPoints = buffer.readUInt32LE(buffer.position);\n        buffer.position += 4;\n    }\n    // console.log(\"numberOfPoints\", numberOfPoints)\n    value.points = parsePoints(buffer, numberOfPoints, isUsingGeometryPoints);\n    if (properties.Z) {\n        parseZ(buffer, value.points);\n    }\n    if (properties.M) {\n        parseM(buffer, value.points);\n    }\n    // console.log(\"points\", points)\n    let numberOfFigures;\n    if (properties.P) {\n        numberOfFigures = 1;\n    } else if (properties.L) {\n        numberOfFigures = 1;\n    } else {\n        numberOfFigures = buffer.readUInt32LE(buffer.position);\n        buffer.position += 4;\n    }\n    // console.log(\"numberOfFigures\", numberOfFigures)\n    value.figures = parseFigures(buffer, numberOfFigures, properties);\n    // console.log(\"figures\", figures)\n    let numberOfShapes;\n    if (properties.P) {\n        numberOfShapes = 1;\n    } else if (properties.L) {\n        numberOfShapes = 1;\n    } else {\n        numberOfShapes = buffer.readUInt32LE(buffer.position);\n        buffer.position += 4;\n    }\n    // console.log(\"numberOfShapes\", numberOfShapes)\n    value.shapes = parseShapes(buffer, numberOfShapes, properties);\n    // console.log( \"shapes\", shapes)\n    if (value.version === 2 && buffer.position < buffer.length) {\n        const numberOfSegments = buffer.readUInt32LE(buffer.position);\n        buffer.position += 4;\n        // console.log(\"numberOfSegments\", numberOfSegments)\n        value.segments = parseSegments(buffer, numberOfSegments);\n    // console.log(\"segments\", segments)\n    } else {\n        value.segments = [];\n    }\n    return value;\n};\nmodule.exports.PARSERS = {\n    geography (buffer) {\n        return parseGeography(buffer, /* isUsingGeometryPoints: */ false);\n    },\n    geometry (buffer) {\n        return parseGeography(buffer, /* isUsingGeometryPoints: */ true);\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbXNzcWwvbGliL3VkdC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0EwQ0csR0FFSCxNQUFNQTtJQUNKQyxhQUFlO1FBQ2IsSUFBSSxDQUFDQyxDQUFDLEdBQUc7UUFDVCxJQUFJLENBQUNDLENBQUMsR0FBRztRQUNULElBQUksQ0FBQ0MsQ0FBQyxHQUFHO1FBQ1QsSUFBSSxDQUFDQyxDQUFDLEdBQUc7SUFDWDtBQUNGO0FBRUEsTUFBTUMsY0FBYyxDQUFDQyxRQUFRQyxPQUFPQztJQUNsQyxrQkFBa0I7SUFDbEIsOEZBQThGO0lBQzlGLDhDQUE4QztJQUM5QyxtTUFBbU07SUFFbk0sTUFBTUMsU0FBUyxFQUFFO0lBQ2pCLElBQUlGLFFBQVEsR0FBRztRQUNiLE9BQU9FO0lBQ1Q7SUFFQSxJQUFJRCxpQkFBaUI7UUFDbkIscUNBQXFDO1FBQ3JDLElBQUssSUFBSUUsSUFBSSxHQUFHQSxLQUFLSCxPQUFPRyxJQUFLO1lBQy9CLE1BQU1DLFFBQVEsSUFBSVo7WUFDbEJVLE9BQU9HLElBQUksQ0FBQ0Q7WUFDWkEsTUFBTVYsQ0FBQyxHQUFHSyxPQUFPTyxZQUFZLENBQUNQLE9BQU9RLFFBQVE7WUFDN0NILE1BQU1ULENBQUMsR0FBR0ksT0FBT08sWUFBWSxDQUFDUCxPQUFPUSxRQUFRLEdBQUc7WUFDaERSLE9BQU9RLFFBQVEsSUFBSTtRQUNyQjtJQUNGLE9BQU87UUFDTCxtREFBbUQ7UUFDbkQsSUFBSyxJQUFJSixJQUFJLEdBQUdBLEtBQUtILE9BQU9HLElBQUs7WUFDL0IsTUFBTUMsUUFBUSxJQUFJWjtZQUNsQlUsT0FBT0csSUFBSSxDQUFDRDtZQUNaQSxNQUFNSSxHQUFHLEdBQUdULE9BQU9PLFlBQVksQ0FBQ1AsT0FBT1EsUUFBUTtZQUMvQ0gsTUFBTUssR0FBRyxHQUFHVixPQUFPTyxZQUFZLENBQUNQLE9BQU9RLFFBQVEsR0FBRztZQUVsRCw2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LFFBQVEsR0FBRyxFQUFFO0lBQ3JCO0lBRUEsT0FBT0k7QUFDVDtBQUVBYSxzQkFBc0IsR0FBRztJQUN2QkcsV0FBV2pELE1BQU07UUFDZixPQUFPOEIsZUFBZTlCLFFBQVEsMEJBQTBCLEdBQUU7SUFDNUQ7SUFFQWtELFVBQVVsRCxNQUFNO1FBQ2QsT0FBTzhCLGVBQWU5QixRQUFRLDBCQUEwQixHQUFFO0lBQzVEO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9zb2RpZnktYmFja2VuZC8uL25vZGVfbW9kdWxlcy9tc3NxbC9saWIvdWR0LmpzPzM2NDciXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG5cbi8qIGNvbnN0IEZJR1VSRSA9IHtcbiAgSU5URVJJT1JfUklORzogMHgwMCxcbiAgU1RST0tFOiAweDAxLFxuICBFWFRFUklPUl9SSU5HOiAweDAyXG59O1xuXG5jb25zdCBGSUdVUkVfVjIgPSB7XG4gIFBPSU5UOiAweDAwLFxuICBMSU5FOiAweDAxLFxuICBBUkM6IDB4MDIsXG4gIENPTVBPU0lURV9DVVJWRTogMHgwM1xufTtcblxuY29uc3QgU0hBUEUgPSB7XG4gIFBPSU5UOiAweDAxLFxuICBMSU5FU1RSSU5HOiAweDAyLFxuICBQT0xZR09OOiAweDAzLFxuICBNVUxUSVBPSU5UOiAweDA0LFxuICBNVUxUSUxJTkVTVFJJTkc6IDB4MDUsXG4gIE1VTFRJUE9MWUdPTjogMHgwNixcbiAgR0VPTUVUUllfQ09MTEVDVElPTjogMHgwN1xufTtcblxuY29uc3QgU0hBUEVfVjIgPSB7XG4gIFBPSU5UOiAweDAxLFxuICBMSU5FU1RSSU5HOiAweDAyLFxuICBQT0xZR09OOiAweDAzLFxuICBNVUxUSVBPSU5UOiAweDA0LFxuICBNVUxUSUxJTkVTVFJJTkc6IDB4MDUsXG4gIE1VTFRJUE9MWUdPTjogMHgwNixcbiAgR0VPTUVUUllfQ09MTEVDVElPTjogMHgwNyxcbiAgQ0lSQ1VMQVJfU1RSSU5HOiAweDA4LFxuICBDT01QT1VORF9DVVJWRTogMHgwOSxcbiAgQ1VSVkVfUE9MWUdPTjogMHgwQSxcbiAgRlVMTF9HTE9CRTogMHgwQlxufTtcblxuY29uc3QgU0VHTUVOVCA9IHtcbiAgTElORTogMHgwMCxcbiAgQVJDOiAweDAxLFxuICBGSVJTVF9MSU5FOiAweDAyLFxuICBGSVJTVF9BUkM6IDB4MDNcbn07ICovXG5cbmNsYXNzIFBvaW50IHtcbiAgY29uc3RydWN0b3IgKCkge1xuICAgIHRoaXMueCA9IDBcbiAgICB0aGlzLnkgPSAwXG4gICAgdGhpcy56ID0gbnVsbFxuICAgIHRoaXMubSA9IG51bGxcbiAgfVxufVxuXG5jb25zdCBwYXJzZVBvaW50cyA9IChidWZmZXIsIGNvdW50LCBpc0dlb21ldHJ5UG9pbnQpID0+IHtcbiAgLy8gczIuMS41ICsgczIuMS42XG4gIC8vIFRoZSBrZXkgZGlzdGluY3Rpb24gZm9yIHBhcnNpbmcgaXMgdGhhdCBhIEdFT0dSQVBIWSBQT0lOVCBpcyBvcmRlcmVkIExhdCAoeSkgdGhlbiBMb25nICh4KSxcbiAgLy8gd2hpbGUgYSBHRU9NRVRSWSBQT0lOVCBpcyBvcmRlcmVkIHggdGhlbiB5LlxuICAvLyBGdXJ0aGVyLCB0aGVyZSBhcmUgYWRkaXRpb25hbCByYW5nZSBjb25zdHJhaW50cyBvbiBHRU9HUkFQSFkgUE9JTlQgdGhhdCBhcmUgdXNlZnVsIGZvciB0ZXN0aW5nIHRoYXQgdGhlIGNvb3JkaW5hdGUgb3JkZXIgaGFzIG5vdCBiZWVuIGZsaXBwZWQsIHN1Y2ggYXMgdGhhdCBMYXQgbXVzdCBiZSBpbiB0aGUgcmFuZ2UgWy05MCwgKzkwXS5cblxuICBjb25zdCBwb2ludHMgPSBbXVxuICBpZiAoY291bnQgPCAxKSB7XG4gICAgcmV0dXJuIHBvaW50c1xuICB9XG5cbiAgaWYgKGlzR2VvbWV0cnlQb2ludCkge1xuICAgIC8vIEdFT01FVFJZIFBPSU5UIChzMi4xLjYpOiB4IHRoZW4geS5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBjb3VudDsgaSsrKSB7XG4gICAgICBjb25zdCBwb2ludCA9IG5ldyBQb2ludCgpXG4gICAgICBwb2ludHMucHVzaChwb2ludClcbiAgICAgIHBvaW50LnggPSBidWZmZXIucmVhZERvdWJsZUxFKGJ1ZmZlci5wb3NpdGlvbilcbiAgICAgIHBvaW50LnkgPSBidWZmZXIucmVhZERvdWJsZUxFKGJ1ZmZlci5wb3NpdGlvbiArIDgpXG4gICAgICBidWZmZXIucG9zaXRpb24gKz0gMTZcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gR0VPR1JBUEhZIFBPSU5UIChzMi4xLjUpOiBMYXQgKHkpIHRoZW4gTG9uZyAoeCkuXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gY291bnQ7IGkrKykge1xuICAgICAgY29uc3QgcG9pbnQgPSBuZXcgUG9pbnQoKVxuICAgICAgcG9pbnRzLnB1c2gocG9pbnQpXG4gICAgICBwb2ludC5sYXQgPSBidWZmZXIucmVhZERvdWJsZUxFKGJ1ZmZlci5wb3NpdGlvbilcbiAgICAgIHBvaW50LmxuZyA9IGJ1ZmZlci5yZWFkRG91YmxlTEUoYnVmZmVyLnBvc2l0aW9uICsgOClcblxuICAgICAgLy8gRm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LCBwcmVzZXJ2ZSB0aGUgY29vcmRpbmF0ZSBpbnZlcnNpb24gaW4geCBhbmQgeS5cbiAgICAgIC8vIEEgZnV0dXJlIGJyZWFraW5nIGNoYW5nZSBsaWtlbHkgZWxpbWluYXRlIHggYW5kIHkgZm9yIGdlb2dyYXBoeSBwb2ludHMgaW4gZmF2b3Igb2YganVzdCB0aGUgbGF0IGFuZCBsbmcgZmllbGRzLCBhcyB0aGV5J3ZlIHByb3ZlbiBtYXJ2ZWxvdXNseSBjb25mdXNpbmcuXG4gICAgICAvLyBTZWUgZGlzY3Vzc2lvbiBhdDogaHR0cHM6Ly9naXRodWIuY29tL3RlZGlvdXNqcy9ub2RlLW1zc3FsL3B1bGwvMTI4MiNkaXNjdXNzaW9uX3I2Nzc3Njk1MzFcbiAgICAgIHBvaW50LnggPSBwb2ludC5sYXRcbiAgICAgIHBvaW50LnkgPSBwb2ludC5sbmdcblxuICAgICAgYnVmZmVyLnBvc2l0aW9uICs9IDE2XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHBvaW50c1xufVxuXG5jb25zdCBwYXJzZVogPSAoYnVmZmVyLCBwb2ludHMpID0+IHtcbiAgLy8gczIuMS4xICsgcy4yLjEuMlxuXG4gIGlmIChwb2ludHMgPCAxKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBwb2ludHMuZm9yRWFjaChwb2ludCA9PiB7XG4gICAgcG9pbnQueiA9IGJ1ZmZlci5yZWFkRG91YmxlTEUoYnVmZmVyLnBvc2l0aW9uKVxuICAgIGJ1ZmZlci5wb3NpdGlvbiArPSA4XG4gIH0pXG59XG5cbmNvbnN0IHBhcnNlTSA9IChidWZmZXIsIHBvaW50cykgPT4ge1xuICAvLyBzMi4xLjEgKyBzLjIuMS4yXG5cbiAgaWYgKHBvaW50cyA8IDEpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHBvaW50cy5mb3JFYWNoKHBvaW50ID0+IHtcbiAgICBwb2ludC5tID0gYnVmZmVyLnJlYWREb3VibGVMRShidWZmZXIucG9zaXRpb24pXG4gICAgYnVmZmVyLnBvc2l0aW9uICs9IDhcbiAgfSlcbn1cblxuY29uc3QgcGFyc2VGaWd1cmVzID0gKGJ1ZmZlciwgY291bnQsIHByb3BlcnRpZXMpID0+IHtcbiAgLy8gczIuMS4zXG5cbiAgY29uc3QgZmlndXJlcyA9IFtdXG4gIGlmIChjb3VudCA8IDEpIHtcbiAgICByZXR1cm4gZmlndXJlc1xuICB9XG5cbiAgaWYgKHByb3BlcnRpZXMuUCkge1xuICAgIGZpZ3VyZXMucHVzaCh7XG4gICAgICBhdHRyaWJ1dGU6IDB4MDEsXG4gICAgICBwb2ludE9mZnNldDogMFxuICAgIH0pXG4gIH0gZWxzZSBpZiAocHJvcGVydGllcy5MKSB7XG4gICAgZmlndXJlcy5wdXNoKHtcbiAgICAgIGF0dHJpYnV0ZTogMHgwMSxcbiAgICAgIHBvaW50T2Zmc2V0OiAwXG4gICAgfSlcbiAgfSBlbHNlIHtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBjb3VudDsgaSsrKSB7XG4gICAgICBmaWd1cmVzLnB1c2goe1xuICAgICAgICBhdHRyaWJ1dGU6IGJ1ZmZlci5yZWFkVUludDgoYnVmZmVyLnBvc2l0aW9uKSxcbiAgICAgICAgcG9pbnRPZmZzZXQ6IGJ1ZmZlci5yZWFkSW50MzJMRShidWZmZXIucG9zaXRpb24gKyAxKVxuICAgICAgfSlcblxuICAgICAgYnVmZmVyLnBvc2l0aW9uICs9IDVcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmlndXJlc1xufVxuXG5jb25zdCBwYXJzZVNoYXBlcyA9IChidWZmZXIsIGNvdW50LCBwcm9wZXJ0aWVzKSA9PiB7XG4gIC8vIHMyLjEuNFxuXG4gIGNvbnN0IHNoYXBlcyA9IFtdXG4gIGlmIChjb3VudCA8IDEpIHtcbiAgICByZXR1cm4gc2hhcGVzXG4gIH1cblxuICBpZiAocHJvcGVydGllcy5QKSB7XG4gICAgc2hhcGVzLnB1c2goe1xuICAgICAgcGFyZW50T2Zmc2V0OiAtMSxcbiAgICAgIGZpZ3VyZU9mZnNldDogMCxcbiAgICAgIHR5cGU6IDB4MDFcbiAgICB9KVxuICB9IGVsc2UgaWYgKHByb3BlcnRpZXMuTCkge1xuICAgIHNoYXBlcy5wdXNoKHtcbiAgICAgIHBhcmVudE9mZnNldDogLTEsXG4gICAgICBmaWd1cmVPZmZzZXQ6IDAsXG4gICAgICB0eXBlOiAweDAyXG4gICAgfSlcbiAgfSBlbHNlIHtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBjb3VudDsgaSsrKSB7XG4gICAgICBzaGFwZXMucHVzaCh7XG4gICAgICAgIHBhcmVudE9mZnNldDogYnVmZmVyLnJlYWRJbnQzMkxFKGJ1ZmZlci5wb3NpdGlvbiksXG4gICAgICAgIGZpZ3VyZU9mZnNldDogYnVmZmVyLnJlYWRJbnQzMkxFKGJ1ZmZlci5wb3NpdGlvbiArIDQpLFxuICAgICAgICB0eXBlOiBidWZmZXIucmVhZFVJbnQ4KGJ1ZmZlci5wb3NpdGlvbiArIDgpXG4gICAgICB9KVxuXG4gICAgICBidWZmZXIucG9zaXRpb24gKz0gOVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzaGFwZXNcbn1cblxuY29uc3QgcGFyc2VTZWdtZW50cyA9IChidWZmZXIsIGNvdW50KSA9PiB7XG4gIC8vIHMyLjEuN1xuXG4gIGNvbnN0IHNlZ21lbnRzID0gW11cbiAgaWYgKGNvdW50IDwgMSkge1xuICAgIHJldHVybiBzZWdtZW50c1xuICB9XG5cbiAgZm9yIChsZXQgaSA9IDE7IGkgPD0gY291bnQ7IGkrKykge1xuICAgIHNlZ21lbnRzLnB1c2goeyB0eXBlOiBidWZmZXIucmVhZFVJbnQ4KGJ1ZmZlci5wb3NpdGlvbikgfSlcblxuICAgIGJ1ZmZlci5wb3NpdGlvbisrXG4gIH1cblxuICByZXR1cm4gc2VnbWVudHNcbn1cblxuY29uc3QgcGFyc2VHZW9ncmFwaHkgPSAoYnVmZmVyLCBpc1VzaW5nR2VvbWV0cnlQb2ludHMpID0+IHtcbiAgLy8gczIuMS4xICsgcy4yLjEuMlxuXG4gIGNvbnN0IHNyaWQgPSBidWZmZXIucmVhZEludDMyTEUoMClcbiAgaWYgKHNyaWQgPT09IC0xKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGNvbnN0IHZhbHVlID0ge1xuICAgIHNyaWQsXG4gICAgdmVyc2lvbjogYnVmZmVyLnJlYWRVSW50OCg0KVxuICB9XG5cbiAgY29uc3QgZmxhZ3MgPSBidWZmZXIucmVhZFVJbnQ4KDUpXG4gIGJ1ZmZlci5wb3NpdGlvbiA9IDZcblxuICAvLyBjb25zb2xlLmxvZyhcInNyaWRcIiwgc3JpZClcbiAgLy8gY29uc29sZS5sb2coXCJ2ZXJzaW9uXCIsIHZlcnNpb24pXG5cbiAgY29uc3QgcHJvcGVydGllcyA9IHtcbiAgICBaOiAoZmxhZ3MgJiAoMSA8PCAwKSkgPiAwLFxuICAgIE06IChmbGFncyAmICgxIDw8IDEpKSA+IDAsXG4gICAgVjogKGZsYWdzICYgKDEgPDwgMikpID4gMCxcbiAgICBQOiAoZmxhZ3MgJiAoMSA8PCAzKSkgPiAwLFxuICAgIEw6IChmbGFncyAmICgxIDw8IDQpKSA+IDBcbiAgfVxuXG4gIGlmICh2YWx1ZS52ZXJzaW9uID09PSAyKSB7XG4gICAgcHJvcGVydGllcy5IID0gKGZsYWdzICYgKDEgPDwgMykpID4gMFxuICB9XG5cbiAgLy8gY29uc29sZS5sb2coXCJwcm9wZXJ0aWVzXCIsIHByb3BlcnRpZXMpO1xuXG4gIGxldCBudW1iZXJPZlBvaW50c1xuICBpZiAocHJvcGVydGllcy5QKSB7XG4gICAgbnVtYmVyT2ZQb2ludHMgPSAxXG4gIH0gZWxzZSBpZiAocHJvcGVydGllcy5MKSB7XG4gICAgbnVtYmVyT2ZQb2ludHMgPSAyXG4gIH0gZWxzZSB7XG4gICAgbnVtYmVyT2ZQb2ludHMgPSBidWZmZXIucmVhZFVJbnQzMkxFKGJ1ZmZlci5wb3NpdGlvbilcbiAgICBidWZmZXIucG9zaXRpb24gKz0gNFxuICB9XG5cbiAgLy8gY29uc29sZS5sb2coXCJudW1iZXJPZlBvaW50c1wiLCBudW1iZXJPZlBvaW50cylcblxuICB2YWx1ZS5wb2ludHMgPSBwYXJzZVBvaW50cyhidWZmZXIsIG51bWJlck9mUG9pbnRzLCBpc1VzaW5nR2VvbWV0cnlQb2ludHMpXG5cbiAgaWYgKHByb3BlcnRpZXMuWikge1xuICAgIHBhcnNlWihidWZmZXIsIHZhbHVlLnBvaW50cylcbiAgfVxuXG4gIGlmIChwcm9wZXJ0aWVzLk0pIHtcbiAgICBwYXJzZU0oYnVmZmVyLCB2YWx1ZS5wb2ludHMpXG4gIH1cblxuICAvLyBjb25zb2xlLmxvZyhcInBvaW50c1wiLCBwb2ludHMpXG5cbiAgbGV0IG51bWJlck9mRmlndXJlc1xuICBpZiAocHJvcGVydGllcy5QKSB7XG4gICAgbnVtYmVyT2ZGaWd1cmVzID0gMVxuICB9IGVsc2UgaWYgKHByb3BlcnRpZXMuTCkge1xuICAgIG51bWJlck9mRmlndXJlcyA9IDFcbiAgfSBlbHNlIHtcbiAgICBudW1iZXJPZkZpZ3VyZXMgPSBidWZmZXIucmVhZFVJbnQzMkxFKGJ1ZmZlci5wb3NpdGlvbilcbiAgICBidWZmZXIucG9zaXRpb24gKz0gNFxuICB9XG5cbiAgLy8gY29uc29sZS5sb2coXCJudW1iZXJPZkZpZ3VyZXNcIiwgbnVtYmVyT2ZGaWd1cmVzKVxuXG4gIHZhbHVlLmZpZ3VyZXMgPSBwYXJzZUZpZ3VyZXMoYnVmZmVyLCBudW1iZXJPZkZpZ3VyZXMsIHByb3BlcnRpZXMpXG5cbiAgLy8gY29uc29sZS5sb2coXCJmaWd1cmVzXCIsIGZpZ3VyZXMpXG5cbiAgbGV0IG51bWJlck9mU2hhcGVzXG4gIGlmIChwcm9wZXJ0aWVzLlApIHtcbiAgICBudW1iZXJPZlNoYXBlcyA9IDFcbiAgfSBlbHNlIGlmIChwcm9wZXJ0aWVzLkwpIHtcbiAgICBudW1iZXJPZlNoYXBlcyA9IDFcbiAgfSBlbHNlIHtcbiAgICBudW1iZXJPZlNoYXBlcyA9IGJ1ZmZlci5yZWFkVUludDMyTEUoYnVmZmVyLnBvc2l0aW9uKVxuICAgIGJ1ZmZlci5wb3NpdGlvbiArPSA0XG4gIH1cblxuICAvLyBjb25zb2xlLmxvZyhcIm51bWJlck9mU2hhcGVzXCIsIG51bWJlck9mU2hhcGVzKVxuXG4gIHZhbHVlLnNoYXBlcyA9IHBhcnNlU2hhcGVzKGJ1ZmZlciwgbnVtYmVyT2ZTaGFwZXMsIHByb3BlcnRpZXMpXG5cbiAgLy8gY29uc29sZS5sb2coIFwic2hhcGVzXCIsIHNoYXBlcylcblxuICBpZiAodmFsdWUudmVyc2lvbiA9PT0gMiAmJiBidWZmZXIucG9zaXRpb24gPCBidWZmZXIubGVuZ3RoKSB7XG4gICAgY29uc3QgbnVtYmVyT2ZTZWdtZW50cyA9IGJ1ZmZlci5yZWFkVUludDMyTEUoYnVmZmVyLnBvc2l0aW9uKVxuICAgIGJ1ZmZlci5wb3NpdGlvbiArPSA0XG5cbiAgICAvLyBjb25zb2xlLmxvZyhcIm51bWJlck9mU2VnbWVudHNcIiwgbnVtYmVyT2ZTZWdtZW50cylcblxuICAgIHZhbHVlLnNlZ21lbnRzID0gcGFyc2VTZWdtZW50cyhidWZmZXIsIG51bWJlck9mU2VnbWVudHMpXG5cbiAgICAvLyBjb25zb2xlLmxvZyhcInNlZ21lbnRzXCIsIHNlZ21lbnRzKVxuICB9IGVsc2Uge1xuICAgIHZhbHVlLnNlZ21lbnRzID0gW11cbiAgfVxuXG4gIHJldHVybiB2YWx1ZVxufVxuXG5tb2R1bGUuZXhwb3J0cy5QQVJTRVJTID0ge1xuICBnZW9ncmFwaHkgKGJ1ZmZlcikge1xuICAgIHJldHVybiBwYXJzZUdlb2dyYXBoeShidWZmZXIsIC8qIGlzVXNpbmdHZW9tZXRyeVBvaW50czogKi9mYWxzZSlcbiAgfSxcblxuICBnZW9tZXRyeSAoYnVmZmVyKSB7XG4gICAgcmV0dXJuIHBhcnNlR2VvZ3JhcGh5KGJ1ZmZlciwgLyogaXNVc2luZ0dlb21ldHJ5UG9pbnRzOiAqL3RydWUpXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJQb2ludCIsImNvbnN0cnVjdG9yIiwieCIsInkiLCJ6IiwibSIsInBhcnNlUG9pbnRzIiwiYnVmZmVyIiwiY291bnQiLCJpc0dlb21ldHJ5UG9pbnQiLCJwb2ludHMiLCJpIiwicG9pbnQiLCJwdXNoIiwicmVhZERvdWJsZUxFIiwicG9zaXRpb24iLCJsYXQiLCJsbmciLCJwYXJzZVoiLCJmb3JFYWNoIiwicGFyc2VNIiwicGFyc2VGaWd1cmVzIiwicHJvcGVydGllcyIsImZpZ3VyZXMiLCJQIiwiYXR0cmlidXRlIiwicG9pbnRPZmZzZXQiLCJMIiwicmVhZFVJbnQ4IiwicmVhZEludDMyTEUiLCJwYXJzZVNoYXBlcyIsInNoYXBlcyIsInBhcmVudE9mZnNldCIsImZpZ3VyZU9mZnNldCIsInR5cGUiLCJwYXJzZVNlZ21lbnRzIiwic2VnbWVudHMiLCJwYXJzZUdlb2dyYXBoeSIsImlzVXNpbmdHZW9tZXRyeVBvaW50cyIsInNyaWQiLCJ2YWx1ZSIsInZlcnNpb24iLCJmbGFncyIsIloiLCJNIiwiViIsIkgiLCJudW1iZXJPZlBvaW50cyIsInJlYWRVSW50MzJMRSIsIm51bWJlck9mRmlndXJlcyIsIm51bWJlck9mU2hhcGVzIiwibGVuZ3RoIiwibnVtYmVyT2ZTZWdtZW50cyIsIm1vZHVsZSIsImV4cG9ydHMiLCJQQVJTRVJTIiwiZ2VvZ3JhcGh5IiwiZ2VvbWV0cnkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/mssql/lib/udt.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/mssql/lib/utils.js":
/*!*****************************************!*\
  !*** ./node_modules/mssql/lib/utils.js ***!
  \*****************************************/
/***/ ((module) => {

eval("\nconst IDS = new WeakMap();\nconst INCREMENT = {\n    Connection: 1,\n    ConnectionPool: 1,\n    Request: 1,\n    Transaction: 1,\n    PreparedStatement: 1\n};\nmodule.exports = {\n    objectHasProperty: (object, property)=>Object.prototype.hasOwnProperty.call(object, property),\n    INCREMENT,\n    IDS: {\n        get: IDS.get.bind(IDS),\n        add: (object, type, id)=>{\n            if (id) return IDS.set(object, id);\n            IDS.set(object, INCREMENT[type]++);\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbXNzcWwvbGliL3V0aWxzLmpzIiwibWFwcGluZ3MiOiI7QUFBQSxNQUFNQSxNQUFNLElBQUlDO0FBQ2hCLE1BQU1DLFlBQVk7SUFDaEJDLFlBQVk7SUFDWkMsZ0JBQWdCO0lBQ2hCQyxTQUFTO0lBQ1RDLGFBQWE7SUFDYkMsbUJBQW1CO0FBQ3JCO0FBRUFDLE9BQU9DLE9BQU8sR0FBRztJQUNmQyxtQkFBbUIsQ0FBQ0MsUUFBUUMsV0FBYUMsT0FBT0MsU0FBUyxDQUFDQyxjQUFjLENBQUNDLElBQUksQ0FBQ0wsUUFBUUM7SUFDdEZWO0lBQ0FGLEtBQUs7UUFDSGlCLEtBQUtqQixJQUFJaUIsR0FBRyxDQUFDQyxJQUFJLENBQUNsQjtRQUNsQm1CLEtBQUssQ0FBQ1IsUUFBUVMsTUFBTUM7WUFDbEIsSUFBSUEsSUFBSSxPQUFPckIsSUFBSXNCLEdBQUcsQ0FBQ1gsUUFBUVU7WUFDL0JyQixJQUFJc0IsR0FBRyxDQUFDWCxRQUFRVCxTQUFTLENBQUNrQixLQUFLO1FBQ2pDO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb3NvZGlmeS1iYWNrZW5kLy4vbm9kZV9tb2R1bGVzL21zc3FsL2xpYi91dGlscy5qcz9jZWQ1Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IElEUyA9IG5ldyBXZWFrTWFwKClcbmNvbnN0IElOQ1JFTUVOVCA9IHtcbiAgQ29ubmVjdGlvbjogMSxcbiAgQ29ubmVjdGlvblBvb2w6IDEsXG4gIFJlcXVlc3Q6IDEsXG4gIFRyYW5zYWN0aW9uOiAxLFxuICBQcmVwYXJlZFN0YXRlbWVudDogMVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgb2JqZWN0SGFzUHJvcGVydHk6IChvYmplY3QsIHByb3BlcnR5KSA9PiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSksXG4gIElOQ1JFTUVOVCxcbiAgSURTOiB7XG4gICAgZ2V0OiBJRFMuZ2V0LmJpbmQoSURTKSxcbiAgICBhZGQ6IChvYmplY3QsIHR5cGUsIGlkKSA9PiB7XG4gICAgICBpZiAoaWQpIHJldHVybiBJRFMuc2V0KG9iamVjdCwgaWQpXG4gICAgICBJRFMuc2V0KG9iamVjdCwgSU5DUkVNRU5UW3R5cGVdKyspXG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOlsiSURTIiwiV2Vha01hcCIsIklOQ1JFTUVOVCIsIkNvbm5lY3Rpb24iLCJDb25uZWN0aW9uUG9vbCIsIlJlcXVlc3QiLCJUcmFuc2FjdGlvbiIsIlByZXBhcmVkU3RhdGVtZW50IiwibW9kdWxlIiwiZXhwb3J0cyIsIm9iamVjdEhhc1Byb3BlcnR5Iiwib2JqZWN0IiwicHJvcGVydHkiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJnZXQiLCJiaW5kIiwiYWRkIiwidHlwZSIsImlkIiwic2V0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/mssql/lib/utils.js\n");

/***/ })

};
;